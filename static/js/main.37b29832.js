!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/react-paper-bindings/",e(e.s=28)}([function(t,e,n){"use strict";t.exports=n(35)},function(t,e,n){t.exports=n(46)()},function(t,e,n){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,o,l=i(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)s.call(n,c)&&(l[c]=n[c]);if(r){o=r(n);for(var h=0;h<o.length;h++)a.call(n,o[h])&&(l[o[h]]=n[o[h]])}}return l}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function i(t){return function(){return t}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";function i(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]="number"===typeof t[n]?t[n]:t[n].val);return e}e.__esModule=!0,e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}i(),t.exports=n(36)},function(t,e,n){"use strict";var i={};t.exports=i},function(t,e,n){"use strict";function i(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=0);return e}e.__esModule=!0,e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n,i,s,a,o){var l=-s*(e-i),u=-a*n,c=l+u,h=n+c*t,f=e+h*t;return Math.abs(h)<o&&Math.abs(f-i)<o?(r[0]=i,r[1]=0,r):(r[0]=f,r[1]=h,r)}e.__esModule=!0,e.default=i;var r=[0,0];t.exports=e.default},function(t,e,n){(function(e){(function(){var n,i,r;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-r)/1e6},i=e.hrtime,n=function(){var t;return t=i(),1e9*t[0]+t[1]},r=n()):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(e,n(24))},function(t,e,n){(function(e){for(var i=n(87),r="undefined"===typeof window?e:window,s=["moz","webkit"],a="AnimationFrame",o=r["request"+a],l=r["cancel"+a]||r["cancelRequest"+a],u=0;!o&&u<s.length;u++)o=r[s[u]+"Request"+a],l=r[s[u]+"Cancel"+a]||r[s[u]+"CancelRequest"+a];if(!o||!l){var c=0,h=0,f=[];o=function(t){if(0===f.length){var e=i(),n=Math.max(0,1e3/60-(e-c));c=n+e,setTimeout(function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(t){setTimeout(function(){throw t},0)}},Math.round(n))}return f.push({handle:++h,callback:t,cancelled:!1}),h},l=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return o.call(r,t)},t.exports.cancel=function(){l.apply(r,arguments)},t.exports.polyfill=function(t){t||(t=r),t.requestAnimationFrame=o,t.cancelAnimationFrame=l}}).call(e,n(3))},function(t,e,n){"use strict";function i(t,e,n){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(0!==n[i])return!1;var r="number"===typeof e[i]?e[i]:e[i].val;if(t[i]!==r)return!1}return!0}e.__esModule=!0,e.default=i,t.exports=e.default},function(t,e,n){var i,r,s,i,s,a=function(o,l){o=o||n(110);var u=o.window,c=o.document,h=new function(){function t(t,i,r,s,l){function u(n,u){"string"===typeof(u=u||(u=a(i,n))&&(u.get?u:u.value))&&"#"===u[0]&&(u=t[u.substring(1)]||u);var h,f="function"===typeof u,d=u,p=l||f&&!u.base?u&&u.get?n in t:t[n]:null;l&&p||(f&&p&&(u.base=p),f&&!1!==s&&(h=n.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(c[h[3].toLowerCase()+h[4]]=h[2]),d&&!f&&d.get&&"function"===typeof d.get&&e.isPlainObject(d)||(d={value:d,writable:!0}),(a(t,n)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=null!=r?r:!h),o(t,n,d))}var c={};if(i){for(var h in i)i.hasOwnProperty(h)&&!n.test(h)&&u(h);for(var h in c){var f=c[h],d=t["set"+f],p=t["get"+f]||d&&t["is"+f];!p||!0!==s&&0!==p.length||u(h,{get:p,set:d})}}return t}function e(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&h(this,n)}return this}var n=/^(statics|enumerable|beans|preserve)$/,i=[],r=i.slice,s=Object.create,a=Object.getOwnPropertyDescriptor,o=Object.defineProperty,u=i.forEach||function(t,e){for(var n=0,i=this.length;n<i;n++)t.call(e,this[n],n,this)},c=function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)},h=Object.assign||function(t){for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},f=function(t,e,n){if(t){var i=a(t,"length");(i&&"number"===typeof i.value?u:c).call(t,e,n=n||t)}return n};return t(e,{inject:function(e){if(e){var n=!0===e.statics?e:e.statics,i=e.beans,r=e.preserve;n!==e&&t(this.prototype,e,e.enumerable,i,r),t(this,n,null,i,r)}for(var s=1,a=arguments.length;s<a;s++)this.inject(arguments[s]);return this},extend:function(){for(var e,n,i,r=this,a=0,l=arguments.length;a<l&&(!e||!n);a++)i=arguments[a],e=e||i.initialize,n=n||i.prototype;return e=e||function(){r.apply(this,arguments)},n=e.prototype=n||s(this.prototype),o(n,"constructor",{value:e,writable:!0,configurable:!0}),t(e,this),arguments.length&&this.inject.apply(e,arguments),e.base=r,e}}).inject({enumerable:!1,initialize:e,set:e,inject:function(){for(var e=0,n=arguments.length;e<n;e++){var i=arguments[e];i&&t(this,i,i.enumerable,i.beans,i.preserve)}return this},extend:function(){var t=s(this);return t.inject.apply(t,arguments)},each:function(t,e){return f(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:h,each:f,create:s,define:o,describe:a,clone:function(t){return h(new t.constructor,t)},isPlainObject:function(t){var n=null!=t&&t.constructor;return n&&(n===Object||n===e||"Object"===n.name)},pick:function(t,e){return t!==l?t:e},slice:function(t,e,n){return r.call(t,e,n)}}})};t.exports=h,h.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+h.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?g.instance.number(t):"string"===n?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return h.importJSON(t,this)},exportJSON:function(t){return h.exportJSON(this,t)},toJSON:function(){return h.serialize(this)},set:function(t,e){return t&&h.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!h.exports[n]&&(h.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"===typeof t&&"object"===typeof e){if(Array.isArray(t)&&Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(!h.equals(t[n],e[n]))return!1}else{var i=Object.keys(t),n=i.length;if(n!==Object.keys(e).length)return!1;for(;n--;){var r=i[n];if(!e.hasOwnProperty(r)||!h.equals(t[r],e[r]))return!1}}return!0}return!1},read:function(t,e,n,i){if(this===h){var r=this.peek(t,e);return t.__index++,r}var s=this.prototype,a=s._readIndex,o=e||a&&t.__index||0,u=t.length,c=t[o];if(i=i||u-o,c instanceof this||n&&n.readNull&&null==c&&i<=1)return a&&(t.__index=o+1),c&&n&&n.clone?c.clone():c;if(c=h.create(s),a&&(c.__read=!0),c=c.initialize.apply(c,o>0||o+i<u?h.slice(t,o,o+i):t)||c,a){t.__index=o+c.__read;var f=c.__filtered;f&&(t.__filtered=f,c.__filtered=l),c.__read=l}return c},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,i){for(var r,s=[],a=e||0,o=i?a+i:t.length,l=a;l<o;l++)s.push(Array.isArray(r=t[l])?this.read(r,0,n):this.read(t,l,n,1));return s},readNamed:function(t,e,n,i,r){var s=this.getNamed(t,e),a=s!==l;if(a){var o=t.__filtered;o||(o=t.__filtered=h.create(t[0]),o.__unfiltered=t[0]),o[e]=l}var u=a?[s]:t;return this.read(u,n,i,r)},getNamed:function(t,e){var n=t[0];if(t._hasObject===l&&(t._hasObject=1===t.length&&h.isPlainObject(n)),t._hasObject)return e?n[e]:t.__filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,i){function r(i){if(!(n&&i in n)&&!(s&&i in s)){var r=e[i];r!==l&&(t[i]=r)}}var s;if(i){for(var a,o={},u=0,c=i.length;u<c;u++)(a=i[u])in e&&(r(a),o[a]=!0);s=o}return Object.keys(e.__unfiltered||e).forEach(r),t},isPlainValue:function(t,e){return h.isPlainObject(t)||Array.isArray(t)||e&&"string"===typeof t},serialize:function(t,e,n,i){e=e||{};var r,s=!i;if(s&&(e.formatter=new g(e.precision),i={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,i=this.references[n];if(!i){this.length++;var r=e.call(t),s=t._class;s&&r[0]!==s&&r.unshift(s),this.definitions[n]=r,i=this.references[n]=[n]}return i}}),t&&t._serialize){r=t._serialize(e,i);var a=t._class;!a||t._compactSerialize||!s&&n||r[0]===a||r.unshift(a)}else if(Array.isArray(t)){r=[];for(var o=0,l=t.length;o<l;o++)r[o]=h.serialize(t[o],e,n,i)}else if(h.isPlainObject(t)){r={};for(var u=Object.keys(t),o=0,l=u.length;o<l;o++){var c=u[o];r[c]=h.serialize(t[c],e,n,i)}}else r="number"===typeof t?e.formatter.number(t,e.precision):t;return s&&i.length>0?[["dictionary",i.definitions],r]:r},deserialize:function(t,e,n,i,r){var s=t,a=!n,o=a&&t&&t.length&&"dictionary"===t[0][0];if(n=n||{},Array.isArray(t)){var l=t[0],u="dictionary"===l;if(1==t.length&&/^#/.test(l))return n.dictionary[l];l=h.exports[l],s=[];for(var c=l?1:0,f=t.length;c<f;c++)s.push(h.deserialize(t[c],e,n,u,o));if(l){var d=s;e?s=e(l,d,a||r):(s=h.create(l.prototype),l.apply(s,d))}}else if(h.isPlainObject(t)){s={},i&&(n.dictionary=s);for(var p in t)s[p]=h.deserialize(t[p],e,n)}return o?s[1]:s},exportJSON:function(t,e){var n=h.serialize(t,e);return e&&0==e.asString?n:JSON.stringify(n)},importJSON:function(t,e){return h.deserialize("string"===typeof t?JSON.parse(t):t,function(t,n,i){var r=i&&e&&e.constructor===t,s=r?e:h.create(t.prototype);if(1===n.length&&s instanceof P&&(r||!(s instanceof O))){var a=n[0];h.isPlainObject(a)&&(a.insert=!1)}return(r?s.set:t).apply(s,n),r&&(e=null),s})},splice:function(t,e,n,i){var r=e&&e.length,s=n===l;(n=s?t.length:n)>t.length&&(n=t.length);for(var a=0;a<r;a++)e[a]._index=n+a;if(s)return t.push.apply(t,e),[];var o=[n,i];e&&o.push.apply(o,e);for(var u=t.splice.apply(t,o),a=0,c=u.length;a<c;a++)u[a]._index=l;for(var a=n+r,c=t.length;a<c;a++)t[a]._index=a;return u},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var f={on:function(t,e){if("string"!==typeof t)h.each(t,function(t,e){this.on(e,t)},this);else{var n=this._eventTypes,i=n&&n[t],r=this._callbacks=this._callbacks||{};r=r[t]=r[t]||[],-1===r.indexOf(e)&&(r.push(e),i&&i.install&&1===r.length&&i.install.call(this,t))}return this},off:function(t,e){if("string"!==typeof t)return void h.each(t,function(t,e){this.off(e,t)},this);var n,i=this._eventTypes,r=i&&i[t],s=this._callbacks&&this._callbacks[t];return s&&(!e||-1!==(n=s.indexOf(e))&&1===s.length?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):-1!==n&&s.splice(n,1)),this},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var i=h.slice(arguments,1),r=e&&e.target&&!e.currentTarget;n=n.slice(),r&&(e.currentTarget=this);for(var s=0,a=n.length;s<a;s++)if(0==n[s].apply(this,i)){e&&e.stop&&e.stop();break}return r&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,i=t?"install":"uninstall";if(e)for(var r in n)if(n[r].length>0){var s=e[r],a=s&&s[i];a&&a.call(this,r)}},statics:{inject:function t(e){var n=e._events;if(n){var i={};h.each(n,function(t,n){var r="string"===typeof t,s=r?t:n,a=h.capitalize(s),o=s.substring(2).toLowerCase();i[o]=r?{}:t,s="_"+s,e["get"+a]=function(){return this[s]},e["set"+a]=function(t){var e=this[s];e&&this.off(o,e),t&&this.on(o,t),this[s]=t}}),e._eventTypes=i}return t.base.apply(this,arguments)}}},d=h.extend({_class:"PaperScope",initialize:function t(){a=this,this.settings=new h({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=ot.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:lt.nativeModes},ot.release(n)}if(!this.agent){var i=o.navigator.userAgent.toLowerCase(),r=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],s="darwin"===r?"mac":r,l=e.agent=e.browser={platform:s};s&&(l[s]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,n,i,r){if(!l.chrome){var s="opera"===e?i:/^(node|trident)$/.test(e)?r:n;l.version=s,l.versionNumber=parseFloat(s),e="trident"===e?"msie":e,l.name=e,l[e]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.11.5",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){a.PaperScript.execute(t,this,e),Q.updateFocus()},install:function(t){var e=this;h.each(["project","view","tool"],function(n){h.define(t,n,{configurable:!0,get:function(){return e[n]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return a=this,this.project=new T(t),this},createCanvas:function(t,e){return ot.getCanvas(t,e)},activate:function(){a=this},clear:function(){for(var t=this.projects,e=this.tools,n=t.length-1;n>=0;n--)t[n].remove();for(var n=e.length-1;n>=0;n--)e[n].remove()},remove:function(){this.clear(),delete d._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),p=h.extend(f,{initialize:function(t){this._scope=a,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(h.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),g=h.extend({initialize:function(t){this.precision=h.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});g.instance=new g;var v=new function(){function t(t,e,n){return t<e?e:t>n?n:t}function e(t,e,n){function i(t){var e=134217729*t,n=t-e,i=n+e;return[i,t-i]}var r=e*e-t*n,a=e*e+t*n;if(3*s(r)<a){var o=i(t),l=i(e),u=i(n),c=e*e,h=l[0]*l[0]-c+2*l[0]*l[1]+l[1]*l[1],f=t*n;r=c-f+(h-(o[0]*u[0]-f+o[0]*u[1]+o[1]*u[0]+o[1]*u[1]))}return r}function n(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?o(2,-Math.round(l(t))):0}var i=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,a=Math.sqrt,o=Math.pow,l=Math.log2||function(t){return Math.log(t)*Math.LOG2E};return{EPSILON:1e-12,MACHINE_EPSILON:1.12e-16,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(t){return t>=-1e-12&&t<=1e-12},clamp:t,integrate:function(t,e,n,s){for(var a=i[s-2],o=r[s-2],l=.5*(n-e),u=l+e,c=0,h=s+1>>1,f=1&s?o[c++]*t(u):0;c<h;){var d=l*a[c];f+=o[c++]*(t(u+d)+t(u-d))}return l*f},findRoot:function(e,n,i,r,a,o,l){for(var u=0;u<o;u++){var c=e(i),h=c/n(i),f=i-h;if(s(h)<l){i=f;break}c>0?(a=i,i=f<=r?.5*(r+a):f):(r=i,i=f>=a?.5*(r+a):f)}return t(i,r,a)},solveQuadratic:function(i,r,o,l,u,c){var h,f=1/0;if(s(i)<1e-12){if(s(r)<1e-12)return s(o)<1e-12?-1:0;h=-o/r}else{r*=-.5;var d=e(i,r,o);if(d&&s(d)<1.12e-16){var p=n(s(i),s(r),s(o));p&&(i*=p,r*=p,o*=p,d=e(i,r,o))}if(d>=-1.12e-16){var g=d<0?0:a(d),v=r+(r<0?-g:g);0===v?(h=o/i,f=-h):(h=v/i,f=o/v)}}var m=0,_=null==u,y=u-1e-12,b=c+1e-12;return isFinite(h)&&(_||h>y&&h<b)&&(l[m++]=_?h:t(h,u,c)),f!==h&&isFinite(f)&&(_||f>y&&f<b)&&(l[m++]=_?f:t(f,u,c)),m},solveCubic:function(e,i,r,l,u,c,h){function f(t){d=t;var n=e*d;p=n+i,g=p*d+r,m=(n+p)*d+g,_=g*d+l}var d,p,g,m,_,y=n(s(e),s(i),s(r),s(l));if(y&&(e*=y,i*=y,r*=y,l*=y),s(e)<1e-12)e=i,p=r,g=l,d=1/0;else if(s(l)<1e-12)p=i,g=r,d=0;else{f(-i/e/3);var b=_/e,w=o(s(b),1/3),x=b<0?-1:1,C=-m/e,S=C>0?1.324717957244746*Math.max(w,a(C)):w,k=d-x*S;if(k!==d){do{f(k),k=0===m?d:d-_/m/(1+1.12e-16)}while(x*k>x*d);s(e)*d*d>s(l/d)&&(g=-l/d,p=(g-r)/d)}}var T=v.solveQuadratic(e,p,g,u,c,h),P=null==c;return isFinite(d)&&(0===T||T>0&&d!==u[0]&&d!==u[1])&&(P||d>c-1e-12&&d<h+1e-12)&&(u[T++]=P?d:t(d,c,h)),T}}},m={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},_=h.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var s="number"===typeof e;this._set(t,s?e:t),i&&(r=s?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var a="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"x"in a?this._set(a.x||0,a.y||0):"width"in a?this._set(a.width||0,a.height||0):"angle"in a?(this._set(a.length||0,0),this.setAngle(a.angle||0)):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new _(this.x,this.y)},toString:function(){var t=g.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();v.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=_.read(arguments),e=this.getLength()*t.getLength();if(v.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=_.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=_.read(arguments),e=t.x-this.x,n=t.y-this.y,i=e*e+n*n;return h.read(arguments)?i:Math.sqrt(i)},normalize:function(t){t===l&&(t=1);var e=this.getLength(),n=0!==e?t/e:0,i=new _(this.x*n,this.y*n);return n>=0&&(i._angle=this._angle),i},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,i=Math.sin(t),r=Math.cos(t);return n=new _(n.x*r-n.y*i,n.x*i+n.y*r),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=_.read(arguments);return new _(this.x+t.x,this.y+t.y)},subtract:function(){var t=_.read(arguments);return new _(this.x-t.x,this.y-t.y)},multiply:function(){var t=_.read(arguments);return new _(this.x*t.x,this.y*t.y)},divide:function(){var t=_.read(arguments);return new _(this.x/t.x,this.y/t.y)},modulo:function(){var t=_.read(arguments);return new _(this.x%t.x,this.y%t.y)},negate:function(){return new _(-this.x,-this.y)},isInside:function(){return x.read(arguments).contains(this)},isClose:function(){var t=_.read(arguments),e=h.read(arguments);return this.getDistance(t)<=e},isCollinear:function(){var t=_.read(arguments);return _.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=_.read(arguments);return _.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=v.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=_.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=_.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=_.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new _(t.x*e,t.y*e)},statics:{min:function(){var t=_.read(arguments),e=_.read(arguments);return new _(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=_.read(arguments),e=_.read(arguments);return new _(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new _(Math.random(),Math.random())},isCollinear:function(t,e,n,i){return Math.abs(t*i-e*n)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))},isOrthogonal:function(t,e,n,i){return Math.abs(t*n+e*i)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))}}},h.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new _(e(this.x),e(this.y))}},{})),y=_.extend({initialize:function(t,e,n,i){this._x=t,this._y=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),b=h.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var s="number"===typeof e;this._set(t,s?e:t),i&&(r=s?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var a="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"width"in a?this._set(a.width||0,a.height||0):"x"in a?this._set(a.x||0,a.y||0):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new b(this.width,this.height)},toString:function(){var t=g.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=b.read(arguments);return new b(this.width+t.width,this.height+t.height)},subtract:function(){var t=b.read(arguments);return new b(this.width-t.width,this.height-t.height)},multiply:function(){var t=b.read(arguments);return new b(this.width*t.width,this.height*t.height)},divide:function(){var t=b.read(arguments);return new b(this.width/t.width,this.height/t.height)},modulo:function(){var t=b.read(arguments);return new b(this.width%t.width,this.height%t.height)},negate:function(){return new b(-this.width,-this.height)},isZero:function(){var t=v.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new b(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new b(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new b(Math.random(),Math.random())}}},h.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new b(e(this.width),e(this.height))}},{})),w=b.extend({initialize:function(t,e,n,i){this._width=t,this._height=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),x=h.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,n,i){var r,s=typeof t;if("number"===s?(this._set(t,e,n,i),r=4):"undefined"===s||null===t?(this._set(0,0,0,0),r=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this._set.apply(this,t),r=1):t.x!==l||t.width!==l?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),r=1):t.from===l&&t.to===l&&(this._set(0,0,0,0),h.filter(this,t),r=1)),r===l){var a,o,u=_.readNamed(arguments,"from"),c=h.peek(arguments),f=u.x,d=u.y;if(c&&c.x!==l||h.hasNamed(arguments,"to")){var p=_.readNamed(arguments,"to");a=p.x-f,o=p.y-d,a<0&&(f=p.x,a=-a),o<0&&(d=p.y,o=-o)}else{var g=b.read(arguments);a=g.width,o=g.height}this._set(f,d,a,o),r=arguments.__index;var v=arguments.__filtered;v&&(this.__filtered=v)}return this.__read&&(this.__read=r),this},set:"#initialize",_set:function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},clone:function(){return new x(this.x,this.y,this.width,this.height)},equals:function(t){var e=h.isPlainValue(t)?x.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=g.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?_:y)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=_.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?b:w)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=b.read(arguments),e=this._sx,n=this._sy,i=t.width,r=t.height;e&&(this.x+=(this.width-i)*e),n&&(this.y+=(this.height-r)*n),this.width=i,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){return new(t?_:y)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=_.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==l||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(x.read(arguments)):this._containsPoint(_.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=x.read(arguments),e=h.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=x.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),i=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new x(e,n,i-e,r-n)},unite:function(){var t=x.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new x(e,n,i-e,r-n)},include:function(){var t=_.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new x(e,n,i-e,r-n)},expand:function(){var t=b.read(arguments),e=t.width,n=t.height;return new x(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===l?t:e)-this.height)}},h.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),i=/^[RL]/.test(n);e>=4&&(t[1]+=i?"Y":"X");var r=t[i?0:1],s=t[i?1:0],a="get"+r,o="get"+s,l="set"+r,u="set"+s,c="get"+n,h="set"+n;this[c]=function(t){return new(t?_:y)(this[a](),this[o](),this,h)},this[h]=function(){var t=_.read(arguments);this[l](t.x),this[u](t.y)}},{beans:!0})),C=x.extend({initialize:function(t,e,n,i,r,s){this._set(t,e,n,i,!0),this._owner=r,this._setter=s},_set:function(t,e,n,i,r){return this._x=t,this._y=e,this._width=n,this._height=i,r||this._owner[this._setter](this),this}},new function(){var t=x.prototype;return h.each(["x","y","width","height"],function(t){var e=h.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._dontNotify||this._owner[this._setter](this)}},h.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),S=h.extend({_class:"Matrix",initialize:function t(e,n){var i=arguments.length,r=!0;if(i>=6?this._set.apply(this,arguments):1===i||2===i?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):r=!1:i?r=!1:this.reset(),!r)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,i,r,s,a){return this._a=t,this._b=e,this._c=n,this._d=i,this._tx=r,this._ty=s,a||this._changed(),this},_serialize:function(t,e){return h.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new S(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=g.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return!!n&&(n.transform(null,!0,h.pick(t,!0),e),this.isIdentity())},translate:function(){var t=_.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=_.read(arguments),e=_.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=_.read(arguments,1),n=e.x,i=e.y,r=Math.cos(t),s=Math.sin(t),a=n-n*r+i*s,o=i-n*s-i*r,l=this._a,u=this._b,c=this._c,h=this._d;return this._a=r*l+s*c,this._b=r*u+s*h,this._c=-s*l+r*c,this._d=-s*u+r*h,this._tx+=a*l+o*c,this._ty+=a*u+o*h,this._changed(),this},shear:function(){var t=_.read(arguments),e=_.read(arguments,0,{readNull:!0});e&&this.translate(e);var n=this._a,i=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*n,this._d+=t.x*i,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=_.read(arguments),e=_.read(arguments,0,{readNull:!0}),n=Math.PI/180,i=new _(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(i,e)},append:function(t,e){if(t){var n=this._a,i=this._b,r=this._c,s=this._d,a=t._a,o=t._c,l=t._b,u=t._d,c=t._tx,h=t._ty;this._a=a*n+l*r,this._c=o*n+u*r,this._b=a*i+l*s,this._d=o*i+u*s,this._tx+=c*n+h*r,this._ty+=c*i+h*s,e||this._changed()}return this},prepend:function(t,e){if(t){var n=this._a,i=this._b,r=this._c,s=this._d,a=this._tx,o=this._ty,l=t._a,u=t._c,c=t._b,h=t._d,f=t._tx,d=t._ty;this._a=l*n+u*i,this._c=l*r+u*s,this._b=c*n+h*i,this._d=c*r+h*s,this._tx=l*a+u*o+f,this._ty=c*a+h*o+d,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,i=this._d,r=this._tx,s=this._ty,a=t*i-e*n,o=null;return a&&!isNaN(a)&&isFinite(r)&&isFinite(s)&&(this._a=i/a,this._b=-e/a,this._c=-n/a,this._d=t/a,this._tx=(n*s-i*r)/a,this._ty=(e*r-t*s)/a,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new S(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(_.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var i=t.x,r=t.y;return e||(e=new _),e._set(i*this._a+r*this._c+this._tx,i*this._b+r*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var i=0,r=2*n;i<r;i+=2){var s=t[i],a=t[i+1];e[i]=s*this._a+a*this._c+this._tx,e[i+1]=s*this._b+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,i=e+t.width,r=n+t.height,s=[e,n,i,n,i,r,e,r];return this._transformCoordinates(s,s,4)},_transformBounds:function(t,e,n){for(var i=this._transformCorners(t),r=i.slice(0,2),s=r.slice(),a=2;a<8;a++){var o=i[a],l=1&a;o<r[l]?r[l]=o:o>s[l]&&(s[l]=o)}return e||(e=new x),e._set(r[0],r[1],s[0]-r[0],s[1]-r[1],n)},inverseTransform:function(){return this._inverseTransform(_.read(arguments))},_inverseTransform:function(t,e,n){var i=this._a,r=this._b,s=this._c,a=this._d,o=this._tx,l=this._ty,u=i*a-r*s,c=null;if(u&&!isNaN(u)&&isFinite(o)&&isFinite(l)){var h=t.x-this._tx,f=t.y-this._ty;e||(e=new _),c=e._set((h*a-f*s)/u,(f*i-h*r)/u,n)}return c},decompose:function(){var t,e,n,i=this._a,r=this._b,s=this._c,a=this._d,o=i*a-r*s,l=Math.sqrt,u=Math.atan2,c=180/Math.PI;if(0!==i||0!==r){var h=l(i*i+r*r);t=Math.acos(i/h)*(r>0?1:-1),e=[h,o/h],n=[u(i*s+r*a,h*h),0]}else if(0!==s||0!==a){var f=l(s*s+a*a);t=Math.asin(s/f)*(a>0?1:-1),e=[o/f,f],n=[0,u(i*s+r*a,f*f)]}else t=0,n=e=[0,0];return{translation:this.getTranslation(),rotation:t*c,scaling:new _(e),skewing:new _(n[0]*c,n[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new _(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},h.each(["a","b","c","d","tx","ty"],function(t){var e=h.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._changed()}},{})),k=h.extend({_class:"Line",initialize:function(t,e,n,i,r){var s=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=n,this._vy=i,s=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,s=n),s||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new _(this._px,this._py)},getVector:function(){return new _(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return k.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return k.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return k.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return _.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return _.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,i,r,s,a,o,l,u){l||(n-=t,i-=e,a-=r,o-=s);var c=n*o-i*a;if(!v.isZero(c)){var h=t-r,f=e-s,d=(a*f-o*h)/c,p=(n*f-i*h)/c;if(u||-1e-12<d&&d<1+1e-12&&-1e-12<p&&p<1+1e-12)return u||(d=d<=0?0:d>=1?1:d),new _(t+d*n,e+d*i)}},getSide:function(t,e,n,i,r,s,a,o){a||(n-=t,i-=e);var l=r-t,u=s-e,c=l*i-u*n;return!o&&v.isZero(c)&&(c=(l*n+l*n)/(n*n+i*i))>=0&&c<=1&&(c=0),c<0?-1:c>0?1:0},getSignedDistance:function(t,e,n,i,r,s,a){return a||(n-=t,i-=e),0===n?i>0?r-t:t-r:0===i?n<0?s-e:e-s:((r-t)*i-(s-e)*n)/Math.sqrt(n*n+i*i)},getDistance:function(t,e,n,i,r,s,a){return Math.abs(k.getSignedDistance(t,e,n,i,r,s,a))}}}),T=p.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){p.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new K(null,null,this),this._view=Q.create(this,t||ot.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return h.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&e){var r=this._changesById,s=e._id,a=r[s];a?a.flags|=t:i.push(r[s]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new O({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:M,match:function(n){var i=n._definition,r=i._id;return e[r]||(e[r]=!0,t.push(i)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var i=t[n],r=i._selection;1&r&&i.isInserted()?e.push(i):r||this._updateSelection(i)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(l,t)},insertLayer:function(t,e){if(e instanceof O){e._remove(!1,!0),h.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(l,new O(P.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return P._getItems(this,t)},getItem:function(t){return P._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return h.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var i in n){var r=n[i];for(var s in e){var a=e[s];a&&a!=n&&delete a[r._id]}r.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var i=this._children,r=new h({offset:new _(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new S],updateMatrix:!0}),s=0,a=i.length;s<a;s++)i[s].draw(t,r);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var o=this._selectionItems,l=this._scope.settings.handleSize,u=this._updateVersion;for(var c in o)o[c]._drawSelection(t,e,l,o,u);t.restore()}}}),P=h.extend(f,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=h.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new S,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return h.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&h.isPlainObject(t),i=n&&!0===t.internal,r=this._matrix=new S,s=n&&t.project||a.project,o=a.settings;return this._id=i?null:m.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&o.applyMatrix,e&&r.translate(e),r._owner=this,this._style=new K(s._currentStyle,this,s),i||n&&0==t.insert||!o.insertItems&&(!n||!0!==t.insert)?this._setProject(s):(n&&t.parent||s)._insertItem(l,this,!0),n&&t!==P.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){function n(n){for(var s in n){var a=r[s];h.equals(a,"leading"===s?1.2*n.fontSize:n[s])||(i[s]=h.serialize(a,t,"data"!==s,e))}}var i={},r=this;return n(this._serializeFields),this instanceof E||n(this._style._defaults),[this._class,i]},_changed:function(t){var e=this._symbol,n=this._parent||e,i=this._project;8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=l),n&&40&t&&P._clearBoundsCache(n),2&t&&P._clearBoundsCache(this),i&&i._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,i=e._namedChildren;(i[t]=i[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||l,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},h.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=h.capitalize(t),n="_"+t,i={locked:128,visible:137};this["get"+e]=function(){return this[n]},this["set"+e]=function(e){e!=this[n]&&(this[n]=e,this._changed(i[t]||129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(129))}},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var n=0,i=t.length;n<i;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,i=e.length;n<i;n++)e[n].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,n=t?_:y;if(!e){var i=this._pivot;e=this._position=i?this._matrix._transformPoint(i):this.getBounds().getCenter(!0)}return new n(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(_.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var t=this._pivot;return t?new y(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=_.read(arguments,0,{clone:!0,readNull:!0}),this._position=l}},h.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(t,e){var n=e||t instanceof S,i=h.set({},n?e:t,this._boundsOptions);i.stroke&&!this.getStrokeScaling()||(i.cacheItem=this);var r=this._getCachedBounds(n&&t,i).rect;return arguments.length?r:new C(r.x,r.y,r.width,r.height,this,"setBounds")},setBounds:function(){var t=x.read(arguments),e=this.getBounds(),n=this._matrix,i=new S,r=t.getCenter();i.translate(r),t.width==e.width&&t.height==e.height||(n.isInvertible()||(n.set(n._backup||(new S).translate(n.getTranslation())),e=this.getBounds()),i.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),r=e.getCenter(),i.translate(-r.x,-r.y),this.transform(i)},_getBounds:function(t,e){var n=this._children;return n&&n.length?(P._updateBoundsCache(this,e.cacheItem),P._getBounds(n,t,e)):new x},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,n){t=t&&t._orNullIfIdentity();var i=e.internal&&!n,r=e.cacheItem,s=i?null:this._matrix._orNullIfIdentity(),a=r&&(!t||t.equals(s))&&this._getBoundsCacheKey(e,i),o=this._bounds;if(P._updateBoundsCache(this._parent||this._symbol,r),a&&o&&a in o){var l=o[a];return{rect:l.rect.clone(),nonscaling:l.nonscaling}}var u=this._getBounds(t||s,e),c=u.rect||u,h=this._style,f=u.nonscaling||h.hasStroke()&&!h.getStrokeScaling();if(a){o||(this._bounds=o={});var l=o[a]={rect:c.clone(),nonscaling:f,internal:i}}return{rect:c,nonscaling:f}},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():t;return i&&i._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,i=t._boundsCache=t._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(e),i.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=l;for(var n=0,i=e.list,r=i.length;n<r;n++){var s=i[n];s!==t&&(s._bounds=s._position=l,s._boundsCache&&P._clearBoundsCache(s))}}},_getBounds:function(t,e,n){var i=1/0,r=-i,s=i,a=r,o=!1;n=n||{};for(var l=0,u=t.length;l<u;l++){var c=t[l];if(c._visible&&!c.isEmpty()){var h=c._getCachedBounds(e&&e.appended(c._matrix),n,!0),f=h.rect;i=Math.min(f.x,i),s=Math.min(f.y,s),r=Math.max(f.x+f.width,r),a=Math.max(f.y+f.height,a),h.nonscaling&&(o=!0)}}return{rect:isFinite(i)?new x(i,s,r-i,a-s):new x,nonscaling:o}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new y(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=_.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this.getRotation(),i=this._decomposed,r=new S,s=this.getPosition(!0);r.translate(s),n&&r.rotate(n),r.scale(e.x/t.x,e.y/t.y),n&&r.rotate(-n),r.translate(s.negate()),this.transform(r),i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,n=this._project._updateVersion;if(e&&e._updateVersion!==n&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&e.prepend(i.getGlobalMatrix(!0)),e._updateVersion=n}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof O)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return h.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(P.NO_INSERT),n=this._children,i=h.pick(t?t.insert:l,t===l||!0===t),r=h.pick(t?t.deep:l,!0);n&&e.copyAttributes(this),n&&!r||e.copyContent(this),n||e.copyAttributes(this),i&&e.insertAbove(this);var s=this._name,a=this._parent;if(s&&a){for(var n=a._children,o=s,u=1;n[s];)s=o+" "+u++;s!==o&&e.setName(s)}return e},copyContent:function(t){for(var e=t._children,n=0,i=e&&e.length;n<i;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,r=n.length;i<r;i++){var s=n[i];t.hasOwnProperty(s)&&(this[s]=t[s])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var a=t._data,o=t._name;this._data=a?h.clone(a):null,o&&this.setName(o)},rasterize:function(t,e){var n=this.getStrokeBounds(),i=(t||this.getView().getResolution())/72,r=n.getTopLeft().floor(),s=n.getBottomRight().ceil(),a=new b(s.subtract(r)),o=new A(P.NO_INSERT);if(!a.isZero()){var u=ot.getCanvas(a.multiply(i)),c=u.getContext("2d"),f=(new S).scale(i).translate(r.negate());c.save(),f.applyToContext(c),this.draw(c,new h({matrices:[f]})),c.restore(),o.setCanvas(u)}return o.transform((new S).translate(r.add(a.divide(2))).scale(1/i)),(e===l||e)&&o.insertAbove(this),o},contains:function(){return!!this._contains(this._matrix._inverseTransform(_.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return x.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new B.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof P&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){return this._hitTest(_.read(arguments),L.getOptions(arguments))}function e(){var t=_.read(arguments),e=L.getOptions(arguments),n=[];return this._hitTest(t,h.set({all:n},e)),n}function n(t,e,n,i){var r=this._children;if(r)for(var s=r.length-1;s>=0;s--){var a=r[s],o=a!==i&&a._hitTest(t,e,n);if(o&&!e.all)return o}return null}return T.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){function i(t){return t&&d&&!d(t)&&(t=null),t&&e.all&&e.all.push(t),t}function r(e,n){var i=n?u["get"+n]():p.getPosition();if(t.subtract(i).divide(l).length<=1)return new L(e,p,{name:n?h.hyphenate(n):e,point:i})}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var s=this._matrix,a=n?n.appended(s):this.getGlobalMatrix().prepend(this.getView()._matrix),o=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new b(B._getStrokePadding(o,s._shiftless().invert()));if(!(t=s._inverseTransform(t))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(t))return null;var u,c,f=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==h.hyphenate(this._class)||e.class&&!(this instanceof e.class)),d=e.match,p=this,g=e.position,v=e.center,m=e.bounds;if(f&&this._parent&&(g||v||m)){if((v||m)&&(u=this.getInternalBounds()),!(c=g&&r("position")||v&&r("center","Center"))&&m)for(var _=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],y=0;y<8&&!c;y++)c=r("bounds",_[y]);c=i(c)}return c||(c=this._hitTestChildren(t,e,a)||f&&i(this._hitTestSelf(t,e,a,this.getStrokeScaling()?null:a._shiftless().invert()))||null),c&&c.point&&(c.point=s.transform(c.point)),c},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new L("fill",this)},matches:function(t,e){function n(t,e){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],s=e[i];if(h.isPlainObject(r)&&h.isPlainObject(s)){if(!n(r,s))return!1}else if(!h.equals(r,s))return!1}return!0}var i=typeof t;if("object"===i){for(var r in t)if(t.hasOwnProperty(r)&&!this.matches(r,t[r]))return!1;return!0}if("function"===i)return t(this);if("match"===t)return e(this);var s=/^(empty|editable)$/.test(t)?this["is"+h.capitalize(t)]():"type"===t?h.hyphenate(this._class):this[t];if("class"===t){if("function"===typeof e)return this instanceof e;s=this._class}if("function"===typeof e)return!!e(s);if(e){if(e.test)return e.test(s);if(h.isPlainObject(e))return n(e,s)}return h.equals(s,e)},getItems:function(t){return P._getItems(this,t,this._matrix)},getItem:function(t){return P._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,i,r,s){if(!r){var a="object"===typeof n&&n,o=a&&a.overlapping,l=a&&a.inside,u=o||l,c=u&&x.read([u]);r={items:[],recursive:a&&!1!==a.recursive,inside:!!l,overlapping:!!o,rect:c,path:o&&new B.Rectangle({rectangle:c,insert:!1})},a&&(n=h.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var f=e._children,d=r.items,c=r.rect;i=c&&(i||new S);for(var p=0,g=f&&f.length;p<g;p++){var v=f[p],m=i&&i.appended(v._matrix),_=!0;if(c){var u=v.getBounds(m);if(!c.intersects(u))continue;c.contains(u)||r.overlapping&&(u.contains(c)||r.path.intersects(v,m))||(_=!1)}if(_&&v.matches(n)&&(d.push(v),s))break;if(!1!==r.recursive&&t(v,n,m,r,s),s&&d.length>0)break}return d}}},{importJSON:function(t){var e=h.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(l,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){e=h.slice(e);for(var i={},r=e.length-1;r>=0;r--){var s=e[r],a=s&&s._id;!s||i[a]?e.splice(r,1):(s._remove(!1,!0),i[a]=!0)}h.splice(n,e,t,0);for(var o=this._project,l=o._changes,r=0,u=e.length;r<u;r++){var s=e[r],c=s._name;s._parent=this,s._setProject(o,!0),c&&s.setName(c),l&&s._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),i=t!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(t._index+e,i)),i},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(l,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(l,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,i=this._name,r=n[i],s=r?r.indexOf(this):-1;-1!==s&&(e[i]==this&&delete e[i],r.splice(s,1),r.length?e[i]=r[0]:delete n[i])}},_remove:function(t,e){var n=this._getOwner(),i=this._project,r=this._index;return!!n&&(this._name&&this._removeNamed(),null!=r&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),h.splice(n._children,null,r,1)),this._installEvents(!1),t&&i._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=h.pick(e,this._children.length);for(var n=h.splice(this._children,null,t,e-t),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){var t=this._children;return!t||!t.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do{e.unshift(t)}while(t=t._parent);return e}for(var n=e(this),i=e(t),r=0,s=Math.min(n.length,i.length);r<s;r++)if(n[r]!=i[r])return n[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},h.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?h:_).read(arguments),i=_.read(arguments,0,{readNull:!0});return this.transform((new S)[t](n,i||this.getPosition(!0)))}},{translate:function(){var t=new S;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n,i){var r=this._matrix,s=t&&!t.isIdentity(),a=(e||this._applyMatrix)&&(!r.isIdentity()||s||e&&n&&this._children);if(!s&&!a)return this;if(s){!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t,!0);var o=this._style,l=o.getFillColor(!0),u=o.getStrokeColor(!0);l&&l.transform(t),u&&u.transform(t)}if(a&&(a=this._transformContent(r,n,i))){var c=this._pivot;c&&r._transformPoint(c,c,!0),r.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var h=this._bounds,f=this._position;(s||a)&&this._changed(9);var d=s&&h&&t.decompose();if(d&&d.skewing.isZero()&&d.rotation%90===0){for(var p in h){var g=h[p];if(g.nonscaling)delete h[p];else if(a||!g.internal){var v=g.rect;t._transformBounds(v,v)}}this._bounds=h;var m=h[this._getBoundsCacheKey(this._boundsOptions||{})];m&&(this._position=m.rect.getCenter(!0))}else s&&f&&this._pivot&&(this._position=t._transformPoint(f,f));return this},_transformContent:function(t,e,n){var i=this._children;if(i){for(var r=0,s=i.length;r<s;r++)i[r].transform(t,!0,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(_.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(_.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(_.read(arguments))},localToParent:function(){return this._matrix._transformPoint(_.read(arguments))},fitBounds:function(t,e){t=x.read(arguments);var n=this.getBounds(),i=n.height/n.width,r=t.height/t.width,s=(e?i>r:i<r)?t.width/n.width:t.height/n.height,a=new x(new _,new b(n.width*s,n.height*s));a.setCenter(t.getCenter()),this.setBounds(a)}}),{_setStyles:function(t,e,n){var i=this._style,r=this._matrix;if(i.hasFill()&&(t.fillStyle=i.getFillColor().toCanvasStyle(t,r)),i.hasStroke()){t.strokeStyle=i.getStrokeColor().toCanvasStyle(t,r),t.lineWidth=i.getStrokeWidth();var s=i.getStrokeJoin(),o=i.getStrokeCap(),l=i.getMiterLimit();if(s&&(t.lineJoin=s),o&&(t.lineCap=o),l&&(t.miterLimit=l),a.support.nativeDash){var u=i.getDashArray(),c=i.getDashOffset();u&&u.length&&("setLineDash"in t?(t.setLineDash(u),t.lineDashOffset=c):(t.mozDash=u,t.mozDashOffset=c))}}if(i.hasShadow()){var h=e.pixelRatio||1,f=n._shiftless().prepend((new S).scale(h,h)),d=f.transform(new _(i.getShadowBlur(),0)),p=f.transform(this.getShadowOffset());t.shadowColor=i.getShadowColor().toCanvasStyle(t),t.shadowBlur=d.getLength(),t.shadowOffsetX=p.x,t.shadowOffsetY=p.y}},draw:function(t,e,n){var i=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var r=e.matrices,s=e.viewMatrix,a=this._matrix,o=r[r.length-1].appended(a);if(o.isInvertible()){s=s?s.appended(o):o,r.push(o),e.updateMatrix&&(o._updateVersion=i,this._globalMatrix=o);var l,u,c,h=this._blendMode,f=this._opacity,d="normal"===h,p=lt.nativeModes[h],g=d&&1===f||e.dontStart||e.clip||(p||d&&f<1)&&this._canComposite(),v=e.pixelRatio||1;if(!g){var m=this.getStrokeBounds(s);if(!m.width||!m.height)return;c=e.offset,u=e.offset=m.getTopLeft().floor(),l=t,t=ot.getContext(m.getSize().ceil().add(1).multiply(v)),1!==v&&t.scale(v,v)}t.save();var _=n?n.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,y=!g&&e.clipItem,b=!_||y;if(g?(t.globalAlpha=f,p&&(t.globalCompositeOperation=h)):b&&t.translate(-u.x,-u.y),b&&(g?a:s).applyToContext(t),y&&e.clipItem.draw(t,e.extend({clip:!0})),_){t.setTransform(v,0,0,v,0,0);var w=e.offset;w&&t.translate(-w.x,-w.y)}this._draw(t,e,s,_),t.restore(),r.pop(),e.clip&&!e.dontFinish&&t.clip(),g||(lt.process(h,t,l,f,u.subtract(c).multiply(v)),ot.release(t),e.offset=c)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof V)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,i,r){var s=this._selection,a=1&s,o=2&s||a&&this._selectBounds,l=4&s;if(this._drawSelected||(a=!1),(a||o||l)&&this._isUpdated(r)){var u,c=this.getSelectedColor(!0)||(u=this.getLayer())&&u.getSelectedColor(!0),h=e.appended(this.getGlobalMatrix(!0)),f=n/2;if(t.strokeStyle=t.fillStyle=c?c.toCanvasStyle(t):"#009dec",a&&this._drawSelected(t,h,i),l){var d=this.getPosition(!0),p=d.x,g=d.y;t.beginPath(),t.arc(p,g,f,0,2*Math.PI,!0),t.stroke();for(var v=[[0,-1],[1,0],[0,1],[-1,0]],m=f,_=n+1,y=0;y<4;y++){var b=v[y],w=b[0],x=b[1];t.moveTo(p+w*m,g+x*m),t.lineTo(p+w*_,g+x*_),t.stroke()}}if(o){var C=h._transformCorners(this.getInternalBounds());t.beginPath();for(var y=0;y<8;y++)t[y?"lineTo":"moveTo"](C[y],C[++y]);t.closePath(),t.stroke();for(var y=0;y<8;y++)t.fillRect(C[y]-f,C[++y]-f,n,n)}}},_canComposite:function(){return!1}},h.each(["down","drag","up","move"],function(t){this["removeOn"+h.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,i=this._project,r=i._removeSets=i._removeSets||{};r[n]=r[n]||{},r[n][this._id]=this}return this}})),E=P.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(e){t.base.call(this,e),1026&e&&(this._clipItem=l)},_getClipItem:function(){var t=this._clipItem;if(t===l){t=null;for(var e=this._children,n=0,i=e.length;n<i;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var i=this._getClipItem();return i?i._getCachedBounds(e&&e.appended(i._matrix),h.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,i){var r=this._getClipItem();return(!r||r.contains(e))&&t.base.call(this,e,n,i,r)},_draw:function(t,e){var n=e.clip,i=!n&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(t,e.extend({clip:!0}));for(var r=this._children,s=0,a=r.length;s<a;s++){var o=r[s];o!==i&&o.draw(t,e)}}}),O=E.extend({_class:"Layer",initialize:function(){E.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),I=P.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&h.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new w(t.width,t.height,this,"setSize")},setSize:function(){var t=b.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,i=t.height;"rectangle"===e?this._radius.set(b.min(this._radius,t.divide(2))):"circle"===e?(n=i=(n+i)/2,this._radius=n/2):"ellipse"===e&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new w(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size._set(n,n)}else if(t=b.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){var n=b.max(this._size,t.multiply(2));this._size.set(n)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(B[h.capitalize(this._type)])({center:new _,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),a.settings.applyMatrix&&e.setApplyMatrix(!0),(t===l||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,n,i){var r=this._style,s=r.hasFill(),a=r.hasStroke(),o=e.dontFinish||e.clip,l=!i;if(s||a||o){var u=this._type,c=this._radius,h="circle"===u;if(e.dontStart||t.beginPath(),l&&h)t.arc(0,0,c,0,2*Math.PI,!0);else{var f=h?c:c.width,d=h?c:c.height,p=this._size,g=p.width,v=p.height;if(l&&"rectangle"===u&&0===f&&0===d)t.rect(-g/2,-v/2,g,v);else{var m=g/2,_=v/2,y=.44771525016920644,b=f*y,w=d*y,x=[-m,-_+d,-m,-_+w,-m+b,-_,-m+f,-_,m-f,-_,m-b,-_,m,-_+w,m,-_+d,m,_-d,m,_-w,m-b,_,m-f,_,-m+f,_,-m+b,_,-m,_-w,-m,_-d];i&&i.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),m!==f&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),_!==d&&t.lineTo(x[16],x[17]),t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),m!==f&&t.lineTo(x[24],x[25]),t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}t.closePath()}o||!s&&!a||(this._setStyles(t,e,n),s&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new x(this._size).setCenter(0,0),i=this._style,r=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return t&&(n=t._transformBounds(n)),r?n.expand(B._getStrokePadding(r,this._getStrokeMatrix(t,e))):n}},new function(){function t(t,e,n){var i=t._radius;if(!i.isZero())for(var r=t._size.divide(2),s=1;s<=4;s++){var a=new _(s>1&&s<4?-1:1,s>2?-1:1),o=a.multiply(r),l=o.subtract(a.multiply(i)),u=new x(n?o.add(a.multiply(n)):o,l);if(u.contains(e))return{point:l,quadrant:s}}}function e(t,e,n,i){var r=t.divide(e);return(!i||r.isInQuadrant(i))&&r.subtract(r.normalize()).multiply(e).divide(n).length<=1}return{_contains:function e(n){if("rectangle"===this._type){var i=t(this,n);return i?n.subtract(i.point).divide(this._radius).getLength()<=1:e.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,r,s,a){var o=!1,l=this._style,u=r.stroke&&l.hasStroke(),c=r.fill&&l.hasFill();if(u||c){var h=this._type,f=this._radius,d=u?l.getStrokeWidth()/2:0,p=r._tolerancePadding.add(B._getStrokePadding(d,!l.getStrokeScaling()&&a));if("rectangle"===h){var g=p.multiply(2),v=t(this,i,g);if(v)o=e(i.subtract(v.point),f,p,v.quadrant);else{var m=new x(this._size).setCenter(0,0),_=m.expand(g),y=m.expand(g.negate());o=_._containsPoint(i)&&!y._containsPoint(i)}}else o=e(i,f,p)}return o?new L(u?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,n,i,r){var s=new I(h.getNamed(r),e);return s._type=t,s._size=n,s._radius=i,s}return{Circle:function(){var e=_.readNamed(arguments,"center"),n=h.readNamed(arguments,"radius");return t("circle",e,new b(2*n),n,arguments)},Rectangle:function(){var e=x.readNamed(arguments,"rectangle"),n=b.min(b.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),n,arguments)},Ellipse:function(){var e=I._readEllipse(arguments),n=e.radius;return t("ellipse",e.center,n.multiply(2),n,arguments)},_readEllipse:function(t){var e,n;if(h.hasNamed(t,"radius"))e=_.readNamed(t,"center"),n=b.readNamed(t,"radius");else{var i=x.readNamed(t,"rectangle");e=i.getCenter(!0),n=i.getSize(!0).divide(2)}return{center:e,radius:n}}}}}),A=P.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function(t,e){if(!this._initialize(t,e!==l&&_.read(arguments,1))){var n="string"===typeof t?c.getElementById(t):t;n?this.setImage(n):this.setSource(t)}this._size||(this._size=new b,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var i=ot.getCanvas(t._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new w(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=b.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this._setImage(ot.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&ot.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new _(0,0).transform(t),n=new _(1,0).transform(t).subtract(e),i=new _(0,1).transform(t).subtract(e);return new b(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){function e(t){var e=n.getView(),i=t&&t.type||"load";e&&n.responds(i)&&(a=e._scope,n.emit(i,new tt(t)))}var n=this;this._setImage(t),this._loaded?setTimeout(e,0):t&&X.add(t,{load:function(i){n._setImage(t),e(i)},error:e})},_setImage:function(t){this._canvas&&ot.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new b(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=ot.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){ot.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new o.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),e.src=t,this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=x.read(arguments),e=ot.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=x.read(arguments),e=new A(P.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=_.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof F?(n=t,e=t.getBounds()):"object"===typeof t&&("width"in t?e=new x(t):"x"in t&&(e=new x(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=Math.min(e.width,32),r=Math.min(e.height,32),s=A._sampleContext;s?s.clearRect(0,0,33,33):s=A._sampleContext=ot.getContext(new b(32)),s.save();var a=(new S).scale(i/e.width,r/e.height).translate(-e.x,-e.y);a.applyToContext(s),n&&n.draw(s,new h({clip:!0,matrices:[a]})),this._matrix.applyToContext(s);var o=this.getElement(),l=this._size;o&&s.drawImage(o,-l.width/2,-l.height/2),s.restore();for(var u=s.getImageData(.5,.5,Math.ceil(i),Math.ceil(r)).data,c=[0,0,0],f=0,d=0,p=u.length;d<p;d+=4){var g=u[d+3];f+=g,g/=255,c[0]+=u[d]*g,c[1]+=u[d+1]*g,c[2]+=u[d+2]*g}for(var d=0;d<3;d++)c[d]/=f;return f?$.read(c):null},getPixel:function(){var t=_.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new $("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=_.read(arguments),e=$.read(arguments),n=e._convert("rgb"),i=e._alpha,r=this.getContext(!0),s=r.createImageData(1,1),a=s.data;a[0]=255*n[0],a[1]=255*n[1],a[2]=255*n[2],a[3]=null!=i?255*i:255,r.putImageData(s,t.x,t.y)},createImageData:function(){var t=b.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=x.read(arguments);return t.isEmpty()&&(t=new x(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=_.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var n=new x(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new L("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),M=P.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==l&&_.read(arguments,1))||this.setDefinition(t instanceof N?t:new N(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n){var i=this._definition._item._hitTest(t,e,n);return i&&(i.item=this),i},_draw:function(t,e){this._definition._item.draw(t,e)}}),N=h.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=m.get(),this.project=a.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return h.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&P._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new _),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new M(this,t)},clone:function(){return new N(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),L=h.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&this.inject(n)},statics:{getOptions:function(t){var e=t&&h.read(t);return h.set({type:null,tolerance:a.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),z=h.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,n,i,r,s){var a,o,u,c,h=arguments.length;h>0&&(null==t||"object"===typeof t?1===h&&t&&"point"in t?(a=t.point,o=t.handleIn,u=t.handleOut,c=t.selection):(a=t,o=e,u=n,c=i):(a=[t,e],o=n!==l?[n,i]:null,u=r!==l?[r,s]:null)),new R(a,this,"_point"),new R(o,this,"_handleIn"),new R(u,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(t,e){var n=this._point,i=this._selection,r=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&r.push(i),h.serialize(r,t,!0,e)},_changed:function(t){var e=this._path;if(e){var n,i=e._curves,r=this._index;i&&(t&&t!==this._point&&t!==this._handleIn||!(n=r>0?i[r-1]:e._closed?i[i.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=i[r])||n._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(_.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(_.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(_.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(129))},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==l?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new D(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var i=t||{},r=i.type,s=i.factor,a=this.getPrevious(),o=this.getNext(),u=(a||this)._point,c=this._point,h=(o||this)._point,f=u.getDistance(c),d=c.getDistance(h);if(r&&"catmull-rom"!==r){if("geometric"!==r)throw new Error("Smoothing method '"+r+"' not supported.");if(a&&o){var p=u.subtract(h),g=s===l?.4:s,v=g*f/(f+d);e||this.setHandleIn(p.multiply(v)),n||this.setHandleOut(p.multiply(v-g))}}else{var m=s===l?.5:s,y=Math.pow(f,m),b=y*y,w=Math.pow(d,m),x=w*w;if(!e&&a){var C=2*x+3*w*y+b,S=3*w*(w+y);this.setHandleIn(0!==S?new _((x*u._x+C*c._x-b*h._x)/S-c._x,(x*u._y+C*c._y-b*h._y)/S-c._y):new _)}if(!n&&o){var C=2*b+3*y*w+x,S=3*y*(y+w);this.setHandleOut(0!==S?new _((b*h._x+C*c._x-x*u._x)/S-c._x,(b*h._y+C*c._y-x*u._y)/S-c._y):new _)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new z(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new z(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var i=1-n,r=n,s=t._point,a=e._point,o=t._handleIn,l=e._handleIn,u=e._handleOut,c=t._handleOut;this._point._set(i*s._x+r*a._x,i*s._y+r*a._y,!0),this._handleIn._set(i*o._x+r*l._x,i*o._y+r*l._y,!0),this._handleOut._set(i*c._x+r*u._x,i*c._y+r*u._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var i=this._point,r=n&&this._handleIn.isZero()?null:this._handleIn,s=n&&this._handleOut.isZero()?null:this._handleOut,a=i._x,o=i._y,l=2;return e[0]=a,e[1]=o,r&&(e[l++]=r._x+a,e[l++]=r._y+o),s&&(e[l++]=s._x+a,e[l++]=s._y+o),t&&(t._transformCoordinates(e,e,l/2),a=e[0],o=e[1],n?(i._x=a,i._y=o,l=2,r&&(r._x=e[l++]-a,r._y=e[l++]-o),s&&(s._x=e[l++]-a,s._y=e[l++]-o)):(r||(e[l++]=a,e[l++]=o),s||(e[l++]=a,e[l++]=o))),e}}),R=_.extend({initialize:function(t,e,n){var i,r,s;if(t)if((i=t[0])!==l)r=t[1];else{var a=t;(i=a.x)===l&&(a=_.read(arguments),i=a.x),r=a.y,s=a.selected}else i=r=0;this._x=i,this._y=r,this._owner=e,e[n]=this,s&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=v.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),j=h.extend({_class:"Curve",beans:!0,initialize:function(t,e,n,i,r,s,a,o){var l,u,c,h,f,d,p=arguments.length;3===p?(this._path=t,l=e,u=n):p?1===p?"segment1"in t?(l=new z(t.segment1),u=new z(t.segment2)):"point1"in t?(c=t.point1,f=t.handle1,d=t.handle2,h=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],h=[t[6],t[7]],f=[t[2]-t[0],t[3]-t[1]],d=[t[4]-t[6],t[5]-t[7]]):2===p?(l=new z(t),u=new z(e)):4===p?(c=t,f=e,d=n,h=i):8===p&&(c=[t,e],h=[a,o],f=[n-t,i-e],d=[r-a,s-o]):(l=new z,u=new z),this._segment1=l||new z(c,null,f),this._segment2=u||new z(h,d,null)},_serialize:function(t,e){return h.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=l},clone:function(){return new j(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return j.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(_.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(_.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(_.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(_.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return j.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new _(t[n],t[n+1]));return e}},{getLength:function(){return null==this._length&&(this._length=j.getLength(this.getValues(),0,1)),this._length},getArea:function(){return j.getArea(this.getValues())},getLine:function(){return new k(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new j(j.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return j.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=null;if(t>=1e-8&&t<=1-1e-8){var i=j.subdivide(this.getValues(),t),r=i[0],s=i[1],a=e||this.hasHandles(),o=this._segment1,l=this._segment2,u=this._path;a&&(o._handleOut._set(r[2]-r[0],r[3]-r[1]),l._handleIn._set(s[4]-s[6],s[5]-s[7]));var c=r[6],h=r[7],f=new z(new _(c,h),a&&new _(r[4]-c,r[5]-h),a&&new _(s[2]-c,s[3]-h));u?(u.insert(o._index+1,f),n=this.getNext()):(this._segment2=f,this._changed(),n=new j(f,l))}return n},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===l?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===l?.5:e?t:this.getTimeAt(t))},reversed:function(){return new j(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,i){var r=t._point,s=t._handleOut,a=e._handleIn,o=e._point,l=r.x,u=r.y,c=o.x,h=o.y,f=i?[l,u,l,u,c,h,c,h]:[l,u,l+s._x,u+s._y,c+a._x,h+a._y,c,h];return n&&n._transformCoordinates(f,f,4),f},subdivide:function(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],u=t[6],c=t[7];e===l&&(e=.5);var h=1-e,f=h*n+e*r,d=h*i+e*s,p=h*r+e*a,g=h*s+e*o,v=h*a+e*u,m=h*o+e*c,_=h*f+e*p,y=h*d+e*g,b=h*p+e*v,w=h*g+e*m,x=h*_+e*b,C=h*y+e*w;return[[n,i,f,d,_,y,x,C],[x,C,b,w,v,m,u,c]]},getMonoCurves:function(t,e){var n=[],i=e?0:1,r=t[i+0],s=t[i+2],a=t[i+4],o=t[i+6];if(r>=s===s>=a&&s>=a===a>=o||j.isStraight(t))n.push(t);else{var l=3*(s-a)-r+o,u=2*(r+a)-4*s,c=s-r,h=[],f=v.solveQuadratic(l,u,c,h,1e-8,1-1e-8);if(f){h.sort();var d=h[0],p=j.subdivide(t,d);n.push(p[0]),f>1&&(d=(h[1]-d)/(1-d),p=j.subdivide(p[1],d),n.push(p[0])),n.push(p[1])}else n.push(t)}return n},solveCubic:function(t,e,n,i,r,s){var a=t[e],o=t[e+2],l=t[e+4],u=t[e+6],c=0;if(!(a<n&&u<n&&o<n&&l<n||a>n&&u>n&&o>n&&l>n)){var h=3*(o-a),f=3*(l-o)-h,d=u-a-h-f;c=v.solveCubic(d,f,h,a-n,i,r,s)}return c},getTimeOf:function(t,e){var n=new _(t[0],t[1]),i=new _(t[6],t[7]);if(null===(e.isClose(n,1e-12)?0:e.isClose(i,1e-12)?1:null))for(var r=[e.x,e.y],s=[],a=0;a<2;a++)for(var o=j.solveCubic(t,a,r[a],s,0,1),l=0;l<o;l++){var u=s[l];if(e.isClose(j.getPoint(t,u),1e-7))return u}return e.isClose(n,1e-7)?0:e.isClose(i,1e-7)?1:null},getNearestTime:function(t,e){function n(n){if(n>=0&&n<=1){var i=e.getDistance(j.getPoint(t,n),!0);if(i<h)return h=i,f=n,!0}}if(j.isStraight(t)){var i=t[0],r=t[1],s=t[6],a=t[7],o=s-i,l=a-r,u=o*o+l*l;if(0===u)return 0;var c=((e.x-i)*o+(e.y-r)*l)/u;return c<1e-12?0:c>.999999999999?1:j.getTimeOf(t,new _(i+c*o,r+c*l))}for(var h=1/0,f=0,d=0;d<=100;d++)n(d/100);for(var p=.005;p>1e-8;)n(f-p)||n(f+p)||(p/=2);return f},getPart:function(t,e,n){var i=e>n;if(i){var r=e;e=n,n=r}return e>0&&(t=j.subdivide(t,e)[1]),n<1&&(t=j.subdivide(t,(n-e)/(1-e))[0]),i?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],c=3*r-2*n-l,h=3*s-2*i-u,f=3*a-2*l-n,d=3*o-2*u-i;return Math.max(c*c,f*f)+Math.max(h*h,d*d)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7];return 3*((l-n)*(i+s)-(o-e)*(r+a)+r*(e-s)-i*(n-a)+l*(s+e/3)-o*(a+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),i=[0,0],r=0;r<2;r++)j._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,n,i);return new x(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,i,r,s,a,o,l){function u(t,e){var n=t-e,i=t+e;n<a[r]&&(a[r]=n),i>o[r]&&(o[r]=i)}s/=2;var c=a[r]-s,h=o[r]+s;if(t<c||e<c||n<c||i<c||t>h||e>h||n>h||i>h)if(e<t!=e<i&&n<t!=n<i)u(t,s),u(i,s);else{var f=3*(e-n)-t+i,d=2*(t+n)-4*e,p=e-t,g=v.solveQuadratic(f,d,p,l);u(i,0);for(var m=0;m<g;m++){var _=l[m],y=1-_;1e-8<=_&&_<=1-1e-8&&u(y*y*y*t+3*y*y*_*e+3*y*_*_*n+_*_*_*i,s)}}}}},h.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=B[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),h.each({isStraight:function(t,e,n,i){if(e.isZero()&&n.isZero())return!0;var r=i.subtract(t);if(r.isZero())return!1;if(r.isCollinear(e)&&r.isCollinear(n)){var s=new k(t,i);if(s.getDistance(t.add(e))<1e-7&&s.getDistance(i.add(n))<1e-7){var a=r.dot(r),o=r.dot(e)/a,l=r.dot(n)/a;return o>=0&&o<=1&&l<=0&&l>=-1}}return!1},isLinear:function(t,e,n,i){var r=i.subtract(t).divide(3);return e.equals(r)&&n.negate().equals(r)}},function(t,e){this[e]=function(e){var n=this._segment1,i=this._segment2;return t(n._point,n._handleOut,i._handleIn,i._point,e)},this.statics[e]=function(e,n){var i=e[0],r=e[1],s=e[6],a=e[7];return t(new _(i,r),new _(e[2]-i,e[3]-r),new _(e[4]-s,e[5]-a),new _(s,a),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new D(this,t):null},getTimeAt:function(t,e){return j.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(_.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return j.getTimeOf(this.getValues(),_.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=_.read(arguments),e=this.getValues(),n=j.getNearestTime(e,t),i=j.getPoint(e,n);return new D(this,n,i,null,t.getDistance(i))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return h.each(t,function(t){this[t+"At"]=function(e,n){var i=this.getValues();return j[t](i,n?e:j.getTimeAt(i,e))},this[t+"AtTime"]=function(e){return j[t](this.getValues(),e)}},{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7],u=9*(i-s)+3*(o-e),c=6*(e+s)-12*i,h=3*(i-e),f=9*(r-a)+3*(l-n),d=6*(n+a)-12*r,p=3*(r-n);return function(t){var e=(u*t+c)*t+h,n=(f*t+d)*t+p;return Math.sqrt(e*e+n*n)}}function e(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function n(t,e,n,i){if(null==e||e<0||e>1)return null;var r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],c=t[6],h=t[7],f=v.isZero;f(a-r)&&f(o-s)&&(a=r,o=s),f(l-c)&&f(u-h)&&(l=c,u=h);var d,p,g=3*(a-r),m=3*(l-a)-g,y=c-r-g-m,b=3*(o-s),w=3*(u-o)-b,x=h-s-b-w;if(0===n)d=0===e?r:1===e?c:((y*e+m)*e+g)*e+r,p=0===e?s:1===e?h:((x*e+w)*e+b)*e+s;else{if(e<1e-8?(d=g,p=b):e>1-1e-8?(d=3*(c-l),p=3*(h-u)):(d=(3*y*e+2*m)*e+g,p=(3*x*e+2*w)*e+b),i){0===d&&0===p&&(e<1e-8||e>1-1e-8)&&(d=l-a,p=u-o);var C=Math.sqrt(d*d+p*p);C&&(d/=C,p/=C)}if(3===n){var l=6*y*e+2*m,u=6*x*e+2*w,S=Math.pow(d*d+p*p,1.5);d=0!==S?(d*u-p*l)/S:0,p=0}}return 2===n?new _(p,-d):new _(d,p)}return{statics:{classify:function(t){function e(t,e,n){var i=e!==l,r=i&&e>0&&e<1,s=i&&n>0&&n<1;return!i||(r||s)&&("loop"!==t||r&&s)||(t="arch",r=s=!1),{type:t,roots:r||s?r&&s?e<n?[e,n]:[n,e]:[r?e:n]:null}}var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],u=t[6],c=t[7],h=n*(c-o)+i*(a-u)+u*o-c*a,f=r*(i-c)+s*(u-n)+n*c-i*u,d=a*(s-i)+o*(n-r)+r*i-s*n,p=3*d,g=p-f,m=g-f+h,_=Math.sqrt(m*m+g*g+p*p),y=0!==_?1/_:0,b=v.isZero;if(m*=y,g*=y,p*=y,b(m))return b(g)?e(b(p)?"line":"quadratic"):e("serpentine",p/(3*g));var w=3*g*g-4*m*p;if(b(w))return e("cusp",g/(2*m));var x=w>0?Math.sqrt(w/3):Math.sqrt(-w),C=2*m;return e(w>0?"serpentine":"loop",(g+x)/C,(g-x)/C)},getLength:function(n,i,r,s){if(i===l&&(i=0),r===l&&(r=1),j.isStraight(n)){var a=n;r<1&&(a=j.subdivide(a,r)[0],i/=r),i>0&&(a=j.subdivide(a,i)[1]);var o=a[6]-a[0],u=a[7]-a[1];return Math.sqrt(o*o+u*u)}return v.integrate(s||t(n),i,r,e(i,r))},getTimeAt:function(n,i,r){function s(t){return g+=v.integrate(h,r,t,e(r,t)),r=t,g-i}if(r===l&&(r=i<0?1:0),0===i)return r;var a=Math.abs,o=i>0,u=o?r:0,c=o?1:r,h=t(n),f=j.getLength(n,u,c,h),d=a(i)-f;if(a(d)<1e-12)return o?c:u;if(d>1e-12)return null;var p=i/f,g=0;return v.findRoot(s,h,r+p,u,c,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7],u=3*i-e-3*s+o,c=3*e-6*i+3*s,h=-3*e+3*i,f=3*r-n-3*a+l,d=3*n-6*r+3*a,p=-3*n+3*r,g=[];return v.solveCubic(9*(u*u+f*f),9*(u*c+d*f),2*(c*c+d*d)+3*(h*u+p*f),h*c+d*p,g,1e-8,1-1e-8),g.sort()}}}},new function(){function t(t,e,n,i,r,s,a){var o=!a&&n.getPrevious()===r,l=!a&&n!==r&&n.getNext()===r;if(null!==i&&i>=(o?1e-8:0)&&i<=(l?1-1e-8:1)&&null!==s&&s>=(l?1e-8:0)&&s<=(o?1-1e-8:1)){var u=new D(n,i,null,a),c=new D(r,s,null,a);u._intersection=c,c._intersection=u,e&&!e(u)||D.insert(t,u,!0)}}function e(r,s,a,o,l,u,c,h,f,d,p,g,v){if(++f>=4096||++h>=40)return f;var m,_,y=s[0],b=s[1],w=s[6],x=s[7],C=k.getSignedDistance,S=C(y,b,w,x,s[2],s[3]),T=C(y,b,w,x,s[4],s[5]),P=S*T>0?.75:4/9,E=P*Math.min(0,S,T),O=P*Math.max(0,S,T),I=C(y,b,w,x,r[0],r[1]),A=C(y,b,w,x,r[2],r[3]),M=C(y,b,w,x,r[4],r[5]),N=C(y,b,w,x,r[6],r[7]),L=n(I,A,M,N),z=L[0],R=L[1];if(0===S&&0===T&&0===I&&0===A&&0===M&&0===N||null==(m=i(z,R,E,O))||null==(_=i(z.reverse(),R.reverse(),E,O)))return f;var D=d+(p-d)*m,F=d+(p-d)*_;if(Math.max(v-g,F-D)<1e-9){var B=(D+F)/2,V=(g+v)/2;t(l,u,c?o:a,c?V:B,c?a:o,c?B:V)}else if(r=j.getPart(r,m,_),_-m>.8)if(F-D>v-g){var U=j.subdivide(r,.5),B=(D+F)/2;f=e(s,U[0],o,a,l,u,!c,h,f,g,v,D,B),f=e(s,U[1],o,a,l,u,!c,h,f,g,v,B,F)}else{var U=j.subdivide(s,.5),V=(g+v)/2;f=e(U[0],r,o,a,l,u,!c,h,f,g,V,D,F),f=e(U[1],r,o,a,l,u,!c,h,f,V,v,D,F)}else f=v-g>=1e-9?e(s,r,o,a,l,u,!c,h,f,g,v,D,F):e(r,s,a,o,l,u,c,h,f,D,F,g,v);return f}function n(t,e,n,i){var r,s=[0,t],a=[1/3,e],o=[2/3,n],l=[1,i],u=e-(2*t+i)/3,c=n-(t+2*i)/3;if(u*c<0)r=[[s,a,l],[s,o,l]];else{var h=u/c;r=[h>=2?[s,a,l]:h<=.5?[s,o,l]:[s,a,o,l],[s,l]]}return(u||c)<0?r.reverse():r}function i(t,e,n,i){return t[0][1]<n?r(t,!0,n):e[0][1]>i?r(e,!1,i):t[0][0]}function r(t,e,n){for(var i=t[0][0],r=t[0][1],s=1,a=t.length;s<a;s++){var o=t[s][0],l=t[s][1];if(e?l>=n:l<=n)return l===n?o:i+(n-r)*(o-i)/(l-r);i=o,r=l}return null}function s(t,e,n,i,r){var s=v.isZero;if(s(i)&&s(r)){var a=j.getTimeOf(t,new _(e,n));return null===a?[]:[a]}for(var o=Math.atan2(-r,i),l=Math.sin(o),u=Math.cos(o),c=[],h=[],f=0;f<8;f+=2){var d=t[f]-e,p=t[f+1]-n;c.push(d*u-p*l,d*l+p*u)}return j.solveCubic(c,1,0,h,0,1),h}function a(e,n,i,r,a,o,l){for(var u=n[0],c=n[1],h=n[6],f=n[7],d=s(e,u,c,h-u,f-c),p=0,g=d.length;p<g;p++){var v=d[p],m=j.getPoint(e,v),_=j.getTimeOf(n,m);null!==_&&t(a,o,l?r:i,l?_:v,l?i:r,l?v:_)}}function o(e,n,i,r,s,a){var o=k.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);o&&t(s,a,i,j.getTimeOf(e,o),r,j.getTimeOf(n,o))}function l(n,i,r,s,l,u){var c=Math.min,f=Math.max;if(f(n[0],n[2],n[4],n[6])+1e-12>c(i[0],i[2],i[4],i[6])&&c(n[0],n[2],n[4],n[6])-1e-12<f(i[0],i[2],i[4],i[6])&&f(n[1],n[3],n[5],n[7])+1e-12>c(i[1],i[3],i[5],i[7])&&c(n[1],n[3],n[5],n[7])-1e-12<f(i[1],i[3],i[5],i[7])){var d=h(n,i);if(d)for(var p=0;p<2;p++){var g=d[p];t(l,u,r,g[0],s,g[1],!0)}else{var v=j.isStraight(n),m=j.isStraight(i),y=v&&m,b=v&&!m,w=l.length;if((y?o:v||m?a:e)(b?i:n,b?n:i,b?s:r,b?r:s,l,u,b,0,0,0,1,0,1),!y||l.length===w)for(var p=0;p<4;p++){var x=p>>1,C=1&p,S=6*x,k=6*C,T=new _(n[S],n[S+1]),P=new _(i[k],i[k+1]);T.isClose(P,1e-12)&&t(l,u,r,x,s,C)}}}return l}function u(e,n,i,r){var s=j.classify(e);if("loop"===s.type){var a=s.roots;t(i,r,n,a[0],n,a[1])}return i}function c(t,e,n,i,r,s){var a=!e;a&&(e=t);for(var o,c,h=t.length,f=e.length,d=[],p=[],g=0;g<f;g++)d[g]=e[g].getValues(r);for(var g=0;g<h;g++){var v=t[g],m=a?d[g]:v.getValues(i),_=v.getPath();_!==c&&(c=_,o=[],p.push(o)),a&&u(m,v,o,n);for(var y=a?g+1:0;y<f;y++){if(s&&o.length)return o;l(m,d[y],v,e[y],o,n)}}o=[];for(var g=0,b=p.length;g<b;g++)o.push.apply(o,p[g]);return o}function h(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var i=Math.abs,r=k.getDistance,s=j.isStraight(t),a=j.isStraight(e),o=s&&a,l=n(t)<n(e),u=l?e:t,c=l?t:e,h=u[0],f=u[1],d=u[6]-h,p=u[7]-f;if(r(h,f,d,p,c[0],c[1],!0)<1e-7&&r(h,f,d,p,c[6],c[7],!0)<1e-7)!o&&r(h,f,d,p,u[2],u[3],!0)<1e-7&&r(h,f,d,p,u[4],u[5],!0)<1e-7&&r(h,f,d,p,c[2],c[3],!0)<1e-7&&r(h,f,d,p,c[4],c[5],!0)<1e-7&&(s=a=o=!0);else if(o)return null;if(s^a)return null;for(var g=[t,e],v=[],m=0;m<4&&v.length<2;m++){var y=1&m,b=1^y,w=m>>1,x=j.getTimeOf(g[y],new _(g[b][w?6:0],g[b][w?7:1]));if(null!=x){var C=y?[w,x]:[x,w];(!v.length||i(C[0]-v[0][0])>1e-8&&i(C[1]-v[0][1])>1e-8)&&v.push(C)}if(m>2&&!v.length)break}if(2!==v.length)v=null;else if(!o){var S=j.getPart(t,v[0][0],v[1][0]),T=j.getPart(e,v[0][1],v[1][1]);(i(T[2]-S[2])>1e-7||i(T[3]-S[3])>1e-7||i(T[4]-S[4])>1e-7||i(T[5]-S[5])>1e-7)&&(v=null)}return v}return{getIntersections:function(t){var e=this.getValues(),n=t&&t!==this&&t.getValues();return n?l(e,n,this,t,[]):u(e,this,[])},statics:{getOverlaps:h,getIntersections:c,getCurveLineIntersections:s}}}),D=h.extend({_class:"CurveLocation",initialize:function(t,e,n,i,r){if(e>=.99999999){var s=t.getNext();s&&(e=0,t=s)}this._setCurve(t),this._time=e,this._point=n||t.getPointAtTime(e),this._overlap=i,this._distance=r,this._intersection=this._next=this._previous=null},_setCurve:function(t){var e=t._path;this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){function t(t){var e=t&&t.getCurve();if(e&&null!=(n._time=e.getTimeOf(n._point)))return n._setCurve(e),e}var e=this._path,n=this;return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var i=e.getCurves(),r=0;r<n;r++)t+=i[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=null!=n&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof D){var i=this.getCurve(),r=t.getCurve(),s=i._path;if(s===r._path){var a=Math.abs,o=a(this.getOffset()-t.getOffset()),l=!e&&this._intersection,u=!e&&t._intersection;n=(o<1e-7||s&&a(s.getLength()-o)<1e-7)&&(!l&&!u||l&&u&&l.equals(u,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=g.instance;e&&t.push("point: "+e);var i=this.getIndex();null!=i&&t.push("index: "+i);var r=this.getTime();return null!=r&&t.push("time: "+n.number(r)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){function t(t,e){var n=t.getValues(),i=j.classify(n).roots||j.getPeaks(n),r=i.length,s=e&&r>1?i[r-1]:r>0?i[0]:.5;h.push(j.getLength(n,e?s:0,e?1:s)/2)}function e(t,e,n){return e<n?t>e&&t<n:t>e||t<n}var n=this._intersection;if(!n)return!1;var i=this.getTime(),r=n.getTime(),s=i>=1e-8&&i<=1-1e-8,a=r>=1e-8&&r<=1-1e-8;if(s&&a)return!this.isTouching();var o=this.getCurve(),l=i<1e-8?o.getPrevious():o,u=n.getCurve(),c=r<1e-8?u.getPrevious():u;if(i>1-1e-8&&(o=o.getNext()),r>1-1e-8&&(u=u.getNext()),!l||!o||!c||!u)return!1;var h=[];s||(t(l,!0),t(o,!1)),a||(t(c,!0),t(u,!1));var f=this.getPoint(),d=Math.min.apply(Math,h),p=s?o.getTangentAtTime(i):o.getPointAt(d).subtract(f),g=s?p.negate():l.getPointAt(-d).subtract(f),v=a?u.getTangentAtTime(r):u.getPointAt(d).subtract(f),m=a?v.negate():c.getPointAt(-d).subtract(f),_=g.getAngle(),y=p.getAngle(),b=m.getAngle(),w=v.getAngle();return!!(s?e(_,b,w)^e(y,b,w)&&e(_,w,b)^e(y,w,b):e(b,_,y)^e(w,_,y)&&e(b,y,_)^e(w,y,_))},hasOverlap:function(){return!!this._overlap}},h.each(j._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),n=this.getTime();return null!=n&&t&&t[e](n,!0)}},{preserve:!0}),new function(){function t(t,e,n){function i(n,i){for(var s=n+i;s>=-1&&s<=r;s+=i){var a=t[(s%r+r)%r];if(!e.getPoint().isClose(a.getPoint(),1e-7))break;if(e.equals(a))return a}return null}for(var r=t.length,s=0,a=r-1;s<=a;){var o,l=s+a>>>1,u=t[l];if(n&&(o=e.equals(u)?u:i(l,-1)||i(l,1)))return e._overlap&&(o._overlap=o._intersection._overlap=!0),o;var c=e.getPath(),h=u.getPath();(c!==h?c._id-h._id:e.getIndex()+e.getTime()-(u.getIndex()+u.getTime()))<0?a=l-1:s=l+1}return t.splice(s,0,e),e}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),i=e.length-1;i>=0;i--)t(n,e[i]._intersection,!1);return n}}}}),F=P.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,i;if(h.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:"string"===typeof t&&(e=t),n){var r=n[0];i=r&&Array.isArray(r[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));return new(i?V:B)(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){function e(t,e){var n=+i[t];return o&&(n+=l[e]),n}function n(t){return new _(e(t,"x"),e(t+1,"y"))}var i,r,s,a=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,l=new _,u=new _;this.clear();for(var c=0,h=a&&a.length;c<h;c++){var f=a[c],d=f[0],p=d.toLowerCase();i=f.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var g=i&&i.length;switch(o=d===p,"z"!==r||/[mz]/.test(p)||this.moveTo(l),p){case"m":case"l":for(var v="m"===p,m=0;m<g;m+=2)this[v?"moveTo":"lineTo"](l=n(m)),v&&(u=l,v=!1);s=l;break;case"h":case"v":var y="h"===p?"x":"y";l=l.clone();for(var m=0;m<g;m++)l[y]=e(m,y),this.lineTo(l);s=l;break;case"c":for(var m=0;m<g;m+=6)this.cubicCurveTo(n(m),s=n(m+2),l=n(m+4));break;case"s":for(var m=0;m<g;m+=4)this.cubicCurveTo(/[cs]/.test(r)?l.multiply(2).subtract(s):l,s=n(m),l=n(m+2)),r=p;break;case"q":for(var m=0;m<g;m+=4)this.quadraticCurveTo(s=n(m),l=n(m+2));break;case"t":for(var m=0;m<g;m+=2)this.quadraticCurveTo(s=/[qt]/.test(r)?l.multiply(2).subtract(s):l,l=n(m)),r=p;break;case"a":for(var m=0;m<g;m+=7)this.arcTo(l=n(m+5),new b(+i[m],+i[m+1]),+i[m+2],+i[m+4],+i[m+3]);break;case"z":this.closePath(1e-12),l=u}r=p}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,n,i){var r=this===t||!t,s=this._matrix._orNullIfIdentity(),a=r?s:(n||t._matrix)._orNullIfIdentity();return r||this.getBounds(s).intersects(t.getBounds(a),1e-12)?j.getIntersections(this.getCurves(),!r&&t.getCurves(),e,s,a,i):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.hasOverlap()||t.isCrossing()})},getNearestLocation:function(){for(var t=_.read(arguments),e=this.getCurves(),n=1/0,i=null,r=0,s=e.length;r<s;r++){var a=e[r].getNearestLocation(t);a._distance<n&&(n=a._distance,i=a)}return i},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,n){var i=!this._children,r=i?"_segments":"_children",s=t[r],a=e[r],o=this[r];if(!s||!a||s.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var l=o.length,u=a.length;if(l<u)for(var c=i?z:B,h=l;h<u;h++)this.add(new c);else l>u&&this[i?"removeSegments":"removeChildren"](u,l);for(var h=0;h<u;h++)o[h].interpolate(s[h],a[h],n);i&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],i=t._children?t._children.slice():[t],r=n.length,s=i.length,a=[],o=0;e=!0;for(var l=r-1;l>=0&&e;l--){var u=n[l];e=!1;for(var c=s-1;c>=0&&!e;c--)u.compare(i[c])&&(a[c]||(a[c]=!0,o++),e=!0)}e=e&&o===s}return e}}),B=F.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=Array.isArray(t)?"object"===typeof t[0]?t:arguments:!t||t.size!==l||t.x===l&&t.point===l?null:arguments;e&&e.length>0?this.setSegments(e):(this._curves=l,this._segmentSelection=0,e||"string"!==typeof t||(this.setPathData(t),t=null)),this._initialize(!e&&t)},_equals:function(t){return this._closed===t._closed&&h.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=l,16&e)this._version++;else if(this._curves)for(var n=0,i=this._curves.length;n<i;n++)this._curves[n]._changed()}else 32&e&&(this._bounds=l)},getStyle:function(){var t=this._parent;return(t instanceof V?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=l,n){var i=t[n-1];"boolean"===typeof i&&(this.setClosed(i),n--),this._add(z.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var i=0;i<n;i++)t[i]=new j(this,e[i],e[i+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new j(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function n(e,n){if(e._transformCoordinates(t,p),i=p[0],r=p[1],v)m.push("M"+d.pair(i,r)),v=!1;else if(o=p[2],l=p[3],o===i&&l===r&&u===s&&c===a){if(!n){var h=i-s,f=r-a;m.push(0===h?"v"+d.number(f):0===f?"h"+d.number(h):"l"+d.pair(h,f))}}else m.push("c"+d.pair(u-s,c-a)+" "+d.pair(o-s,l-a)+" "+d.pair(i-s,r-a));s=i,a=r,u=p[4],c=p[5]}var i,r,s,a,o,l,u,c,h=this._segments,f=h.length,d=new g(e),p=new Array(6),v=!0,m=[];if(!f)return"";for(var _=0;_<f;_++)n(h[_]);return this._closed&&f>0&&(n(h[0],!0),m.push("z")),m.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),i=0,r=e.length;i<r;i++)e[i]._transformCoordinates(t,n,!0);return!0},_add:function(t,e){for(var n=this._segments,i=this._curves,r=t.length,s=null==e,e=s?n.length:e,a=0;a<r;a++){var o=t[a];o._path&&(o=t[a]=o.clone()),o._path=this,o._index=e+a,o._selection&&this._updateSelection(o,0,o._selection)}if(s)n.push.apply(n,t);else{n.splice.apply(n,[e,0].concat(t));for(var a=e+r,l=n.length;a<l;a++)n[a]._index=a}if(i){var u=this._countCurves(),c=e>0&&e+r-1===u?e-1:e,h=c,f=Math.min(c+r,u);t._curves&&(i.splice.apply(i,[c,0].concat(t._curves)),h+=t._curves.length);for(var a=h;a<f;a++)i.splice(a,0,new j(this,null,null));this._adjustCurves(c,f)}return this._changed(25),t},_adjustCurves:function(t,e){for(var n,i=this._segments,r=this._curves,s=t;s<e;s++)n=r[s],n._path=this,n._segment1=i[s],n._segment2=i[s+1]||i[0],n._changed();(n=r[this._closed&&!t?i.length-1:t-1])&&(n._segment2=i[t]||i[0],n._changed()),(n=r[e])&&(n._segment1=i[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!==typeof t?this._add(z.readList(arguments)):this._add([z.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!==typeof e?this._add(z.readList(arguments,1),t):this._add([z.read(arguments,1)],t)[0]},addSegment:function(){return this._add([z.read(arguments)])[0]},insertSegment:function(t){return this._add([z.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(z.readList(t))},insertSegments:function(t,e){return this._add(z.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=h.pick(e,this._segments.length);var i=this._segments,r=this._curves,s=i.length,a=i.splice(t,e-t),o=a.length;if(!o)return a;for(var l=0;l<o;l++){var u=a[l];u._selection&&this._updateSelection(u,u._selection,0),u._index=u._path=null}for(var l=t,c=i.length;l<c;l++)i[l]._index=l;if(r){for(var f=t>0&&e===s+(this._closed?1:0)?t-1:t,r=r.splice(f,o),l=r.length-1;l>=0;l--)r[l]._path=null;n&&(a._curves=r.slice(1)),this._adjustCurves(f,f)}return this._changed(25),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,n=this._closed;t=0;for(var i=0,r=e.length;i<r;i++){var s=i+1===r;t+=j.getArea(j.getValues(e[i],e[s?0:i+1],null,s&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,i=t?7:0;this._segmentSelection=i*n;for(var r=0;r<n;r++)e[r]._selection=i},_updateSelection:function(t,e,n){t._selection=n,(this._segmentSelection+=n-e)>0&&this.setSelected(!0)},divideAt:function(t){var e,n=this.getLocationAt(t);return n&&(e=n.getCurve().divideAt(n.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,i=e&&e.time;i>1-1e-8&&(n++,i=0);var r=this.getCurves();if(n>=0&&n<r.length){i>=1e-8&&r[n++].divideAtTime(i);var s,a=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),s=this):(s=new B(P.NO_INSERT),s.insertAbove(this),s.copyAttributes(this)),s._add(a,0),this.addSegment(a[0]),s}return null},split:function(t,e){var n,i=e===l?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return null!=i?this.splitAt(i):null},join:function(t,e){var n=e||0;if(t&&t!==this){var i=t._segments,r=this.getLastSegment(),s=t.getLastSegment();if(!s)return this;r&&r._point.isClose(s._point,n)&&t.reverse();var a=t.getFirstSegment();if(r&&r._point.isClose(a._point,n))r.setHandleOut(a._handleOut),this._add(i.slice(1));else{var o=this.getFirstSegment();o&&o._point.isClose(a._point,n)&&t.reverse(),s=t.getLastSegment(),o&&o._point.isClose(s._point,n)?(o.setHandleIn(s._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}t._closed&&this._add([i[0]]),t.remove()}var l=this.getFirstSegment(),u=this.getLastSegment();return l!==u&&l._point.isClose(u._point,n)&&(l.setHandleIn(u._handleIn),u.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,i=n?1e-7:0,r=e.length-1;r>=0;r--){var s=e[r];!s.hasHandles()&&(!s.hasLength(i)||n&&s.isCollinear(s.getNext()))&&s.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new U(this,t||.25,256,!0),n=e.parts,i=n.length,r=[],s=0;s<i;s++)r.push(new z(n[s].curve.slice(0,2)));!this._closed&&i>0&&r.push(new z(n[i-1].curve.slice(6))),this.setSegments(r)},simplify:function(t){var e=new q(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){function e(t,e){var i=t&&t.index;if(null!=i){var r=t.path;if(r&&r!==n)throw new Error(t._class+" "+i+" of "+r+" is not part of "+n);e&&t instanceof j&&i++}else i="number"===typeof t?t:e;return Math.min(i<0&&o?i%a:i<0?i+a:i,a-1)}var n=this,i=t||{},r=i.type||"asymmetric",s=this._segments,a=s.length,o=this._closed,u=o&&i.from===l&&i.to===l,c=e(i.from,0),h=e(i.to,a-1);if(c>h)if(o)c-=a;else{var f=c;c=h,h=f}if(/^(?:asymmetric|continuous)$/.test(r)){var d="asymmetric"===r,p=Math.min,g=h-c+1,v=g-1,m=u?p(g,4):1,_=m,y=m,b=[];if(o||(_=p(1,c),y=p(1,a-h-1)),(v+=_+y)<=1)return;for(var w=0,x=c-_;w<=v;w++,x++)b[w]=s[(x<0?x+a:x)%a]._point;for(var C=b[0]._x+2*b[1]._x,S=b[0]._y+2*b[1]._y,k=2,T=v-1,P=[C],E=[S],O=[k],I=[],A=[],w=1;w<v;w++){var M=w<T,N=M?1:d?1:2,L=M?4:d?2:7,z=M?4:d?3:8,R=M?2:d?0:1,D=N/k;k=O[w]=L-D,C=P[w]=z*b[w]._x+R*b[w+1]._x-D*C,S=E[w]=z*b[w]._y+R*b[w+1]._y-D*S}I[T]=P[T]/O[T],A[T]=E[T]/O[T];for(var w=v-2;w>=0;w--)I[w]=(P[w]-I[w+1])/O[w],A[w]=(E[w]-A[w+1])/O[w];I[v]=(3*b[v]._x-I[T])/2,A[v]=(3*b[v]._y-A[T])/2;for(var w=_,F=v-y,x=c;w<=F;w++,x++){var B=s[x<0?x+a:x],V=B._point,U=I[w]-V._x,q=A[w]-V._y;(u||w<F)&&B.setHandleOut(U,q),(u||w>_)&&B.setHandleIn(-U,-q)}}else for(var w=c;w<=h;w++)s[w<0?w+a:w].smooth(i,!u&&w===c,!u&&w===h)},toShape:function(t){function e(t,e){var n=u[t],i=n.getNext(),r=u[e],s=r.getNext();return n._handleOut.isZero()&&i._handleIn.isZero()&&r._handleOut.isZero()&&s._handleIn.isZero()&&i._point.subtract(n._point).isCollinear(s._point.subtract(r._point))}function n(t){var e=u[t],n=e.getNext(),i=e._handleOut,r=n._handleIn;if(i.isOrthogonal(r)){var s=e._point,a=n._point,o=new k(s,i,!0).intersect(new k(a,r,!0),!0);return o&&v.isZero(i.getLength()/o.subtract(s).getLength()-.5522847498307936)&&v.isZero(r.getLength()/o.subtract(a).getLength()-.5522847498307936)}return!1}function i(t,e){return u[t]._point.getDistance(u[e]._point)}if(!this._closed)return null;var r,s,a,o,u=this._segments;if(!this.hasHandles()&&4===u.length&&e(0,2)&&e(1,3)&&function(t){var e=u[t],n=e.getPrevious(),i=e.getNext();return n._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&i._handleIn.isZero()&&e._point.subtract(n._point).isOrthogonal(i._point.subtract(e._point))}(1)?(r=I.Rectangle,s=new b(i(0,3),i(0,1)),o=u[1]._point.add(u[2]._point).divide(2)):8===u.length&&n(0)&&n(2)&&n(4)&&n(6)&&e(1,5)&&e(3,7)?(r=I.Rectangle,s=new b(i(1,6),i(0,3)),a=s.subtract(new b(i(0,7),i(1,2))).divide(2),o=u[3]._point.add(u[4]._point).divide(2)):4===u.length&&n(0)&&n(1)&&n(2)&&n(3)&&(v.isZero(i(0,2)-i(1,3))?(r=I.Circle,a=i(0,2)/2):(r=I.Ellipse,a=new b(i(2,0)/2,i(3,1)/2)),o=u[1]._point),r){var c=this.getPosition(!0),h=new r({center:c,size:s,radius:a,insert:!1});return h.copyAttributes(this,!0),h._matrix.prepend(this._matrix),h.rotate(o.subtract(c).getAngle()+90),(t===l||t)&&h.insertAbove(this),h}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof V)return t.base.call(this,e);var n=this.getCurves(),i=e.getCurves(),r=n.length,s=i.length;if(!r||!s)return r==s;for(var a,o,l=n[0].getValues(),u=[],c=0,h=0,f=0;f<s;f++){var d=i[f].getValues();u.push(d);var p=j.getOverlaps(l,d);if(p){a=!f&&p[0][0]>0?s-1:f,o=p[0][1];break}}for(var g,v=Math.abs,d=u[a];l&&d;){var p=j.getOverlaps(l,d);if(p){if(v(p[0][0]-h)<1e-8){h=p[1][0],1===h&&(l=++c<r?n[c].getValues():null,h=0);var m=p[0][1];if(v(m-o)<1e-8){if(g||(g=[a,m]),o=p[1][1],1===o&&(++a>=s&&(a=0),d=u[a]||i[a].getValues(),o=0),!l)return g[0]===a&&g[1]===o;continue}}}break}return!1},_hitTestSelf:function(t,e,n,i){function r(e,n){return t.subtract(e).divide(n).length<=1}function s(t,n,i){if(!e.selected||n.isSelected()){var s=t._point;if(n!==s&&(n=n.add(s)),r(n,w))return new L(i,g,{segment:t,point:n})}}function a(t,n){return(n||e.segments)&&s(t,t._point,"segment")||!n&&e.handles&&(s(t,t._handleIn,"handle-in")||s(t,t._handleOut,"handle-out"))}function o(t){f.add(t)}function l(e){var n=y||e._index>0&&e._index<_-1;if("round"===(n?u:c))return r(e._point,w);if(f=new B({internal:!0,closed:!0}),n?e.isSmooth()||B._addBevelJoin(e,u,k,h,null,i,o,!0):"square"===c&&B._addSquareCap(e,c,k,null,i,o,!0),!f.isEmpty()){var s;return f.contains(t)||(s=f.getNearestLocation(t))&&r(s.getPoint(),b)}}var u,c,h,f,d,p,g=this,v=this.getStyle(),m=this._segments,_=m.length,y=this._closed,b=e._tolerancePadding,w=b,x=e.stroke&&v.hasStroke(),C=e.fill&&v.hasFill(),S=e.curves,k=x?v.getStrokeWidth()/2:C&&e.tolerance>0||S?0:null;if(null!==k&&(k>0?(u=v.getStrokeJoin(),c=v.getStrokeCap(),h=v.getMiterLimit(),w=w.add(B._getStrokePadding(k,i))):u=c="round"),!e.ends||e.segments||y){if(e.segments||e.handles)for(var T=0;T<_;T++)if(p=a(m[T]))return p}else if(p=a(m[0],!0)||a(m[_-1],!0))return p;if(null!==k){if(d=this.getNearestLocation(t)){var P=d.getTime();0===P||1===P&&_>1?l(d.getSegment())||(d=null):r(d.getPoint(),w)||(d=null)}if(!d&&"miter"===u&&_>1)for(var T=0;T<_;T++){var E=m[T];if(t.getDistance(E._point)<=h*k&&l(E)){d=E.getLocation();break}}}return!d&&C&&this._contains(t)||d&&!x&&!S?new L("fill",this):d?new L(x?"stroke":"curve",this,{location:d,point:d.getPoint()}):null}},h.each(j._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}},{beans:!1,getLocationOf:function(){for(var t=_.read(arguments),e=this.getCurves(),n=0,i=e.length;n<i;n++){var r=e[n].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"===typeof t){for(var e=this.getCurves(),n=0,i=0,r=e.length;i<r;i++){var s=n,a=e[i];if((n+=a.getLength())>t)return a.getLocationAt(t-s)}if(e.length>0&&t<=this.getLength())return new D(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null}}),new function(){function t(t,e,n,i){function r(e){var n=l[e],i=l[e+1];s==n&&a==i||(t.beginPath(),t.moveTo(s,a),t.lineTo(n,i),t.stroke(),t.beginPath(),t.arc(n,i,o,0,2*Math.PI,!0),t.fill())}for(var s,a,o=i/2,l=new Array(6),u=0,c=e.length;u<c;u++){var h=e[u],f=h._selection;if(h._transformCoordinates(n,l),s=l[0],a=l[1],2&f&&r(2),4&f&&r(4),t.fillRect(s-o,a-o,i,i),!(1&f)){var d=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(s-o+1,a-o+1,i-2,i-2),t.fillStyle=d}}}function e(t,e,n){function i(e){if(n)e._transformCoordinates(n,p),r=p[0],s=p[1];else{var i=e._point;r=i._x,s=i._y}if(g)t.moveTo(r,s),g=!1;else{if(n)l=p[2],u=p[3];else{var f=e._handleIn;l=r+f._x,u=s+f._y}l===r&&u===s&&c===a&&h===o?t.lineTo(r,s):t.bezierCurveTo(c,h,l,u,r,s)}if(a=r,o=s,n)c=p[4],h=p[5];else{var f=e._handleOut;c=a+f._x,h=o+f._y}}for(var r,s,a,o,l,u,c,h,f=e._segments,d=f.length,p=new Array(6),g=!0,v=0;v<d;v++)i(f[v]);e._closed&&d>0&&i(f[0])}return{_draw:function(t,n,i,r){function s(t){return f[(t%d+d)%d]}var o=n.dontStart,l=n.dontFinish||n.clip,u=this.getStyle(),c=u.hasFill(),h=u.hasStroke(),f=u.getDashArray(),d=!a.support.nativeDash&&h&&f&&f.length;if(o||t.beginPath(),(c||h&&!d||l)&&(e(t,this,r),this._closed&&t.closePath()),!l&&(c||h)&&(this._setStyles(t,n,i),c&&(t.fill(u.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),h)){if(d){o||t.beginPath();var p,g=new U(this,.25,32,!1,r),v=g.length,m=-u.getDashOffset(),_=0;for(m%=v;m>0;)m-=s(_--)+s(_--);for(;m<v;)p=m+s(_++),(m>0||p>0)&&g.drawPart(t,Math.max(m,0),Math.max(p,0)),m=p+s(_++)}t.stroke()}},_drawSelected:function(n,i){n.beginPath(),e(n,this,i),n.stroke(),t(n,this._segments,i,a.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new z(_.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new z(_.read(arguments))])},cubicCurveTo:function(){var e=_.read(arguments),n=_.read(arguments),i=_.read(arguments),r=t(this);r.setHandleOut(e.subtract(r._point)),this._add([new z(i,n.subtract(i))])},quadraticCurveTo:function(){var e=_.read(arguments),n=_.read(arguments),i=t(this)._point;this.cubicCurveTo(e.add(i.subtract(e).multiply(1/3)),e.add(n.subtract(e).multiply(1/3)),n)},curveTo:function(){var e=_.read(arguments),n=_.read(arguments),i=h.pick(h.read(arguments),.5),r=1-i,s=t(this)._point,a=e.subtract(s.multiply(r*r)).subtract(n.multiply(i*i)).divide(2*i*r);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);this.quadraticCurveTo(a,n)},arcTo:function(){var e,n,i,r,s,a=Math.abs,o=Math.sqrt,l=t(this),u=l._point,c=_.read(arguments),f=h.peek(arguments),d=h.pick(f,!0);if("boolean"===typeof d)var p=u.add(c).divide(2),e=p.add(p.subtract(u).rotate(d?-90:90));else if(h.remain(arguments)<=2)e=c,c=_.read(arguments);else{var g=b.read(arguments),m=v.isZero;if(m(g.width)||m(g.height))return this.lineTo(c);var y=h.read(arguments),d=!!h.read(arguments),w=!!h.read(arguments),p=u.add(c).divide(2),x=u.subtract(p).rotate(-y),C=x.x,T=x.y,P=a(g.width),E=a(g.height),O=P*P,I=E*E,A=C*C,M=T*T,N=o(A/O+M/I);if(N>1&&(P*=N,E*=N,O=P*P,I=E*E),N=(O*I-O*M-I*A)/(O*M+I*A),a(N)<1e-12&&(N=0),N<0)throw new Error("Cannot create an arc with the given arguments");n=new _(P*T/E,-E*C/P).multiply((w===d?-1:1)*o(N)).rotate(y).add(p),s=(new S).translate(n).rotate(y).scale(P,E),r=s._inverseTransform(u),i=r.getDirectedAngle(s._inverseTransform(c)),!d&&i>0?i-=360:d&&i<0&&(i+=360)}if(e){var L=new k(u.add(e).divide(2),e.subtract(u).rotate(90),!0),R=new k(e.add(c).divide(2),c.subtract(e).rotate(90),!0),j=new k(u,c),D=j.getSide(e);if(!(n=L.intersect(R,!0))){if(!D)return this.lineTo(c);throw new Error("Cannot create an arc with the given arguments")}r=u.subtract(n),i=r.getDirectedAngle(c.subtract(n));var F=j.getSide(n);0===F?i=D*a(i):D===F&&(i+=i<0?360:-360)}for(var B=a(i),V=B>=360?4:Math.ceil((B-1e-7)/90),U=i/V,q=U*Math.PI/360,H=4/3*Math.sin(q)/(1+Math.cos(q)),W=[],$=0;$<=V;$++){var x=c,Z=null;if($<V&&(Z=r.rotate(90).multiply(H),s?(x=s._transformPoint(r),Z=s._transformPoint(r.add(Z)).subtract(x)):x=n.add(r)),$){var G=r.rotate(-90).multiply(H);s&&(G=s._transformPoint(r.add(G)).subtract(x)),W.push(new z(x,G,Z))}else l.setHandleOut(Z);r=r.rotate(U)}this._add(W)},lineBy:function(){var e=_.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=_.read(arguments),n=_.read(arguments),i=h.read(arguments),r=t(this)._point;this.curveTo(r.add(e),r.add(n),i)},cubicCurveBy:function(){var e=_.read(arguments),n=_.read(arguments),i=_.read(arguments),r=t(this)._point;this.cubicCurveTo(r.add(e),r.add(n),r.add(i))},quadraticCurveBy:function(){var e=_.read(arguments),n=_.read(arguments),i=t(this)._point;this.quadraticCurveTo(i.add(e),i.add(n))},arcBy:function(){var e=t(this)._point,n=e.add(_.read(arguments)),i=h.pick(h.peek(arguments),!0);"boolean"===typeof i?this.arcTo(n,i):this.arcTo(n,e.add(_.read(arguments)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return B[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,i,r,s){function a(t){t._transformCoordinates(i,l);for(var e=0;e<2;e++)j._addBounds(u[e],u[e+4],l[e+2],l[e],e,s?s[e]:0,c,h,f);var n=u;u=l,l=n}var o=t[0];if(!o)return new x;for(var l=new Array(6),u=o._transformCoordinates(i,new Array(6)),c=u.slice(0,2),h=c.slice(),f=new Array(2),d=1,p=t.length;d<p;d++)a(t[d]);return e&&a(o),new x(c[0],c[1],h[0]-c[0],h[1]-c[1])},getStrokeBounds:function(t,e,n,i,r){function s(t){p=p.include(t)}function a(t){p=p.unite(y.setCenter(t._point.transform(i)))}function o(t,e){"round"===e||t.isSmooth()?a(t):B._addBevelJoin(t,e,g,_,i,f,s)}function l(t,e){"round"===e?a(t):B._addSquareCap(t,e,g,i,f,s)}var u=n.getStyle(),c=u.hasStroke(),h=u.getStrokeWidth(),f=c&&n._getStrokeMatrix(i,r),d=c&&B._getStrokePadding(h,f),p=B.getBounds(t,e,n,i,r,d);if(!c)return p;for(var g=h/2,v=u.getStrokeJoin(),m=u.getStrokeCap(),_=u.getMiterLimit(),y=new x(new b(d)),w=t.length-(e?0:1),C=1;C<w;C++)o(t[C],v);return e?o(t[0],v):w>0&&(l(t[0],m),l(t[t.length-1],m)),p},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new _(t,0).transform(e),i=new _(0,t).transform(e),r=n.getAngleInRadians(),s=n.getLength(),a=i.getLength(),o=Math.sin(r),l=Math.cos(r),u=Math.tan(r),c=Math.atan2(a*u,s),h=Math.atan2(a,u*s);return[Math.abs(s*Math.cos(c)*l+a*Math.sin(c)*o),Math.abs(a*Math.sin(h)*l+s*Math.cos(h)*o)]},_addBevelJoin:function(t,e,n,i,r,s,a,o){var l=t.getCurve(),u=l.getPrevious(),c=l.getPoint1().transform(r),h=u.getNormalAtTime(1).multiply(n).transform(s),f=l.getNormalAtTime(0).multiply(n).transform(s);if(h.getDirectedAngle(f)<0&&(h=h.negate(),f=f.negate()),o&&a(c),a(c.add(h)),"miter"===e){var d=new k(c.add(h),new _(-h.y,h.x),!0).intersect(new k(c.add(f),new _(-f.y,f.x),!0),!0);d&&c.getDistance(d)<=i*n&&a(d)}a(c.add(f))},_addSquareCap:function(t,e,n,i,r,s,a){var o=t._point.transform(i),l=t.getLocation(),u=l.getNormal().multiply(0===l.getTime()?n:-n).transform(r);"square"===e&&(a&&(s(o.subtract(u)),s(o.add(u))),o=o.add(u.rotate(-90))),s(o.add(u)),s(o.subtract(u))},getHandleBounds:function(t,e,n,i,r){var s,a,o=n.getStyle(),l=r.stroke&&o.hasStroke();if(l){var u=n._getStrokeMatrix(i,r),c=o.getStrokeWidth()/2,h=c;"miter"===o.getStrokeJoin()&&(h=c*o.getMiterLimit()),"square"===o.getStrokeCap()&&(h=Math.max(h,c*Math.SQRT2)),s=B._getStrokePadding(c,u),a=B._getStrokePadding(h,u)}for(var f=new Array(6),d=1/0,p=-d,g=d,v=p,m=0,_=t.length;m<_;m++){t[m]._transformCoordinates(i,f);for(var y=0;y<6;y+=2){var b=y?s:a,w=b?b[0]:0,C=b?b[1]:0,S=f[y],k=f[y+1],T=S-w,P=S+w,E=k-C,O=k+C;T<d&&(d=T),P>p&&(p=P),E<g&&(g=E),O>v&&(v=O)}}return new x(d,g,p-d,v-g)}}});B.inject({statics:new function(){function t(t,e,n){var i=h.getNamed(n),r=new B(i&&0==i.insert&&P.NO_INSERT);return r._add(t),r._closed=e,r.set(i,{insert:!0})}function e(e,n,r){for(var s=new Array(4),a=0;a<4;a++){var o=i[a];s[a]=new z(o._point.multiply(n).add(e),o._handleIn.multiply(n),o._handleOut.multiply(n))}return t(s,!0,r)}var n=.5522847498307936,i=[new z([-1,0],[0,n],[0,-n]),new z([0,-1],[-n,0],[n,0]),new z([1,0],[0,-n],[0,n]),new z([0,1],[n,0],[-n,0])];return{Line:function(){return t([new z(_.readNamed(arguments,"from")),new z(_.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=_.readNamed(arguments,"center"),n=h.readNamed(arguments,"radius");return e(t,new b(n),arguments)},Rectangle:function(){var e,i=x.readNamed(arguments,"rectangle"),r=b.readNamed(arguments,"radius",0,{readNull:!0}),s=i.getBottomLeft(!0),a=i.getTopLeft(!0),o=i.getTopRight(!0),l=i.getBottomRight(!0);if(!r||r.isZero())e=[new z(s),new z(a),new z(o),new z(l)];else{r=b.min(r,i.getSize(!0).divide(2));var u=r.width,c=r.height,h=u*n,f=c*n;e=[new z(s.add(u,0),null,[-h,0]),new z(s.subtract(0,c),[0,f]),new z(a.add(0,c),null,[0,-f]),new z(a.add(u,0),[-h,0],null),new z(o.subtract(u,0),null,[h,0]),new z(o.add(0,c),[0,-f],null),new z(l.subtract(0,c),null,[0,f]),new z(l.subtract(u,0),[h,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=I._readEllipse(arguments);return e(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=_.readNamed(arguments,"from"),e=_.readNamed(arguments,"through"),n=_.readNamed(arguments,"to"),i=h.getNamed(arguments),r=new B(i&&0==i.insert&&P.NO_INSERT);return r.moveTo(t),r.arcTo(e,n),r.set(i)},RegularPolygon:function(){for(var e=_.readNamed(arguments,"center"),n=h.readNamed(arguments,"sides"),i=h.readNamed(arguments,"radius"),r=360/n,s=n%3===0,a=new _(0,s?-i:i),o=s?-1:.5,l=new Array(n),u=0;u<n;u++)l[u]=new z(e.add(a.rotate((u+o)*r)));return t(l,!0,arguments)},Star:function(){for(var e=_.readNamed(arguments,"center"),n=2*h.readNamed(arguments,"points"),i=h.readNamed(arguments,"radius1"),r=h.readNamed(arguments,"radius2"),s=360/n,a=new _(0,-1),o=new Array(n),l=0;l<n;l++)o[l]=new z(e.add(a.rotate(s*l).multiply(l%2?r:i)));return t(o,!0,arguments)}}}});var V=F.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"===typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,n){var i=n,r=i[0];r&&"number"===typeof r[0]&&(i=[i]);for(var s=n.length-1;s>=0;s--){var a=i[s];i!==n||a instanceof B||(i=h.slice(i)),Array.isArray(a)?i[s]=new B({segments:a,insert:!1}):a instanceof V&&(i.splice.apply(i,[s,1].concat(a.removeChildren())),a.remove())}return t.base.call(this,e,i)},reduce:function t(e){for(var n=this._children,i=n.length-1;i>=0;i--){var r=n[i].reduce(e);r.isEmpty()&&r.remove()}if(!n.length){var r=new B(P.NO_INSERT);return r.copyAttributes(this),r.insertAbove(this),this.remove(),r}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,i=t.length;n<i;n++)e.push.apply(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,i=[],r=0,s=n.length;r<s;r++){var a=n[r],o=a._matrix;i.push(a.getPathData(t&&!o.isIdentity()?t.appended(o):t,e))}return i.join("")},_hitTestChildren:function t(e,n,i){return t.base.call(this,e,n.class===B||"path"===n.type?n:h.set({},n,{fill:!1}),i)},_draw:function(t,e,n,i){var r=this._children;if(r.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var s=0,a=r.length;s<a;s++)r[s].draw(t,e,i);if(!e.clip){this._setStyles(t,e,n);var o=this._style;o.hasFill()&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var i=this._children,r=0,s=i.length;r<s;r++){var a=i[r],o=a._matrix;n[a._id]||a._drawSelected(t,o.isIdentity()?e:e.appended(o))}}},new function(){function t(t,e){var n=t._children;if(e&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return h.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}},{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new B(P.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),i=_.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(e){t(this,!0).closePath(e)}})},h.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var n,i=this._children,r=0,s=i.length;r<s;r++)n=i[r][t](e)||n;return n}},{}));F.inject(new function(){function t(t,e){var n=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0):n}function e(t,e,n,i,r){var s=new V(P.NO_INSERT);return s.addChildren(t,!0),s=s.reduce({simplify:e}),r&&0==r.insert||s.insertAbove(i&&n.isSibling(i)&&n.getIndex()<i.getIndex()?i:n),s.copyAttributes(n,!0),s}function n(n,r,s,l){function u(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];b.push.apply(b,i._segments),w.push.apply(w,i.getCurves()),i._overlapsOnly=!0}}if(l&&(0==l.trace||l.stroke)&&/^(subtract|intersect)$/.test(s))return i(n,r,s);var h=t(n,!0),d=r&&n!==r&&t(r,!0),p=m[s];p[s]=!0,d&&(p.subtract||p.exclude)^d.isClockwise()^h.isClockwise()&&d.reverse();var g,v=o(D.expand(h.getCrossings(d))),_=h._children||[h],y=d&&(d._children||[d]),b=[],w=[];if(v.length){u(_),y&&u(y);for(var x=0,C=v.length;x<C;x++)c(v[x]._segment,h,d,w,p);for(var x=0,C=b.length;x<C;x++){var S=b[x],k=S._intersection;S._winding||c(S,h,d,w,p),k&&k._overlap||(S._path._overlapsOnly=!1)}g=f(b,p)}else g=a(y?_.concat(y):_.slice(),function(t){return!!p[t]});return e(g,!0,n,r,l)}function i(n,i,r){function s(t){if(!h[t._id]&&(c||o.contains(t.getPointAt(t.getLength()/2))^u))return f.unshift(t),h[t._id]=!0}for(var a=t(n),o=t(i),l=a.getCrossings(o),u="subtract"===r,c="divide"===r,h={},f=[],d=l.length-1;d>=0;d--){var p=l[d].split();p&&(s(p)&&p.getFirstSegment().setHandleIn(0,0),a.getLastSegment().setHandleOut(0,0))}return s(a),e(f,!1,n,i)}function r(t,e){for(var n=t;n;){if(n===e)return;n=n._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function s(t){for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function a(t,e,n){var i=t&&t.length;if(i){var r=h.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),s=t.slice().sort(function(t,e){return g(e.getArea())-g(t.getArea())}),a=s[0];null==n&&(n=a.isClockwise());for(var o=0;o<i;o++){for(var l=s[o],u=r[l._id],c=l.getInteriorPoint(),f=0,d=o-1;d>=0;d--){var p=s[d];if(p.contains(c)){var v=r[p._id];f=v.winding,u.winding+=f,u.container=v.exclude?v.container:p;break}}if(e(u.winding)===e(f))u.exclude=!0,t[u.index]=null;else{var m=u.container;l.setClockwise(m?!m.isClockwise():n)}}}return t}function o(t,e,n){function i(t){return t._path._id+"."+t._segment1._index}for(var a,o,l,u=e&&[],c=!1,h=n||[],f=n&&{},d=(n&&n.length)-1;d>=0;d--){var p=n[d];p._path&&(f[i(p)]=!0)}for(var d=t.length-1;d>=0;d--){var g,v=t[d],m=v._time,_=m,y=e&&!e(v),p=v._curve;if(p&&(p!==o?(c=!p.hasHandles()||f&&f[i(p)],a=[],l=null,o=p):l>=1e-8&&(m/=l)),y)a&&a.push(v);else{if(e&&u.unshift(v),l=_,m<1e-8)g=p._segment1;else if(m>1-1e-8)g=p._segment2;else{var b=p.divideAtTime(m,!0);c&&h.push(p,b),g=b._segment1;for(var w=a.length-1;w>=0;w--){var x=a[w];x._time=(x._time-m)/(1-m)}}v._setSegment(g);var C=g._intersection,S=v._intersection;if(C){r(C,S);for(var k=C;k;)r(k._intersection,C),k=k._next}else g._intersection=S}}return n||s(h),u||t}function u(t,e,n,i,r){function s(s){var a=s[h+0],l=s[h+6];if(!(m<d(a,l)||m>p(a,l))){var f=s[c+0],g=s[c+2],w=s[c+4],x=s[c+6];if(a===l)return void((f<b&&x>y||x<b&&f>y)&&(k=!0));var T=m===a?0:m===l?1:y>p(f,g,w,x)||b<d(f,g,w,x)?1:j.solveCubic(s,h,m,E,0,1)>0?E[0]:1,O=0===T?f:1===T?x:j.getPoint(s,T)[n?"y":"x"],I=a>l?1:-1,A=o[h]>o[h+6]?1:-1,M=o[c+6];return m!==a?(O<y?C+=I:O>b?S+=I:k=!0,O>v-_&&O<v+_&&(P/=2)):(I!==A?f<y?C+=I:f>b&&(S+=I):f!=M&&(M<b&&O>b?(S+=I,k=!0):M>y&&O<y&&(C+=I,k=!0)),P=0),o=s,!r&&O>y&&O<b&&0===j.getTangent(s,T)[n?"x":"y"]&&u(t,e,!n,i,!0)}}function a(t){var e=t[h+0],i=t[h+2],r=t[h+4],a=t[h+6];if(m<=p(e,i,r,a)&&m>=d(e,i,r,a))for(var o,l=t[c+0],u=t[c+2],f=t[c+4],g=t[c+6],v=y>p(l,u,f,g)||b<d(l,u,f,g)?[t]:j.getMonoCurves(t,n),_=0,w=v.length;_<w;_++)if(o=s(v[_]))return o}for(var o,l,c=n?1:0,h=1^c,f=[t.x,t.y],v=f[c],m=f[h],_=1e-6,y=v-1e-9,b=v+1e-9,w=0,x=0,C=0,S=0,k=!1,T=!1,P=1,E=[],O=0,I=e.length;O<I;O++){var A,M=e[O],N=M._path,L=M.getValues();if((!O||e[O-1]._path!==N)&&(o=null,N._closed||(l=j.getValues(N.getLastCurve().getSegment2(),M.getSegment1(),null,!i),l[h]!==l[h+6]&&(o=l)),!o)){o=L;for(var z=N.getLastCurve();z&&z!==M;){var R=z.getValues();if(R[h]!==R[h+6]){o=R;break}z=z.getPrevious()}}if(A=a(L))return A;if(O+1===I||e[O+1]._path!==N){if(l&&(A=a(l)))return A;!k||C||S||(C=S=N.isClockwise(i)^n?1:-1),w+=C,x+=S,C=S=0,k&&(T=!0,k=!1),l=null}}return w=g(w),x=g(x),{winding:p(w,x),windingL:w,windingR:x,quality:P,onPath:T}}function c(t,e,n,i,r){var s,a=[],o=t,l=0;do{var c=t.getCurve(),h=c.getLength();a.push({segment:t,curve:c,length:h}),l+=h,t=t.getNext()}while(t&&!t._intersection&&t!==o);for(var f=[.5,.25,.75],s={winding:0,quality:-1},d=0;d<f.length&&s.quality<.5;d++)for(var h=l*f[d],p=0,m=a.length;p<m;p++){var _=a[p],y=_.length;if(h<=y){var c=_.curve,b=c._path,w=b._parent,x=w instanceof V?w:b,C=v.clamp(c.getTimeAt(h),1e-8,1-1e-8),S=c.getPointAtTime(C),k=g(c.getTangentAtTime(C).y)<Math.SQRT1_2,T=r.subtract&&n&&(x===e&&n._getWinding(S,k,!0).winding||x===n&&!e._getWinding(S,k,!0).winding)?{winding:0,quality:1}:u(S,i,k,!0);T.quality>s.quality&&(s=T);break}h-=y}for(var p=a.length-1;p>=0;p--)a[p].segment._winding=s}function f(t,e){function n(t){var n;return!(!t||t._visited||e&&(!e[(n=t._winding||{}).winding]||e.unite&&2===n.winding&&n.windingL&&n.windingR))}function i(t){if(t)for(var e=0,n=s.length;e<n;e++)if(t===s[e])return!0;return!1}function r(t){for(var e=t._segments,n=0,i=e.length;n<i;n++)e[n]._visited=!0}var s,a=[];t.sort(function(t,e){var n=t._intersection,i=e._intersection,r=!(!n||!n._overlap),s=!(!i||!i._overlap),a=t._path,o=e._path;return r^s?r?1:-1:!n^!i?n?1:-1:a!==o?a._id-o._id:t._index-e._index});for(var o=0,l=t.length;o<l;o++){var u,c,h,f=t[o],d=n(f),p=null,g=!1,v=!0,m=[];if(d&&f._path._overlapsOnly){var _=f._path,y=f._intersection._segment._path;_.compare(y)&&(_.getArea()&&a.push(_.clone(!1)),r(_),r(y),d=!1)}for(;d;){var b=!p,w=function(t,e){function r(r,a){for(;r&&r!==a;){var o=r._segment,u=o&&o._path;if(u){var c=o.getNext()||u.getFirstSegment(),h=c._intersection;o!==t&&(i(o)||i(c)||c&&n(o)&&(n(c)||h&&n(h._segment)))&&l.push(o),e&&s.push(o)}r=r._next}}var a=t._intersection,o=a,l=[];if(e&&(s=[t]),a){for(r(a);a&&a._prev;)a=a._prev;r(a,o)}return l}(f,b),x=w.shift(),g=!b&&(i(f)||i(x)),C=!g&&x;if(b&&(p=new B(P.NO_INSERT),u=null),g){(f.isFirst()||f.isLast())&&(v=f._path._closed),f._visited=!0;break}if(C&&u&&(m.push(u),u=null),u||(C&&w.push(f),u={start:p._segments.length,crossings:w,visited:c=[],handleIn:h}),C&&(f=x),!n(f)){p.removeSegments(u.start);for(var S=0,k=c.length;S<k;S++)c[S]._visited=!1;c.length=0;do{(f=u&&u.crossings.shift())&&f._path||(f=null,(u=m.pop())&&(c=u.visited,h=u.handleIn))}while(u&&!n(f));if(!f)break}var T=f.getNext();p.add(new z(f._point,h,T&&f._handleOut)),f._visited=!0,c.push(f),f=T||f._path.getFirstSegment(),h=T&&T._handleIn}g&&(v&&(p.getFirstSegment().setHandleIn(h),p.setClosed(v)),0!==p.getArea()&&a.push(p))}return a}var d=Math.min,p=Math.max,g=Math.abs,m={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};return{_getWinding:function(t,e,n){return u(t,this.getCurves(),e,n)},unite:function(t,e){return n(this,t,"unite",e)},intersect:function(t,e){return n(this,t,"intersect",e)},subtract:function(t,e){return n(this,t,"subtract",e)},exclude:function(t,e){return n(this,t,"exclude",e)},divide:function(t,n){return n&&(0==n.trace||n.stroke)?i(this,t,"divide"):e([this.subtract(t,n),this.intersect(t,n)],!0,this,t,n)},resolveCrossings:function(){function t(t,e){var n=t&&t._intersection;return n&&n._overlap&&n._path===e}var e=this._children,n=e||[this],i=!1,r=!1,a=this.getIntersections(null,function(t){return t.hasOverlap()&&(i=!0)||t.isCrossing()&&(r=!0)}),l=i&&r&&[];if(a=D.expand(a),i)for(var u=o(a,function(t){return t.hasOverlap()},l),c=u.length-1;c>=0;c--){var d=u[c],p=d._path,g=d._segment,v=g.getPrevious(),m=g.getNext();t(v,p)&&t(m,p)&&(g.remove(),v._handleOut._set(0,0),m._handleIn._set(0,0),v===g||v.getCurve().hasLength()||(m._handleIn.set(v._handleIn),v.remove()))}r&&(o(a,i&&function(t){var e=t.getCurve(),n=t.getSegment(),i=t._intersection,r=i._curve,s=i._segment;if(e&&r&&e._path&&r._path)return!0;n&&(n._intersection=null),s&&(s._intersection=null)},l),l&&s(l),n=f(h.each(n,function(t){this.push.apply(this,t._segments)},[])));var _,y=n.length;return y>1&&e?(n!==e&&this.setChildren(n),_=this):1!==y||e||(n[0]!==this&&this.setSegments(n[0].removeSegments()),_=this),_||(_=new V(P.NO_INSERT),_.addChildren(n),_=_.reduce(),_.copyAttributes(this),this.replaceWith(_)),_},reorient:function(t,e){var n=this._children;return n&&n.length?this.setChildren(a(this.removeChildren(),function(e){return!!(t?e:1&e)},e)):e!==l&&this.setClockwise(e),this},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){for(var n=this.getCurves(),i=e.y,r=[],s=[],a=0,o=n.length;a<o;a++){var l=n[a].getValues(),u=l[1],c=l[3],h=l[5],f=l[7];if(i>=d(u,c,h,f)&&i<=p(u,c,h,f))for(var g=j.getMonoCurves(l),v=0,m=g.length;v<m;v++){var _=g[v],y=_[1],b=_[7];if(y!==b&&(i>=y&&i<=b||i>=b&&i<=y)){var w=i===y?_[0]:i===b?_[6]:1===j.solveCubic(_,1,i,s,0,1)?j.getPoint(_,s[0]).x:(_[0]+_[6])/2;r.push(w)}}}r.length>1&&(r.sort(function(t,e){return t-e}),e.x=(r[0]+r[1])/2)}return e}}});var U=h.extend({_class:"PathFlattener",initialize:function(t,e,n,i,r){function s(t,e){var n=j.getValues(t,e,r);l.push(n),a(n,t._index,0,1)}function a(t,n,r,s){if(!(s-r>h)||i&&j.isStraight(t)||j.isFlatEnough(t,e||.25)){var o=t[6]-t[0],l=t[7]-t[1],f=Math.sqrt(o*o+l*l);f>0&&(c+=f,u.push({offset:c,curve:t,index:n,time:s}))}else{var d=j.subdivide(t,.5),p=(r+s)/2;a(d[0],n,r,p),a(d[1],n,p,s)}}for(var o,l=[],u=[],c=0,h=1/(n||32),f=t._segments,d=f[0],p=1,g=f.length;p<g;p++)o=f[p],s(d,o),d=o;t._closed&&s(o,f[0]),this.curves=l,this.parts=u,this.length=c,this.index=0},_get:function(t){for(var e,n=this.parts,i=n.length,r=this.index;e=r,r&&!(n[--r].offset<t););for(;e<i;e++){var s=n[e];if(s.offset>=t){this.index=e;var a=n[e-1],o=a&&a.index===s.index?a.time:0,l=a?a.offset:0;return{index:s.index,time:o+(s.time-o)*(t-l)/(s.offset-l)}}}return{index:n[i-1].index,time:1}},drawPart:function(t,e,n){for(var i=this._get(e),r=this._get(n),s=i.index,a=r.index;s<=a;s++){var o=j.getPart(this.curves[s],s===i.index?i.time:0,s===r.index?r.time:1);s===i.index&&t.moveTo(o[0],o[1]),t.bezierCurveTo.apply(t,o.slice(2))}}},h.each(j._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this._get(e);return j[t](this.curves[n.index],n.time)}},{})),q=h.extend({initialize:function(t){for(var e,n=this.points=[],i=t._segments,r=t._closed,s=0,a=i.length;s<a;s++){var o=i[s].point;e&&e.equals(o)||n.push(e=o.clone())}r&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=r},fit:function(t){var e=this.points,n=e.length,i=null;return n>0&&(i=[new z(e[0])],n>1&&(this.fitCubic(i,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(t,e,n,i,r,s){var a=this.points;if(i-n===1){var o=a[n],l=a[i],u=o.getDistance(l)/3;return void this.addCurve(t,[o,o.add(r.normalize(u)),l.add(s.normalize(u)),l])}for(var c,h=this.chordLengthParameterize(n,i),f=Math.max(e,e*e),d=!0,p=0;p<=4;p++){var g=this.generateBezier(n,i,h,r,s),v=this.findMaxError(n,i,g,h);if(v.error<e&&d)return void this.addCurve(t,g);if(c=v.index,v.error>=f)break;d=this.reparameterize(n,i,h,g),f=v.error}var m=a[c-1].subtract(a[c+1]);this.fitCubic(t,e,n,c,r,m),this.fitCubic(t,e,c,i,m.negate(),s)},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new z(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,i,r){for(var s=Math.abs,a=this.points,o=a[t],l=a[e],u=[[0,0],[0,0]],c=[0,0],h=0,f=e-t+1;h<f;h++){var d=n[h],p=1-d,g=3*d*p,v=p*p*p,m=g*p,_=g*d,y=d*d*d,b=i.normalize(m),w=r.normalize(_),x=a[t+h].subtract(o.multiply(v+m)).subtract(l.multiply(_+y));u[0][0]+=b.dot(b),u[0][1]+=b.dot(w),u[1][0]=u[0][1],u[1][1]+=w.dot(w),c[0]+=b.dot(x),c[1]+=w.dot(x)}var C,S,k=u[0][0]*u[1][1]-u[1][0]*u[0][1];if(s(k)>1e-12){var T=u[0][0]*c[1]-u[1][0]*c[0];C=(c[0]*u[1][1]-c[1]*u[0][1])/k,S=T/k}else{var P=u[0][0]+u[0][1],E=u[1][0]+u[1][1];C=S=s(P)>1e-12?c[0]/P:s(E)>1e-12?c[1]/E:0}var O,I,A=l.getDistance(o),M=1e-12*A;if(C<M||S<M)C=S=A/3;else{var N=l.subtract(o);O=i.normalize(C),I=r.normalize(S),O.dot(N)-I.dot(N)>A*A&&(C=S=A/3,O=I=null)}return[o,o.add(O||i.normalize(C)),l.add(I||r.normalize(S)),l]},reparameterize:function(t,e,n,i){for(var r=t;r<=e;r++)n[r-t]=this.findRoot(i,this.points[r],n[r-t]);for(var r=1,s=n.length;r<s;r++)if(n[r]<=n[r-1])return!1;return!0},findRoot:function(t,e,n){for(var i=[],r=[],s=0;s<=2;s++)i[s]=t[s+1].subtract(t[s]).multiply(3);for(var s=0;s<=1;s++)r[s]=i[s+1].subtract(i[s]).multiply(2);var a=this.evaluate(3,t,n),o=this.evaluate(2,i,n),l=this.evaluate(1,r,n),u=a.subtract(e),c=o.dot(o)+u.dot(l);return v.isZero(c)?n:n-u.dot(o)/c},evaluate:function(t,e,n){for(var i=e.slice(),r=1;r<=t;r++)for(var s=0;s<=t-r;s++)i[s]=i[s].multiply(1-n).add(i[s+1].multiply(n));return i[0]},chordLengthParameterize:function(t,e){for(var n=[0],i=t+1;i<=e;i++)n[i-t]=n[i-t-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,r=e-t;i<=r;i++)n[i]/=n[r];return n},findMaxError:function(t,e,n,i){for(var r=Math.floor((e-t+1)/2),s=0,a=t+1;a<e;a++){var o=this.evaluate(3,n,i[a-t]),l=o.subtract(this.points[a]),u=l.x*l.x+l.y*l.y;u>=s&&(s=u,r=a)}return{error:s,index:r}}}),H=P.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&h.isPlainObject(t)&&t.x===l&&t.y===l;this._initialize(e&&t,!e&&_.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),W=H.extend({_class:"PointText",initialize:function(){H.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new y(t.x,t.y,this,"setPoint")},setPoint:function(){var t=_.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var i=this._lines,r=this._style,s=r.hasFill(),a=r.hasStroke(),o=r.getLeading(),l=t.shadowColor;t.font=r.getFontStyle(),t.textAlign=r.getJustification();for(var u=0,c=i.length;u<c;u++){t.shadowColor=l;var h=i[u];s&&(t.fillText(h,0,0),t.shadowColor="rgba(0,0,0,0)"),a&&t.strokeText(h,0,0),t.translate(0,o)}}},_getBounds:function(t,e){var n=this._style,i=this._lines,r=i.length,s=n.getJustification(),a=n.getLeading(),o=this.getView().getTextWidth(n.getFontStyle(),i),l=0;"left"!==s&&(l-=o/("center"===s?2:1));var u=new x(l,r?-.75*a:0,o,r*a);return t?t._transformBounds(u,u):u}}),$=h.extend(new function(){function t(t){var n,i=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(i){n=[0,0,0];for(var s=0;s<3;s++){var a=i[s+1];n[s]=parseInt(1==a.length?a+a:a,16)/255}}else if(i=t.match(/^rgba?\((.*)\)$/)){n=i[1].split(",");for(var s=0,o=n.length;s<o;s++){var a=+n[s];n[s]=s<3?a/255:a}}else if(u){var l=r[t];if(!l){e||(e=ot.getContext(1,1),e.globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var c=e.getImageData(0,0,1,1).data;l=r[t]=[c[0]/255,c[1]/255,c[2]/255]}n=l.slice()}else n=[0,0,0];return n}var e,n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},r={},s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],a={"rgb-hsb":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r;return[0===s?0:60*(i==t?(e-n)/s+(e<n?6:0):i==e?(n-t)/s+2:(t-e)/s+4),0===i?0:s/i,i]},"hsb-rgb":function(t,e,n){t=(t/60%6+6)%6;var i=Math.floor(t),r=t-i,i=s[i],a=[n,n*(1-e),n*(1-e*r),n*(1-e*(1-r))];return[a[i[0]],a[i[1]],a[i[2]]]},"rgb-hsl":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,a=0===s,o=a?0:60*(i==t?(e-n)/s+(e<n?6:0):i==e?(n-t)/s+2:(t-e)/s+4),l=(i+r)/2;return[o,a?0:l<.5?s/(i+r):s/(2-i-r),l]},"hsl-rgb":function(t,e,n){if(t=(t/360%1+1)%1,0===e)return[n,n,n];for(var i=[t+1/3,t,t-1/3],r=n<.5?n*(1+e):n+e-n*e,s=2*n-r,a=[],o=0;o<3;o++){var l=i[o];l<0&&(l+=1),l>1&&(l-=1),a[o]=6*l<1?s+6*(r-s)*l:2*l<1?r:3*l<2?s+(r-s)*(2/3-l)*6:s}return a},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return h.each(n,function(t,e){i[e]=[],h.each(t,function(t,r){var s=h.capitalize(t),a=/^(hue|saturation)$/.test(t),o=i[e][r]="gradient"===t?function(t){var e=this._components[0];return t=Z.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===e?function(){return _.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+s]=function(){return this._type===e||a&&/^hs[bl]$/.test(this._type)?this._components[r]:this._convert(e)[r]},this["set"+s]=function(t){this._type===e||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(e),this._properties=n[e],this._type=e),this._components[r]=o.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function e(r){var s,a,o,l,u=arguments,c=this.__read,f=0;Array.isArray(r)&&(u=r,r=u[0]);var d=null!=r&&typeof r;if("string"===d&&r in n&&(s=r,r=u[1],Array.isArray(r)?(a=r,o=u[2]):(c&&(f=1),u=h.slice(u,1),d=typeof r)),!a){if(l="number"===d?u:"object"===d&&null!=r.length?r:null){s||(s=l.length>=3?"rgb":"gray");var p=n[s].length;o=l[p],c&&(f+=l===arguments?p+(null!=o?1:0):1),l.length>p&&(l=h.slice(l,0,p))}else if("string"===d)s="rgb",a=t(r),4===a.length&&(o=a[3],a.length--);else if("object"===d)if(r.constructor===e){if(s=r._type,a=r._components.slice(),o=r._alpha,"gradient"===s)for(var g=1,v=a.length;g<v;g++){var m=a[g];m&&(a[g]=m.clone())}}else if(r.constructor===Z)s="gradient",l=u;else{s="hue"in r?"lightness"in r?"hsl":"hsb":"gradient"in r||"stops"in r||"radial"in r?"gradient":"gray"in r?"gray":"rgb";var _=n[s],y=i[s];this._components=a=[];for(var g=0,v=_.length;g<v;g++){var b=r[_[g]];null==b&&!g&&"gradient"===s&&"stops"in r&&(b={stops:r.stops,radial:r.radial}),b=y[g].call(this,b),null!=b&&(a[g]=b)}o=r.alpha}c&&s&&(f=1)}if(this._type=s||"rgb",!a){this._components=a=[];for(var y=i[this._type],g=0,v=y.length;g<v;g++){var b=y[g].call(this,l&&l[g]);null!=b&&(a[g]=b)}}return this._components=a,this._properties=n[this._type],this._alpha=o,c&&(this.__read=f),this},set:"#initialize",_serialize:function(t,e){var n=this.getComponents();return h.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=a[this._type+"-"+t])?e.apply(this,this._components):a["rgb-"+t].apply(this,a[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new $(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=n[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=h.isPlainValue(t,!0)?$.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&h.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,i=g.instance,r=0,s=t.length;r<s;r++){var a=this._components[r];null!=a&&e.push(t[r]+": "+(n?a:i.number(a)))}return null!=this._alpha&&e.push("alpha: "+i.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(t<0?0:t>1?1:t))}var n=this._convert("rgb"),i=t||null==this._alpha?1:this._alpha;return n=[e(n[0]),e(n[1]),e(n[2])],i<1&&n.push(i<0?0:i),t?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,i=this._components,r=i[0],s=r._stops,a=i[1],o=i[2],l=i[3],u=e&&e.inverted();if(u&&(a=u._transformPoint(a),o=u._transformPoint(o),l&&(l=u._transformPoint(l))),r._radial){var c=o.getDistance(a);if(l){var h=l.subtract(a);h.getLength()>c&&(l=a.add(h.normalize(c-.1)))}var f=l||a;n=t.createRadialGradient(f.x,f.y,0,a.x,a.y,c)}else n=t.createLinearGradient(a.x,a.y,o.x,o.y);for(var d=0,p=s.length;d<p;d++){var g=s[d],v=g._offset;n.addColorStop(null==v?d/(p-1):v,g._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,i=e.length;n<i;n++){var r=e[n];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:n,random:function(){var t=Math.random;return new $(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return h.each(t,function(t,e){this[e]=function(e){e=$.read(arguments);for(var n=this._type,i=this._components,r=e._convert(n),s=0,a=i.length;s<a;s++)r[s]=t(i[s],r[s]);return new $(n,r,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),Z=h.extend({_class:"Gradient",initialize:function(t,e){this._id=m.get(),t&&h.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"===typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return h.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;-1!=e&&(this._owners.splice(e,1),this._owners.length||(this._owners=l))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new Z(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,i=e.length;n<i;n++)e[n]._owner=l;e=this._stops=G.readList(t,0,{clone:!0});for(var n=0,i=e.length;n<i;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,i=e.length;if(i===n.length){for(var r=0;r<i;r++)if(!e[r].equals(n[r]))return!1;return!0}}return!1}}),G=h.extend({_class:"GradientStop",initialize:function(t,e){var n=t,i=e;"object"===typeof t&&e===l&&(Array.isArray(t)&&"number"!==typeof t[0]?(n=t[0],i=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,i=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(i)},clone:function(){return new G(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,i=this._offset;return h.serialize(null==i?[n]:[n,i],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var t=$.read(arguments,0,{clone:!0});t&&(t._owner=this),this._color=t,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),K=h.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new _,selectedColor:null},e=h.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=h.set({},e,{fillColor:new $}),i={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},r={beans:!0},s={_class:"Style",beans:!0,initialize:function(i,r,s){this._values={},this._owner=r,this._project=r&&r._project||s||a.project,this._defaults=!r||r instanceof E?e:r instanceof H?n:t,i&&this.set(i)}};return h.each(e,function(t,e){var n=/Color$/.test(e),a="shadowOffset"===e,o=h.capitalize(e),u=i[e],c="set"+o,f="get"+o;s[c]=function(t){var i=this._owner,r=i&&i._children;if(r&&r.length>0&&!(i instanceof V))for(var s=0,a=r.length;s<a;s++)r[s]._style[c](t);else if(e in this._defaults){var o=this._values[e];o!==t&&(n&&(o&&o._owner!==l&&(o._owner=l),t&&t.constructor===$&&(t._owner&&(t=t.clone()),t._owner=i)),this._values[e]=t,i&&i._changed(u||65))}},s[f]=function(t){var i,r=this._owner,s=r&&r._children;if(e in this._defaults&&(!s||!s.length||t||r instanceof V)){var i=this._values[e];if(i===l)(i=this._defaults[e])&&i.clone&&(i=i.clone());else{var o=n?$:a?_:null;!o||i&&i.constructor===o||(this._values[e]=i=o.read([i],0,{readNull:!0,clone:!0}),i&&n&&(i._owner=r))}}else if(s)for(var u=0,c=s.length;u<c;u++){var d=s[u]._style[f]();if(u){if(!h.equals(i,d))return l}else i=d}return i},r[f]=function(t){return this._style[f](t)},r[c]=function(t){this._style[c](t)}}),h.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var n="get"+e,i="set"+e;s[n]=r[n]="#get"+t,s[i]=r[i]="#set"+t}),P.inject(r),s},{set:function(t){var e=t instanceof K,n=e?t._values:t;if(n)for(var i in n)if(i in this._defaults){var r=n[i];this[i]=r&&e&&r.clone?r.clone():r}},equals:function(t){function e(t,e,n){var i=t._values,r=e._values,s=e._defaults;for(var a in i){var o=i[a],u=r[a];if(!(n&&a in r)&&!h.equals(o,u===l?s[a]:u))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=e?e:1.2*n}}),Y=new function(){function t(t,e,n,i){for(var r=["","webkit","moz","Moz","ms","o"],s=e[0].toUpperCase()+e.substring(1),a=0;a<6;a++){var o=r[a],l=o?o+s:e;if(l in t){if(!n)return t[l];t[l]=i;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,e){var n,i=t.ownerDocument,r=i.body,s=i.documentElement;try{n=t.getBoundingClientRect()}catch(t){n={left:0,top:0,width:0,height:0}}var a=n.left-(s.clientLeft||r.clientLeft||0),o=n.top-(s.clientTop||r.clientTop||0);if(!e){var l=i.defaultView;a+=l.pageXOffset||s.scrollLeft||r.scrollLeft,o+=l.pageYOffset||s.scrollTop||r.scrollTop}return new x(a,o,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,i=e.documentElement;return new x(0,0,n.innerWidth||i.clientWidth,n.innerHeight||i.clientHeight)},getOffset:function(t,e){return Y.getBounds(t,e).getPoint()},getSize:function(t){return Y.getBounds(t,!0).getSize()},isInvisible:function(t){return Y.getSize(t).equals(new b(0,0))},isInView:function(t){return!Y.isInvisible(t)&&Y.getViewportBounds(t).intersects(Y.getBounds(t,!0))},isInserted:function(t){return c.body.contains(t)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,i){if("object"===typeof n)for(var r in n)t(e,r,!0,n[r]);else t(e,n,!0,i)}}},X={add:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),s=0,a=r.length;s<a;s++)t.addEventListener(r[s],i,!1)},remove:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),s=0,a=r.length;s<a;s++)t.removeEventListener(r[s],i,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new _(e.pageX||e.clientX+c.documentElement.scrollLeft,e.pageY||e.clientY+c.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return X.getPoint(t).subtract(Y.getOffset(e||X.getTarget(t)))}};X.requestAnimationFrame=new function(){function t(){var e=r;r=[];for(var s=0,a=e.length;s<a;s++)e[s]();(i=n&&r.length)&&n(t)}var e,n=Y.getPrefixed(u,"requestAnimationFrame"),i=!1,r=[];return function(s){r.push(s),n?i||(n(t),i=!0):e||(e=setInterval(t,1e3/60))}};var Q=h.extend(f,{_class:"View",initialize:function t(e,n){function i(t){return n[t]||parseInt(n.getAttribute(t),10)}function r(){var t=Y.getSize(n);return t.isNaN()||t.isZero()?new b(i("width"),i("height")):t}var s;if(u&&n){this._id=n.getAttribute("id"),null==this._id&&n.setAttribute("id",this._id="view-"+t._id++),X.add(n,this._viewEvents);if(Y.setPrefixed(n.style,{userDrag:"none",userSelect:"none",touchCallout:"none",contentZooming:"none",tapHighlightColor:"rgba(0,0,0,0)"}),d.hasAttribute(n,"resize")){var o=this;X.add(u,this._windowEvents={resize:function(){o.setViewSize(r())}})}if(s=r(),d.hasAttribute(n,"stats")&&"undefined"!==typeof Stats){this._stats=new Stats;var l=this._stats.domElement,h=l.style,f=Y.getOffset(n);h.position="absolute",h.left=f.x+"px",h.top=f.y+"px",c.body.appendChild(l)}}else s=new b(n),n=null;this._project=e,this._scope=e._scope,this._element=n,this._pixelRatio||(this._pixelRatio=u&&u.devicePixelRatio||1),this._setElementSize(s.width,s.height),this._viewSize=s,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new S)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!a.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Q._focused===this&&(Q._focused=null),Q._views.splice(Q._views.indexOf(this),1),delete Q._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),X.remove(this._element,this._viewEvents),X.remove(u,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:h.each(P._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;X.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;Y.getPrefixed(c,"hidden")&&"true"!==d.getAttribute(e,"keepalive")||!Y.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){a=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new h({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new h(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=l},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new w(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=b.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new x(new _,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Y.isInView(this._element)},isInserted:function(){return Y.isInserted(this._element)},getPixelSize:function(t){var e,n=this._element;if(n){var i=n.parentNode,r=c.createElement("div");r.style.fontSize=t,i.appendChild(r),e=parseFloat(Y.getStyles(r).fontSize),i.removeChild(r)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},h.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?h:_).read(arguments),i=_.read(arguments,0,{readNull:!0});return this.transform((new S)[t](n,i||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new S;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=_.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose(),e=t&&t.scaling;return e?(e.x+e.y)/2:0},setZoom:function(t){this.transform((new S).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){var t=this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return e?new y(e.x,e.y,this,"setScaling"):l},setScaling:function(){var t=this.getScaling(),e=_.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(_.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(_.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(_.read(arguments))},getEventPoint:function(t){return this.viewToProject(X.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return c&&"string"===typeof e&&(e=c.getElementById(e)),new(u?J:Q)(t,e)}}},new function(){function t(t){var e=X.getTarget(t);return e.getAttribute&&Q._viewsById[e.getAttribute("id")]}function e(){var t=Q._focused;if(!t||!t.isVisible())for(var e=0,n=Q._views.length;e<n;e++)if((t=Q._views[e]).isVisible()){Q._focused=o=t;break}}function n(t,e,n){t._handleMouseEvent("mousemove",e,n)}function i(t,e,n,i,r,s,a){function o(t,n){if(t.responds(n)){if(l||(l=new it(n,i,r,e||t,s?r.subtract(s):null)),t.emit(n,l)&&(P=!0,l.prevented&&(E=!0),l.stopped))return u=!0}else{var a=O[n];if(a)return o(t,a)}}for(var l,u=!1;t&&t!==a&&!o(t,n);)t=t._parent;return u}function r(t,e,n,r,s,a){return t._project.removeOn(n),E=P=!1,C&&i(C,null,n,r,s,a)||e&&e!==C&&!e.isDescendant(C)&&i(e,null,n,r,s,a,C)||i(t,C||e||t,n,r,s,a)}if(u){var s,o,l,h,f,d=!1,p=!1,g=u.navigator;g.pointerEnabled||g.msPointerEnabled?(l="pointerdown MSPointerDown",h="pointermove MSPointerMove",f="pointerup pointercancel MSPointerUp MSPointerCancel"):(l="touchstart",h="touchmove",f="touchend touchcancel","ontouchstart"in u&&g.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(l+=" mousedown",h+=" mousemove",f+=" mouseup"));var v={},m={mouseout:function(t){var e=Q._focused,i=X.getRelatedTarget(t);if(e&&(!i||"HTML"===i.nodeName)){var r=X.getOffset(t,e._element),s=r.x,a=Math.abs,o=a(s),l=o-(1<<25);r.x=a(l)<o?l*(s<0?-1:1):s,n(e,t,e.viewToProject(r))}},scroll:e};v[l]=function(e){var n=Q._focused=t(e);d||(d=!0,n._handleMouseEvent("mousedown",e))},m[h]=function(i){var r=Q._focused;if(!p){var a=t(i);a?r!==a&&(r&&n(r,i),s||(s=r),r=Q._focused=o=a):o&&o===r&&(s&&!s.isInserted()&&(s=null),r=Q._focused=s,s=null,e())}r&&n(r,i)},m[l]=function(){p=!0},m[f]=function(t){var e=Q._focused;e&&d&&e._handleMouseEvent("mouseup",t),p=d=!1},X.add(c,m),X.add(u,{load:e});var _,y,b,w,x,C,S,k,T,P=!1,E=!1,O={doubleclick:"click",mousedrag:"mousemove"},I=!1,A={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:v,_handleMouseEvent:function(t,e,n){function s(t){return a.virtual[t]||c.responds(t)||u&&u.responds(t)}var a=this._itemEvents,o=a.native[t],l="mousemove"===t,u=this._scope.tool,c=this;l&&d&&s("mousedrag")&&(t="mousedrag"),n||(n=this.getEventPoint(e));var h=this.getBounds().contains(n),f=o&&h&&c._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),p=f&&f.item||null,g=!1,v={};if(v[t.substr(5)]=!0,o&&p!==x&&(x&&i(x,null,"mouseleave",e,n),p&&i(p,null,"mouseenter",e,n),x=p),I^h&&(i(this,null,h?"mouseenter":"mouseleave",e,n),_=h?this:null,g=!0),!h&&!v.drag||n.equals(b)||(r(this,p,l?t:"mousemove",e,n,b),g=!0),I=h,v.down&&h||v.up&&y){if(r(this,p,t,e,n,y),v.down){if(T=p===S&&Date.now()-k<300,w=S=p,!E&&p){for(var m=p;m&&!m.responds("mousedrag");)m=m._parent;m&&(C=p)}y=n}else v.up&&(E||p!==w||(k=Date.now(),r(this,p,T?"doubleclick":"click",e,n,y),T=!1),w=C=null);I=!1,g=!0}b=n,g&&u&&(P=u._handleMouseEvent(t,e,n,v)||P),(P&&!v.move||v.down&&s("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,n,i){function r(r){r.responds(t)&&(a=o,r.emit(t,s=s||new et(t,e,n,i)))}var s,o=this._scope,l=o.tool;this.isVisible()&&(r(this),l&&l.responds(t)&&r(l))},_countItemEvent:function(t,e){var n=this._itemEvents,i=n.native,r=n.virtual;for(var s in A)i[s]=(i[s]||0)+(A[s][t]||0)*e;r[t]=(r[t]||0)+e},statics:{updateFocus:e}}}}),J=Q.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof u.HTMLCanvasElement)){var n=b.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+h.slice(arguments,1));e=ot.getCanvas(n)}var i=this._context=e.getContext("2d");if(i.save(),this._pixelRatio=1,!/^off|false$/.test(d.getAttribute(e,"hidpi"))){var r=u.devicePixelRatio||1,s=Y.getPrefixed(i,"backingStorePixelRatio")||1;this._pixelRatio=r/s}Q.call(this,t,e),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var i=this._pixelRatio;if(t.base.call(this,e*i,n*i),1!==i){var r=this._element,s=this._context;if(!d.hasAttribute(r,"resize")){var a=r.style;a.width=e+"px",a.height=n+"px"}s.restore(),s.save(),s.scale(i,i)}},getPixelSize:function t(e){var n,i=a.agent;if(i&&i.firefox)n=t.base.call(this,e);else{var r=this._context,s=r.font;r.font=e+" serif",n=parseFloat(r.font),r.font=s}return n},getTextWidth:function(t,e){var n=this._context,i=n.font,r=0;n.font=t;for(var s=0,a=e.length;s<a;s++)r=Math.max(r,n.measureText(e[s]).width);return n.font=i,r},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),tt=h.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return nt.modifiers}}),et=tt.extend({_class:"KeyEvent",initialize:function(t,e,n,i){this.type=t,this.event=e,this.key=n,this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),nt=new function(){function t(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e||e===l?String.fromCharCode(t.keyCode):e,r[e]||(e.length>1?h.hyphenate(e):e.toLowerCase())}function e(t,i,r,s){var l,u=Q._focused;if(o[i]=t,t?f[i]=r:delete f[i],i.length>1&&(l=h.camelize(i))in d){d[l]=t;var c=a&&a.agent;if("meta"===l&&c&&c.mac)if(t)n={};else{for(var p in n)p in f&&e(!1,p,n[p],s);n=null}}else t&&n&&(n[i]=r);u&&u._handleKeyEvent(t?"keydown":"keyup",s,i,r)}var n,i,r={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},s={tab:"\t",space:" ",enter:"\r"},o={},f={},d=new h({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=a&&a.agent;return t&&t.mac?this.meta:this.control}}});return X.add(c,{keydown:function(n){var r=t(n),o=a&&a.agent;r.length>1||o&&o.chrome&&(n.altKey||o.mac&&n.metaKey||!o.mac&&n.ctrlKey)?e(!0,r,s[r]||(r.length>1?"":r),n):i=r},keypress:function(n){if(i){var r=t(n),s=n.charCode,a=s>=32?String.fromCharCode(s):r.length>1?"":r;r!==i&&(r=a.toLowerCase()),e(!0,r,a,n),i=null}},keyup:function(n){var i=t(n);i in f&&e(!1,i,f[i],n)}}),X.add(u,{blur:function(t){for(var n in f)e(!1,n,f[n],t)}}),{modifiers:d,isDown:function(t){return!!o[t]}}},it=tt.extend({_class:"MouseEvent",initialize:function(t,e,n,i,r){this.type=t,this.event=e,this.point=n,this.target=i,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),rt=tt.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),st=p.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){p.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,i){function r(t,e){var r=n,s=o?f._point:f._downPoint||r;if(o){if(f._moveCount&&r.equals(s))return!1;if(s&&(null!=t||null!=e)){var a=r.subtract(s),l=a.getLength();if(l<(t||0))return!1;e&&(r=s.add(a.normalize(Math.min(l,e))))}f._moveCount++}return f._point=r,f._lastPoint=s||r,i.down&&(f._moveCount=-1,f._downPoint=r,f._downCount++),!0}function s(){l&&(h=f.emit(t,new rt(f,t,e))||h)}a=this._scope,i.drag&&!this.responds(t)&&(t="mousemove");var o=i.move||i.drag,l=this.responds(t),u=this.minDistance,c=this.maxDistance,h=!1,f=this;if(i.down)r(),s();else if(i.up)r(null,c),s();else if(l)for(;r(u,c);)s();return h}}),at={request:function(t){var e=new o.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,h.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;0===n||200===n?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,i='Could not load "'+t.url+'" (Status: '+n+")";if(!t.onError)throw new Error(i);t.onError(i,n)},e.send(null)}},ot={canvases:[],getCanvas:function(t,e){if(!u)return null;var n,i=!0;"object"===typeof t&&(e=t.height,t=t.width),this.canvases.length?n=this.canvases.pop():(n=c.createElement("canvas"),i=!1);var r=n.getContext("2d");if(!r)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===t&&n.height===e?i&&r.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),r.save(),n},getContext:function(t,e){var n=this.getCanvas(t,e);return n?n.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},lt=new function(){function t(t,e,n){return.2989*t+.587*e+.114*n}function e(e,n,i,r){var s=r-t(e,n,i);d=e+s,p=n+s,g=i+s;var r=t(d,p,g),a=v(d,p,g),o=m(d,p,g);if(a<0){var l=r-a;d=r+(d-r)*r/l,p=r+(p-r)*r/l,g=r+(g-r)*r/l}if(o>255){var u=255-r,c=o-r;d=r+(d-r)*u/c,p=r+(p-r)*u/c,g=r+(g-r)*u/c}}function n(t,e,n){return m(t,e,n)-v(t,e,n)}function i(t,e,n,i){var r,s=[t,e,n],a=m(t,e,n),o=v(t,e,n);o=o===t?0:o===e?1:2,a=a===t?0:a===e?1:2,r=0===v(o,a)?1===m(o,a)?2:1:0,s[a]>s[o]?(s[r]=(s[r]-s[o])*i/(s[a]-s[o]),s[a]=i):s[r]=s[a]=0,s[o]=0,d=s[0],p=s[1],g=s[2]}var r,s,a,o,l,u,c,f,d,p,g,v=Math.min,m=Math.max,_=Math.abs,y={multiply:function(){d=l*r/255,p=u*s/255,g=c*a/255},screen:function(){d=l+r-l*r/255,p=u+s-u*s/255,g=c+a-c*a/255},overlay:function(){d=l<128?2*l*r/255:255-2*(255-l)*(255-r)/255,p=u<128?2*u*s/255:255-2*(255-u)*(255-s)/255,g=c<128?2*c*a/255:255-2*(255-c)*(255-a)/255},"soft-light":function(){var t=r*l/255;d=t+l*(255-(255-l)*(255-r)/255-t)/255,t=s*u/255,p=t+u*(255-(255-u)*(255-s)/255-t)/255,t=a*c/255,g=t+c*(255-(255-c)*(255-a)/255-t)/255},"hard-light":function(){d=r<128?2*r*l/255:255-2*(255-r)*(255-l)/255,p=s<128?2*s*u/255:255-2*(255-s)*(255-u)/255,g=a<128?2*a*c/255:255-2*(255-a)*(255-c)/255},"color-dodge":function(){d=0===l?0:255===r?255:v(255,255*l/(255-r)),p=0===u?0:255===s?255:v(255,255*u/(255-s)),g=0===c?0:255===a?255:v(255,255*c/(255-a))},"color-burn":function(){d=255===l?255:0===r?0:m(0,255-255*(255-l)/r),p=255===u?255:0===s?0:m(0,255-255*(255-u)/s),g=255===c?255:0===a?0:m(0,255-255*(255-c)/a)},darken:function(){d=l<r?l:r,p=u<s?u:s,g=c<a?c:a},lighten:function(){d=l>r?l:r,p=u>s?u:s,g=c>a?c:a},difference:function(){d=l-r,d<0&&(d=-d),p=u-s,p<0&&(p=-p),(g=c-a)<0&&(g=-g)},exclusion:function(){d=l+r*(255-l-l)/255,p=u+s*(255-u-u)/255,g=c+a*(255-c-c)/255},hue:function(){i(r,s,a,n(l,u,c)),e(d,p,g,t(l,u,c))},saturation:function(){i(l,u,c,n(r,s,a)),e(d,p,g,t(l,u,c))},luminosity:function(){e(l,u,c,t(r,s,a))},color:function(){e(r,s,a,t(l,u,c))},add:function(){d=v(l+r,255),p=v(u+s,255),g=v(c+a,255)},subtract:function(){d=m(l-r,0),p=m(u-s,0),g=m(c-a,0)},average:function(){d=(l+r)/2,p=(u+s)/2,g=(c+a)/2},negation:function(){d=255-_(255-r-l),p=255-_(255-s-u),g=255-_(255-a-c)}},b=this.nativeModes=h.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),w=ot.getContext(1,1);w&&(h.each(y,function(t,e){var n="darken"===e,i=!1;w.save();try{w.fillStyle=n?"#300":"#a00",w.fillRect(0,0,1,1),w.globalCompositeOperation=e,w.globalCompositeOperation===e&&(w.fillStyle=n?"#a00":"#300",w.fillRect(0,0,1,1),i=w.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(t){}w.restore(),b[e]=i}),ot.release(w)),this.process=function(t,e,n,i,h){var v=e.canvas,m="normal"===t;if(m||b[t])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=i,m||(n.globalCompositeOperation=t),n.drawImage(v,h.x,h.y),n.restore();else{var _=y[t];if(!_)return;for(var w=n.getImageData(h.x,h.y,v.width,v.height),x=w.data,C=e.getImageData(0,0,v.width,v.height).data,S=0,k=x.length;S<k;S+=4){r=C[S],l=x[S],s=C[S+1],u=x[S+1],a=C[S+2],c=x[S+2],o=C[S+3],f=x[S+3],_();var T=o*i/255,P=1-T;x[S]=T*d+P*l,x[S+1]=T*p+P*u,x[S+2]=T*g+P*c,x[S+3]=o*i+P*f}n.putImageData(w,h.x,h.y)}}},ut=new function(){function t(t,e,r){return n(c.createElementNS(i,t),e,r)}function e(t,e){var n=a[e],i=n?t.getAttributeNS(n,e):t.getAttribute(e);return"null"===i?null:i}function n(t,e,n){for(var i in e){var r=e[i],s=a[i];"number"===typeof r&&n&&(r=n.number(r)),s?t.setAttributeNS(s,i,r):t.setAttribute(i,r)}return t}var i="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",a={href:s,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};return{svg:i,xmlns:r,xlink:s,create:t,get:e,set:n}},ct=h.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof F||t instanceof I||t instanceof H)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var n=h.capitalize(e),i=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:i,fromSVG:i&&h.each(i,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{});return new function(){function t(t,e,n){var i=new h,r=t.getTranslation();if(e){t=t._shiftless();var s=t._inverseTransform(r);i[n?"cx":"x"]=s.x,i[n?"cy":"y"]=s.y,r=null}if(!t.isIdentity()){var a=t.decompose();if(a){var o=[],l=a.rotation,u=a.scaling,c=a.skewing;r&&!r.isZero()&&o.push("translate("+b.point(r)+")"),l&&o.push("rotate("+b.number(l)+")"),v.isZero(u.x-1)&&v.isZero(u.y-1)||o.push("scale("+b.point(u)+")"),c.x&&o.push("skewX("+b.number(c.x)+")"),c.y&&o.push("skewY("+b.number(c.y)+")"),i.transform=o.join(" ")}else i.transform="matrix("+t.getValues().join(",")+")"}return i}function e(e,n){for(var i=t(e._matrix),r=e._children,s=ut.create("g",i,b),a=0,o=r.length;a<o;a++){var l=r[a],u=_(l,n);if(u)if(l.isClipMask()){var c=ut.create("clipPath");c.appendChild(u),d(l,c,"clip"),ut.set(s,{"clip-path":"url(#"+c.id+")"})}else s.appendChild(u)}return s}function n(e,n){var i=t(e._matrix,!0),r=e.getSize(),s=e.getImage();return i.x-=r.width/2,i.y-=r.height/2,i.width=r.width,i.height=r.height,i.href=0==n.embedImages&&s&&s.src||e.toDataURL(),ut.create("image",i,b)}function i(e,n){var i=n.matchShapes;if(i){var s=e.toShape(!1);if(s)return r(s)}var a,o=e._segments,l=o.length,u=t(e._matrix);if(i&&l>=2&&!e.hasHandles())if(l>2){a=e._closed?"polygon":"polyline";for(var c=[],h=0;h<l;h++)c.push(b.point(o[h]._point));u.points=c.join(" ")}else{a="line";var f=o[0]._point,d=o[1]._point;u.set({x1:f.x,y1:f.y,x2:d.x,y2:d.y})}else a="path",u.d=e.getPathData(null,n.precision);return ut.create(a,u,b)}function r(e){var n=e._type,i=e._radius,r=t(e._matrix,!0,"rectangle"!==n);if("rectangle"===n){n="rect";var s=e._size,a=s.width,o=s.height;r.x-=a/2,r.y-=o/2,r.width=a,r.height=o,i.isZero()&&(i=null)}return i&&("circle"===n?r.r=i:(r.rx=i.width,r.ry=i.height)),ut.create(n,r,b)}function s(e,n){var i=t(e._matrix),r=e.getPathData(null,n.precision);return r&&(i.d=r),ut.create("path",i,b)}function a(e,n){var i=t(e._matrix,!0),r=e._definition,s=f(r,"symbol"),a=r._item,o=a.getBounds();return s||(s=ut.create("symbol",{viewBox:b.rectangle(o)}),s.appendChild(_(a,n)),d(r,s,"symbol")),i.href="#"+s.id,i.x+=o.x,i.y+=o.y,i.width=o.width,i.height=o.height,i.overflow="visible",ut.create("use",i,b)}function l(t){var e=f(t,"color");if(!e){var n,i=t.getGradient(),r=i._radial,s=t.getOrigin(),a=t.getDestination();if(r){n={cx:s.x,cy:s.y,r:s.getDistance(a)};var o=t.getHighlight();o&&(n.fx=o.x,n.fy=o.y)}else n={x1:s.x,y1:s.y,x2:a.x,y2:a.y};n.gradientUnits="userSpaceOnUse",e=ut.create((r?"radial":"linear")+"Gradient",n,b);for(var l=i._stops,u=0,c=l.length;u<c;u++){var h=l[u],p=h._color,g=p.getAlpha(),v=h._offset;n={offset:null==v?u/(c-1):v},p&&(n["stop-color"]=p.toCSS(!0)),g<1&&(n["stop-opacity"]=g),e.appendChild(ut.create("stop",n,b))}d(t,e,"color")}return"url(#"+e.id+")"}function u(e){var n=ut.create("text",t(e._matrix,!0),b);return n.textContent=e._content,n}function c(t,e,n){var i={},r=!n&&t.getParent(),s=[];return null!=t._name&&(i.id=t._name),h.each(ct,function(e){var n=e.get,a=e.type,o=t[n]();if(e.exportFilter?e.exportFilter(t,o):!r||!h.equals(r[n](),o)){if("color"===a&&null!=o){var u=o.getAlpha();u<1&&(i[e.attribute+"-opacity"]=u)}"style"===a?s.push(e.attribute+": "+o):i[e.attribute]=null==o?"none":"color"===a?o.gradient?l(o,t):o.toCSS(!0):"array"===a?o.join(","):"lookup"===a?e.toSVG[o]:o}}),s.length&&(i.style=s.join(";")),1===i.opacity&&delete i.opacity,t._visible||(i.visibility="hidden"),ut.set(e,i,b)}function f(t,e){return w||(w={ids:{},svgs:{}}),t&&w.svgs[e+"-"+(t._id||t.__id||(t.__id=m.get("svg")))]}function d(t,e,n){w||f();var i=w.ids[n]=(w.ids[n]||0)+1;e.id=n+"-"+i,w.svgs[n+"-"+(t._id||t.__id)]=e}function p(t,e){var n=t,i=null;if(w){n="svg"===t.nodeName.toLowerCase()&&t;for(var r in w.svgs)i||(n||(n=ut.create("svg"),n.appendChild(t)),i=n.insertBefore(ut.create("defs"),n.firstChild)),i.appendChild(w.svgs[r]);w=null}return e.asString?(new o.XMLSerializer).serializeToString(n):n}function _(t,e,n){var i=C[t._class],r=i&&i(t,e);if(r){var s=e.onExport;s&&(r=s(t,r,e)||r);var a=JSON.stringify(t._data);a&&"{}"!==a&&"null"!==a&&r.setAttribute("data-paper-data",a)}return r&&c(t,r,n)}function y(t){return t||(t={}),b=new g(t.precision),t}var b,w,C={Group:e,Layer:e,Raster:n,Path:i,Shape:r,CompoundPath:s,SymbolItem:a,PointText:u};P.inject({exportSVG:function(t){return t=y(t),p(_(this,t,!0),t)}}),T.inject({exportSVG:function(e){e=y(e);var n=this._children,i=this.getView(),r=h.pick(e.bounds,"view"),s=e.matrix||"view"===r&&i._matrix,a=s&&S.read([s]),o="view"===r?new x([0,0],i.getViewSize()):"content"===r?P._getBounds(n,a,{stroke:!0}).rect:x.read([r],0,{readNull:!0}),l={version:"1.1",xmlns:ut.svg,"xmlns:xlink":ut.xlink};o&&(l.width=o.width,l.height=o.height,(o.x||o.y)&&(l.viewBox=b.rectangle(o)));var u=ut.create("svg",l,b),c=u;a&&!a.isIdentity()&&(c=u.appendChild(ut.create("g",t(a),b)));for(var f=0,d=n.length;f<d;f++)c.appendChild(_(n[f],e,!0));return p(u,e)}})},new function(){function t(t,e,n,i,r){var s=ut.get(t,e),a=null==s?i?null:n?"":0:n?s:parseFloat(s);return/%\s*$/.test(s)?a/100*(r?1:k[/x|^width/.test(e)?"width":"height"]):a}function e(e,n,i,r,s){return n=t(e,n||"x",!1,r,s),i=t(e,i||"y",!1,r,s),!r||null!=n&&null!=i?new _(n,i):null}function n(e,n,i,r,s){return n=t(e,n||"width",!1,r,s),i=t(e,i||"height",!1,r,s),!r||null!=n&&null!=i?new b(n,i):null}function i(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?y(t)||t:"lookup"===e?n[t]:t}function r(t,e,n,i){var r=t.childNodes,s="clippath"===e,a="defs"===e,o=new E,l=o._project,u=l._currentStyle,c=[];if(s||a||(o=m(o,t,i),l._currentStyle=o._style.clone()),i)for(var h=t.querySelectorAll("defs"),f=0,d=h.length;f<d;f++)w(h[f],n,!1);for(var f=0,d=r.length;f<d;f++){var p,g=r[f];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(p=w(g,n,!1))||p instanceof N||c.push(p)}return o.addChildren(c),s&&(o=m(o.reduce(),t,i)),l._currentStyle=u,(s||a)&&(o.remove(),o=null),o}function s(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),i=[],r=0,s=n.length;r<s;r+=2)i.push(new _(parseFloat(n[r]),parseFloat(n[r+1])));var a=new B(i);return"polygon"===e&&a.closePath(),a}function f(t){return F.create(t.getAttribute("d"))}function d(n,i){var r,s=(t(n,"href",!0)||"").substring(1),a="radialgradient"===i;if(s)r=O[s].getGradient(),r._radial^a&&(r=r.clone(),r._radial=a);else{for(var o=n.childNodes,l=[],u=0,c=o.length;u<c;u++){var h=o[u];1===h.nodeType&&l.push(m(new G,h))}r=new Z(l,a)}var f,d,p,g="userSpaceOnUse"!==t(n,"gradientUnits",!0);return a?(f=e(n,"cx","cy",!1,g),d=f.add(t(n,"r",!1,!1,g),0),p=e(n,"fx","fy",!0,g)):(f=e(n,"x1","y1",!1,g),d=e(n,"x2","y2",!1,g)),m(new $(r,f,d,p),n)._scaleToBounds=g,null}function p(t,e,n,i){if(t.transform){for(var r=(i.getAttribute(n)||"").split(/\)\s*/g),s=new S,a=0,o=r.length;a<o;a++){var l=r[a];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],h=u[1].split(/[\s,]+/g),f=0,d=h.length;f<d;f++)h[f]=parseFloat(h[f]);switch(c){case"matrix":s.append(new S(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":s.rotate(h[0],h[1],h[2]);break;case"translate":s.translate(h[0],h[1]);break;case"scale":s.scale(h);break;case"skewX":s.skew(h[0],0);break;case"skewY":s.skew(0,h[0])}}t.transform(s)}}function g(t,e,n){var i="fill-opacity"===n?"getFillColor":"getStrokeColor",r=t[i]&&t[i]();r&&r.setAlpha(parseFloat(e))}function v(t,e,n){var i=t.attributes[e],r=i&&i.value;if(!r){var s=h.camelize(e);r=t.style[s],r||n.node[s]===n.parent[s]||(r=n.node[s])}return r?"none"===r?null:r:l}function m(t,e,n){if(e.style){var i=e.parentNode,r={node:Y.getStyles(e)||{},parent:!n&&!/^defs$/i.test(i.tagName)&&Y.getStyles(i)||{}};h.each(L,function(n,i){var s=v(e,i,r);t=s!==l&&n(t,s,i,e,r)||t})}return t}function y(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),n=e&&e[1],i=n&&O[u?n.replace(u.location.href.split("#")[0]+"#",""):n];return i&&i._scaleToBounds&&(i=i.clone(),i._scaleToBounds=!0),i}function w(t,e,i){var r,s,o,l=t.nodeName.toLowerCase(),u="#document"!==l,f=c.body;i&&u&&(k=a.getView().getSize(),k=n(t,null,null,!0)||k,r=ut.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),s=t.parentNode,o=t.nextSibling,r.appendChild(t),f.appendChild(r));var d=a.settings,p=d.applyMatrix,g=d.insertItems;d.applyMatrix=!1,d.insertItems=!1;var v=M[l],_=v&&v(t,l,e,i)||null;if(d.insertItems=g,d.applyMatrix=p,_){!u||_ instanceof E||(_=m(_,t,i));var y=e.onImport,b=u&&t.getAttribute("data-paper-data");y&&(_=y(t,_,e)||_),e.expandShapes&&_ instanceof I&&(_.remove(),_=_.toPath()),b&&(_._data=JSON.parse(b))}return r&&(f.removeChild(r),s&&(o?s.insertBefore(t,o):s.appendChild(t))),i&&(O={},_&&h.pick(e.applyMatrix,p)&&_.matrix.apply(!0,!0)),_}function C(t,e,n){function i(i){try{var c="object"===typeof i?i:(new o.DOMParser).parseFromString(i,"image/svg+xml");if(!c.nodeName)throw c=null,new Error("Unsupported SVG source: "+t);a=s,u=w(c,e,!0),e&&!1===e.insert||n._insertItem(l,u);var h=e.onLoad;h&&h(u,i)}catch(t){r(t)}}function r(t,n){var i=e.onError;if(!i)throw new Error(t);i(t,n)}if(!t)return null;e="function"===typeof e?{onLoad:e}:e||{};var s=a,u=null;if("string"!==typeof t||/^.*</.test(t)){if("undefined"!==typeof File&&t instanceof File){var h=new FileReader;return h.onload=function(){i(h.result)},h.onerror=function(){r(h.error)},h.readAsText(t)}i(t)}else{var f=c.getElementById(t);f?i(f):at.request({url:t,async:!0,onLoad:i,onError:r})}return u}var k,O={},M={"#document":function(t,e,n,i){for(var r=t.childNodes,s=0,a=r.length;s<a;s++){var o=r[s];if(1===o.nodeType)return w(o,n,i)}},g:r,svg:r,clippath:r,polygon:s,polyline:s,path:f,lineargradient:d,radialgradient:d,image:function(i){var r=new A(t(i,"href",!0));return r.on("load",function(){var t=n(i);this.setSize(t);var r=this._matrix._transformPoint(e(i).add(t.divide(2)));this.translate(r)}),r},symbol:function(t,e,n,i){return new N(r(t,e,n,i),!0)},defs:r,use:function(n){var i=(t(n,"href",!0)||"").substring(1),r=O[i],s=e(n);return r?r instanceof N?r.place(s):r.clone().translate(s):null},circle:function(n){return new I.Circle(e(n,"cx","cy"),t(n,"r"))},ellipse:function(t){return new I.Ellipse({center:e(t,"cx","cy"),radius:n(t,"rx","ry")})},rect:function(t){return new I.Rectangle(new x(e(t),n(t)),n(t,"rx","ry"))},line:function(t){return new B.Line(e(t,"x1","y1"),e(t,"x2","y2"))},text:function(t){var n=new W(e(t).add(e(t,"dx","dy")));return n.setContent(t.textContent.trim()||""),n}},L=h.set(h.each(ct,function(t){this[t.attribute]=function(e,n){if(e[t.set]&&(e[t.set](i(n,t.type,t.fromSVG)),"color"===t.type)){var r=e[t.get]();if(r&&r._scaleToBounds){var s=e.getBounds();r.transform((new S).translate(s.getPoint()).scale(s.getSize()))}}}},{}),{id:function(t,e){O[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var n=y(e);if(n){if(n=n.clone(),n.setClipMask(!0),!(t instanceof E))return new E(n,t);t.insertChild(0,n)}},gradientTransform:p,transform:p,"fill-opacity":g,"stroke-opacity":g,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var n=e.match(/(.*)%$/);t.setOffset(n?n[1]/100:parseFloat(e))}},viewBox:function(t,e,r,s,a){var o,l,u=new x(i(e,"array")),c=n(s,null,null,!0);if(t instanceof E){var h=c?c.divide(u.getSize()):1,l=(new S).scale(h).translate(u.getPoint().negate());o=t}else t instanceof N&&(c&&u.setSize(c),o=t._item);if(o){if("visible"!==v(s,"overflow",a)){var f=new I.Rectangle(u);f.setClipMask(!0),o.addChild(f)}l&&o.transform(l)}}});P.inject({importSVG:function(t,e){return C(t,e,this)}}),T.inject({importSVG:function(t,e){return this.activate(),C(t,e,this)}})},h.exports.PaperScript=function(){function t(t,e){return(w.acorn||x).parse(t,e)}function e(t,e,n){var i=k[e];if(t&&t[i]){var r=t[i](n);return"!="===e?!r:r}switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n;case"==":return t==n;case"!=":return t!=n}}function f(t,e){var n=T[t];if(e&&e[n])return e[n]();switch(t){case"+":return+e;case"-":return-e}}function p(e,n){function i(t){for(var e=0,n=d.length;e<n;e++){var i=d[e];if(i[0]>=t)break;t+=i[1]}return t}function r(t){return e.substring(i(t.range[0]),i(t.range[1]))}function s(t,n){return e.substring(i(t.range[1]),i(n.range[0]))}function l(t,n){for(var r=i(t.range[0]),s=i(t.range[1]),a=0,o=d.length-1;o>=0;o--)if(r>d[o][0]){a=o+1;break}d.splice(a,0,[r,n.length-s+r]),e=e.substring(0,r)+n+e.substring(s)}function h(t,e){if(t){for(var n in t)if("range"!==n&&"loc"!==n){var i=t[n];if(Array.isArray(i))for(var a=0,o=i.length;a<o;a++)h(i[a],t);else i&&"object"===typeof i&&h(i,t)}switch(t.type){case"UnaryExpression":if(t.operator in T&&"Literal"!==t.argument.type){var u=r(t.argument);l(t,'$__("'+t.operator+'", '+u+")")}break;case"BinaryExpression":if(t.operator in k&&"Literal"!==t.left.type){var c=r(t.left),f=r(t.right),d=s(t.left,t.right),p=t.operator;l(t,"__$__("+c+","+d.replace(new RegExp("\\"+p),'"'+p+'"')+", "+f+")")}break;case"UpdateExpression":case"AssignmentExpression":var g=e&&e.type;if(!("ForStatement"===g||"BinaryExpression"===g&&/^[=!<>]/.test(e.operator)||"MemberExpression"===g&&e.computed))if("UpdateExpression"===t.type){var u=r(t.argument),v="__$__("+u+', "'+t.operator[0]+'", 1)',m=u+" = "+v;t.prefix||"AssignmentExpression"!==g&&"VariableDeclarator"!==g||(r(e.left||e.id)===u&&(m=v),m=u+"; "+m),l(t,m)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){var c=r(t.left),f=r(t.right),v=c+" = __$__("+c+', "'+t.operator[0]+'", '+f+")";l(t,/^\(.*\)$/.test(r(t))?"("+v+")":v)}}}}if(!e)return"";n=n||{};var f,d=[],p=n.url||"",g=a.agent,v=g.versionNumber,m=!1,_=n.sourceMaps,y=n.source||e,b=/\r\n|\n|\r/gm,w=n.offset||0;if(_&&(g.chrome&&v>=30||g.webkit&&v>=537.76||g.firefox&&v>=23||g.node)){if(g.node)w-=2;else if(u&&p&&!u.location.href.indexOf(p)){var x=c.getElementsByTagName("html")[0].innerHTML;w=x.substr(0,x.indexOf(e)+1).match(b).length+1}m=w>0&&!(g.chrome&&v>=36||g.safari&&v>=600||g.firefox&&v>=40||g.node);var C=["AA"+function(t){var e="";for(t=(Math.abs(t)<<1)+(t<0?1:0);t||!e;){var n=31&t;t>>=5,t&&(n|=32),e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n]}return e}(m?0:w)+"A"];C.length=(e.match(b)||[]).length+1+(m?w:0),f={version:3,file:p,names:[],mappings:C.join(";AACA"),sourceRoot:"",sources:[p],sourcesContent:[y]}}return h(t(e,{ranges:!0,preserveParens:!0})),f&&(m&&(e=new Array(w+1).join("\n")+e),/^(inline|both)$/.test(_)&&(e+="\n//# sourceMappingURL=data:application/json;base64,"+o.btoa(unescape(encodeURIComponent(JSON.stringify(f))))),e+="\n//# sourceURL="+(p||"paperscript")),{url:p,source:y,code:e,map:f}}function g(t,n,i){function r(e,n){for(var i in e)!n&&/^_/.test(i)||!new RegExp("([\\b\\s\\W]|^)"+i.replace(/\$/g,"\\$")+"\\b").test(t)||(g.push(i),v.push(e[i]))}a=n;var s,o=n.getView(),l=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(t)&&!/\bnew\s+Tool\b/.test(t)?new st:null,u=l?l._events:[],d=["onFrame","onResize"].concat(u),g=[],v=[],m="object"===typeof t?t:p(t,i);t=m.code,r({__$__:e,$__:f,paper:n,view:o,tool:l},!0),r(n),(d=h.each(d,function(e){new RegExp("\\s+"+e+"\\b").test(t)&&(g.push(e),this.push(e+": "+e))},[]).join(", "))&&(t+="\nreturn { "+d+" };");var y=a.agent;if(c&&(y.chrome||y.firefox&&y.versionNumber<40)){var b=c.createElement("script"),w=c.head||c.getElementsByTagName("head")[0];y.firefox&&(t="\n"+t),b.appendChild(c.createTextNode("paper._execute = function("+g+") {"+t+"\n}")),w.appendChild(b),s=a._execute,delete a._execute,w.removeChild(b)}else s=Function(g,t);var x=s.apply(n,v)||{};return h.each(u,function(t){var e=x[t];e&&(l[t]=e)}),o&&(x.onResize&&o.setOnResize(x.onResize),o.emit("resize",{size:o.size,delta:new _}),x.onFrame&&o.setOnFrame(x.onFrame),o.requestUpdate()),m}function v(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==d.getAttribute(t,"ignore")){var e=d.getAttribute(t,"canvas"),n=c.getElementById(e),i=t.src||t.getAttribute("data-src"),r=d.hasAttribute(t,"async");if(!n)throw new Error('Unable to find canvas with id "'+e+'"');var s=d.get(n.getAttribute("data-paper-scope"))||(new d).setup(n);return n.setAttribute("data-paper-scope",s._id),i?at.request({url:i,async:r,mimeType:"text/plain",onLoad:function(t){g(t,s,i)}}):g(t.innerHTML,s,t.baseURI),t.setAttribute("data-paper-ignore","true"),s}}function m(){h.each(c&&c.getElementsByTagName("script"),v)}function y(t){return t?v(t):m()}var w=this,x=w.acorn;if(!x)try{x=n(111)}catch(t){}if(!x){var C,S;x=C=S={},function(t,e){"object"==typeof C&&"object"==typeof S?e(C):(r=[C],i=e,(s="function"===typeof i?i.apply(C,r):i)!==l&&(S.exports=s))}(0,function(t){"use strict";function e(t){ht=t||{};for(var e in gt)Object.prototype.hasOwnProperty.call(ht,e)||(ht[e]=gt[e]);pt=ht.sourceFile||null}function n(t,e){var n=vt(ft,t);e+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(e);throw i.pos=t,i.loc=n,i.raisedAt=mt,i}function i(t){function e(t){if(1==t.length)return n+="return str === "+JSON.stringify(t[0])+";";n+="switch(str){";for(var e=0;e<t.length;++e)n+="case "+JSON.stringify(t[e])+":";n+="return true}return false;"}t=t.split(" ");var n="",i=[];t:for(var r=0;r<t.length;++r){for(var s=0;s<i.length;++s)if(i[s][0].length==t[r].length){i[s].push(t[r]);continue t}i.push([t[r]])}if(i.length>3){i.sort(function(t,e){return e.length-t.length}),n+="switch(str.length){";for(var r=0;r<i.length;++r){var a=i[r];n+="case "+a[0].length+":",e(a)}n+="}"}else e(t);return new Function("str",n)}function r(){this.line=kt,this.column=mt-Tt}function s(){kt=1,mt=Tt=0,St=!0,u()}function a(t,e){yt=mt,ht.locations&&(wt=new r),xt=t,u(),Ct=e,St=t.beforeExpr}function o(){var t=ht.onComment&&ht.locations&&new r,e=mt,i=ft.indexOf("*/",mt+=2);if(-1===i&&n(mt-2,"Unterminated comment"),mt=i+2,ht.locations){Ke.lastIndex=e;for(var s;(s=Ke.exec(ft))&&s.index<mt;)++kt,Tt=s.index+s[0].length}ht.onComment&&ht.onComment(!0,ft.slice(e+2,i),e,mt,t,ht.locations&&new r)}function l(){for(var t=mt,e=ht.onComment&&ht.locations&&new r,n=ft.charCodeAt(mt+=2);mt<dt&&10!==n&&13!==n&&8232!==n&&8233!==n;)++mt,n=ft.charCodeAt(mt);ht.onComment&&ht.onComment(!1,ft.slice(t+2,mt),t,mt,e,ht.locations&&new r)}function u(){for(;mt<dt;){var t=ft.charCodeAt(mt);if(32===t)++mt;else if(13===t){++mt;var e=ft.charCodeAt(mt);10===e&&++mt,ht.locations&&(++kt,Tt=mt)}else if(10===t||8232===t||8233===t)++mt,ht.locations&&(++kt,Tt=mt);else if(t>8&&t<14)++mt;else if(47===t){var e=ft.charCodeAt(mt+1);if(42===e)o();else{if(47!==e)break;l()}}else if(160===t)++mt;else{if(!(t>=5760&&He.test(String.fromCharCode(t))))break;++mt}}}function c(){var t=ft.charCodeAt(mt+1);return t>=48&&t<=57?S(!0):(++mt,a(be))}function h(){var t=ft.charCodeAt(mt+1);return St?(++mt,w()):61===t?b(Se,2):b(xe,1)}function f(){return 61===ft.charCodeAt(mt+1)?b(Se,2):b(Re,1)}function d(t){var e=ft.charCodeAt(mt+1);return e===t?b(124===t?Pe:Ee,2):61===e?b(Se,2):b(124===t?Oe:Ae,1)}function p(){return 61===ft.charCodeAt(mt+1)?b(Se,2):b(Ie,1)}function g(t){var e=ft.charCodeAt(mt+1);return e===t?45==e&&62==ft.charCodeAt(mt+2)&&Ge.test(ft.slice(Et,mt))?(mt+=3,l(),u(),y()):b(ke,2):61===e?b(Se,2):b(ze,1)}function v(t){var e=ft.charCodeAt(mt+1),n=1;return e===t?(n=62===t&&62===ft.charCodeAt(mt+2)?3:2,61===ft.charCodeAt(mt+n)?b(Se,n+1):b(Le,n)):33==e&&60==t&&45==ft.charCodeAt(mt+2)&&45==ft.charCodeAt(mt+3)?(mt+=4,l(),u(),y()):(61===e&&(n=61===ft.charCodeAt(mt+2)?3:2),b(Ne,n))}function m(t){return 61===ft.charCodeAt(mt+1)?b(Me,61===ft.charCodeAt(mt+2)?3:2):b(61===t?Ce:Te,1)}function _(t){switch(t){case 46:return c();case 40:return++mt,a(ge);case 41:return++mt,a(ve);case 59:return++mt,a(_e);case 44:return++mt,a(me);case 91:return++mt,a(he);case 93:return++mt,a(fe);case 123:return++mt,a(de);case 125:return++mt,a(pe);case 58:return++mt,a(ye);case 63:return++mt,a(we);case 48:var e=ft.charCodeAt(mt+1);if(120===e||88===e)return C();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return S(!1);case 34:case 39:return k(t);case 47:return h(t);case 37:case 42:return f();case 124:case 38:return d(t);case 94:return p();case 43:case 45:return g(t);case 60:case 62:return v(t);case 61:case 33:return m(t);case 126:return b(Te,1)}return!1}function y(t){if(t?mt=_t+1:_t=mt,ht.locations&&(bt=new r),t)return w();if(mt>=dt)return a(Dt);var e=ft.charCodeAt(mt);if(Ye(e)||92===e)return E();var i=_(e);if(!1===i){var s=String.fromCharCode(e);if("\\"===s||$e.test(s))return E();n(mt,"Unexpected character '"+s+"'")}return i}function b(t,e){var n=ft.slice(mt,mt+e);mt+=e,a(t,n)}function w(){for(var t,e,i="",r=mt;;){mt>=dt&&n(r,"Unterminated regular expression");var s=ft.charAt(mt);if(Ge.test(s)&&n(r,"Unterminated regular expression"),t)t=!1;else{if("["===s)e=!0;else if("]"===s&&e)e=!1;else if("/"===s&&!e)break;t="\\"===s}++mt}var i=ft.slice(r,mt);++mt;var o=P();o&&!/^[gmsiy]*$/.test(o)&&n(r,"Invalid regexp flag");try{var l=new RegExp(i,o)}catch(t){t instanceof SyntaxError&&n(r,t.message),n(t)}return a(zt,l)}function x(t,e){for(var n=mt,i=0,r=0,s=null==e?1/0:e;r<s;++r){var a,o=ft.charCodeAt(mt);if((a=o>=97?o-97+10:o>=65?o-65+10:o>=48&&o<=57?o-48:1/0)>=t)break;++mt,i=i*t+a}return mt===n||null!=e&&mt-n!==e?null:i}function C(){mt+=2;var t=x(16);return null==t&&n(_t+2,"Expected hexadecimal number"),Ye(ft.charCodeAt(mt))&&n(mt,"Identifier directly after number"),a(Lt,t)}function S(t){var e=mt,i=!1,r=48===ft.charCodeAt(mt);t||null!==x(10)||n(e,"Invalid number"),46===ft.charCodeAt(mt)&&(++mt,x(10),i=!0);var s=ft.charCodeAt(mt);69!==s&&101!==s||(s=ft.charCodeAt(++mt),43!==s&&45!==s||++mt,null===x(10)&&n(e,"Invalid number"),i=!0),Ye(ft.charCodeAt(mt))&&n(mt,"Identifier directly after number");var o,l=ft.slice(e,mt);return i?o=parseFloat(l):r&&1!==l.length?/[89]/.test(l)||Mt?n(e,"Invalid number"):o=parseInt(l,8):o=parseInt(l,10),a(Lt,o)}function k(t){mt++;for(var e="";;){mt>=dt&&n(_t,"Unterminated string constant");var i=ft.charCodeAt(mt);if(i===t)return++mt,a(Rt,e);if(92===i){i=ft.charCodeAt(++mt);var r=/^[0-7]+/.exec(ft.slice(mt,mt+3));for(r&&(r=r[0]);r&&parseInt(r,8)>255;)r=r.slice(0,-1);if("0"===r&&(r=null),++mt,r)Mt&&n(mt-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(r,8)),mt+=r.length-1;else switch(i){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(T(2));break;case 117:e+=String.fromCharCode(T(4));break;case 85:e+=String.fromCharCode(T(8));break;case 116:e+="\t";break;case 98:e+="\b";break;case 118:e+="\v";break;case 102:e+="\f";break;case 48:e+="\0";break;case 13:10===ft.charCodeAt(mt)&&++mt;case 10:ht.locations&&(Tt=mt,++kt);break;default:e+=String.fromCharCode(i)}}else 13!==i&&10!==i&&8232!==i&&8233!==i||n(_t,"Unterminated string constant"),e+=String.fromCharCode(i),++mt}}function T(t){var e=x(16,t);return null===e&&n(_t,"Bad character escape sequence"),e}function P(){De=!1;for(var t,e=!0,i=mt;;){var r=ft.charCodeAt(mt);if(Xe(r))De&&(t+=ft.charAt(mt)),++mt;else{if(92!==r)break;De||(t=ft.slice(i,mt)),De=!0,117!=ft.charCodeAt(++mt)&&n(mt,"Expecting Unicode escape sequence \\uXXXX"),++mt;var s=T(4),a=String.fromCharCode(s);a||n(mt-1,"Invalid Unicode escape"),(e?Ye(s):Xe(s))||n(mt-4,"Invalid Unicode escape"),t+=a}e=!1}return De?t:ft.slice(i,mt)}function E(){var t=P(),e=jt;return!De&&qe(t)&&(e=ce[t]),a(e,t)}function O(){Pt=_t,Et=yt,Ot=wt,y()}function I(t){if(Mt=t,mt=_t,ht.locations)for(;mt<Tt;)Tt=ft.lastIndexOf("\n",Tt-2)+1,--kt;u(),y()}function A(){this.type=null,this.start=_t,this.end=null}function M(){this.start=bt,this.end=null,null!==pt&&(this.source=pt)}function N(){var t=new A;return ht.locations&&(t.loc=new M),ht.directSourceFile&&(t.sourceFile=ht.directSourceFile),ht.ranges&&(t.range=[_t,0]),t}function L(t){var e=new A;return e.start=t.start,ht.locations&&(e.loc=new M,e.loc.start=t.loc.start),ht.ranges&&(e.range=[t.range[0],0]),e}function z(t,e){return t.type=e,t.end=Et,ht.locations&&(t.loc.end=Ot),ht.ranges&&(t.range[1]=Et),t}function R(t){return ht.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function j(t){if(xt===t)return O(),!0}function D(){return!ht.strictSemicolons&&(xt===Dt||xt===pe||Ge.test(ft.slice(Et,_t)))}function F(){j(_e)||D()||V()}function B(t){xt===t?O():V()}function V(){n(_t,"Unexpected token")}function U(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&n(t.start,"Assigning to rvalue"),Mt&&"Identifier"===t.type&&Ue(t.name)&&n(t.start,"Assigning to "+t.name+" in strict mode")}function q(t){Pt=Et=mt,ht.locations&&(Ot=new r),It=Mt=null,At=[],y();var e=t||N(),n=!0;for(t||(e.body=[]);xt!==Dt;){var i=H();e.body.push(i),n&&R(i)&&I(!0),n=!1}return z(e,"Program")}function H(){(xt===xe||xt===Se&&"/="==Ct)&&y(!0);var t=xt,e=N();switch(t){case Ft:case Ut:O();var i=t===Ft;j(_e)||D()?e.label=null:xt!==jt?V():(e.label=ct(),F());for(var r=0;r<At.length;++r){var s=At[r];if(null==e.label||s.name===e.label.name){if(null!=s.kind&&(i||"loop"===s.kind))break;if(e.label&&i)break}}return r===At.length&&n(e.start,"Unsyntactic "+t.keyword),z(e,i?"BreakStatement":"ContinueStatement");case qt:return O(),F(),z(e,"DebuggerStatement");case Wt:return O(),At.push(Qe),e.body=H(),At.pop(),B(ne),e.test=W(),F(),z(e,"DoWhileStatement");case Gt:if(O(),At.push(Qe),B(ge),xt===_e)return Z(e,null);if(xt===ee){var a=N();return O(),K(a,!0),z(a,"VariableDeclaration"),1===a.declarations.length&&j(ue)?G(e,a):Z(e,a)}var a=Y(!1,!0);return j(ue)?(U(a),G(e,a)):Z(e,a);case Kt:return O(),lt(e,!0);case Yt:return O(),e.test=W(),e.consequent=H(),e.alternate=j($t)?H():null,z(e,"IfStatement");case Xt:return It||ht.allowReturnOutsideFunction||n(_t,"'return' outside of function"),O(),j(_e)||D()?e.argument=null:(e.argument=Y(),F()),z(e,"ReturnStatement");case Qt:O(),e.discriminant=W(),e.cases=[],B(de),At.push(Je);for(var o,l;xt!=pe;)if(xt===Bt||xt===Ht){var u=xt===Bt;o&&z(o,"SwitchCase"),e.cases.push(o=N()),o.consequent=[],O(),u?o.test=Y():(l&&n(Pt,"Multiple default clauses"),l=!0,o.test=null),B(ye)}else o||V(),o.consequent.push(H());return o&&z(o,"SwitchCase"),O(),At.pop(),z(e,"SwitchStatement");case Jt:return O(),Ge.test(ft.slice(Et,_t))&&n(Et,"Illegal newline after throw"),e.argument=Y(),F(),z(e,"ThrowStatement");case te:if(O(),e.block=$(),e.handler=null,xt===Vt){var c=N();O(),B(ge),c.param=ct(),Mt&&Ue(c.param.name)&&n(c.param.start,"Binding "+c.param.name+" in strict mode"),B(ve),c.guard=null,c.body=$(),e.handler=z(c,"CatchClause")}return e.guardedHandlers=Nt,e.finalizer=j(Zt)?$():null,e.handler||e.finalizer||n(e.start,"Missing catch or finally clause"),z(e,"TryStatement");case ee:return O(),K(e),F(),z(e,"VariableDeclaration");case ne:return O(),e.test=W(),At.push(Qe),e.body=H(),At.pop(),z(e,"WhileStatement");case ie:return Mt&&n(_t,"'with' in strict mode"),O(),e.object=W(),e.body=H(),z(e,"WithStatement");case de:return $();case _e:return O(),z(e,"EmptyStatement");default:var h=Ct,f=Y();if(t===jt&&"Identifier"===f.type&&j(ye)){for(var r=0;r<At.length;++r)At[r].name===h&&n(f.start,"Label '"+h+"' is already declared");var d=xt.isLoop?"loop":xt===Qt?"switch":null;return At.push({name:h,kind:d}),e.body=H(),At.pop(),e.label=f,z(e,"LabeledStatement")}return e.expression=f,F(),z(e,"ExpressionStatement")}}function W(){B(ge);var t=Y();return B(ve),t}function $(t){var e,n=N(),i=!0,r=!1;for(n.body=[],B(de);!j(pe);){var s=H();n.body.push(s),i&&t&&R(s)&&(e=r,I(r=!0)),i=!1}return r&&!e&&I(!1),z(n,"BlockStatement")}function Z(t,e){return t.init=e,B(_e),t.test=xt===_e?null:Y(),B(_e),t.update=xt===ve?null:Y(),B(ve),t.body=H(),At.pop(),z(t,"ForStatement")}function G(t,e){return t.left=e,t.right=Y(),B(ve),t.body=H(),At.pop(),z(t,"ForInStatement")}function K(t,e){for(t.declarations=[],t.kind="var";;){var i=N();if(i.id=ct(),Mt&&Ue(i.id.name)&&n(i.id.start,"Binding "+i.id.name+" in strict mode"),i.init=j(Ce)?Y(!0,e):null,t.declarations.push(z(i,"VariableDeclarator")),!j(me))break}return t}function Y(t,e){var n=X(e);if(!t&&xt===me){var i=L(n);for(i.expressions=[n];j(me);)i.expressions.push(X(e));return z(i,"SequenceExpression")}return n}function X(t){var e=Q(t);if(xt.isAssign){var n=L(e);return n.operator=Ct,n.left=e,O(),n.right=X(t),U(e),z(n,"AssignmentExpression")}return e}function Q(t){var e=J(t);if(j(we)){var n=L(e);return n.test=e,n.consequent=Y(!0),B(ye),n.alternate=Y(!0,t),z(n,"ConditionalExpression")}return e}function J(t){return tt(et(),-1,t)}function tt(t,e,n){var i=xt.binop;if(null!=i&&(!n||xt!==ue)&&i>e){var r=L(t);r.left=t,r.operator=Ct;var s=xt;O(),r.right=tt(et(),i,n);return tt(z(r,s===Pe||s===Ee?"LogicalExpression":"BinaryExpression"),e,n)}return t}function et(){if(xt.prefix){var t=N(),e=xt.isUpdate;return t.operator=Ct,t.prefix=!0,St=!0,O(),t.argument=et(),e?U(t.argument):Mt&&"delete"===t.operator&&"Identifier"===t.argument.type&&n(t.start,"Deleting local variable in strict mode"),z(t,e?"UpdateExpression":"UnaryExpression")}for(var i=nt();xt.postfix&&!D();){var t=L(i);t.operator=Ct,t.prefix=!1,t.argument=i,U(i),O(),i=z(t,"UpdateExpression")}return i}function nt(){return it(rt())}function it(t,e){if(j(be)){var n=L(t);return n.object=t,n.property=ct(!0),n.computed=!1,it(z(n,"MemberExpression"),e)}if(j(he)){var n=L(t);return n.object=t,n.property=Y(),n.computed=!0,B(fe),it(z(n,"MemberExpression"),e)}if(!e&&j(ge)){var n=L(t);return n.callee=t,n.arguments=ut(ve,!1),it(z(n,"CallExpression"),e)}return t}function rt(){switch(xt){case se:var t=N();return O(),z(t,"ThisExpression");case jt:return ct();case Lt:case Rt:case zt:var t=N();return t.value=Ct,t.raw=ft.slice(_t,yt),O(),z(t,"Literal");case ae:case oe:case le:var t=N();return t.value=xt.atomValue,t.raw=xt.keyword,O(),z(t,"Literal");case ge:var e=bt,n=_t;O();var i=Y();return i.start=n,i.end=yt,ht.locations&&(i.loc.start=e,i.loc.end=wt),ht.ranges&&(i.range=[n,yt]),B(ve),i;case he:var t=N();return O(),t.elements=ut(fe,!0,!0),z(t,"ArrayExpression");case de:return at();case Kt:var t=N();return O(),lt(t,!1);case re:return st();default:V()}}function st(){var t=N();return O(),t.callee=it(rt(),!0),j(ge)?t.arguments=ut(ve,!1):t.arguments=Nt,z(t,"NewExpression")}function at(){var t=N(),e=!0,i=!1;for(t.properties=[],O();!j(pe);){if(e)e=!1;else if(B(me),ht.allowTrailingCommas&&j(pe))break;var r,s={key:ot()},a=!1;if(j(ye)?(s.value=Y(!0),r=s.kind="init"):ht.ecmaVersion>=5&&"Identifier"===s.key.type&&("get"===s.key.name||"set"===s.key.name)?(a=i=!0,r=s.kind=s.key.name,s.key=ot(),xt!==ge&&V(),s.value=lt(N(),!1)):V(),"Identifier"===s.key.type&&(Mt||i))for(var o=0;o<t.properties.length;++o){var l=t.properties[o];if(l.key.name===s.key.name){var u=r==l.kind||a&&"init"===l.kind||"init"===r&&("get"===l.kind||"set"===l.kind);u&&!Mt&&"init"===r&&"init"===l.kind&&(u=!1),u&&n(s.key.start,"Redefinition of property")}}t.properties.push(s)}return z(t,"ObjectExpression")}function ot(){return xt===Lt||xt===Rt?rt():ct(!0)}function lt(t,e){xt===jt?t.id=ct():e?V():t.id=null,t.params=[];var i=!0;for(B(ge);!j(ve);)i?i=!1:B(me),t.params.push(ct());var r=It,s=At;if(It=!0,At=[],t.body=$(!0),It=r,At=s,Mt||t.body.body.length&&R(t.body.body[0]))for(var a=t.id?-1:0;a<t.params.length;++a){var o=a<0?t.id:t.params[a];if((Ve(o.name)||Ue(o.name))&&n(o.start,"Defining '"+o.name+"' in strict mode"),a>=0)for(var l=0;l<a;++l)o.name===t.params[l].name&&n(o.start,"Argument name clash in strict mode")}return z(t,e?"FunctionDeclaration":"FunctionExpression")}function ut(t,e,n){for(var i=[],r=!0;!j(t);){if(r)r=!1;else if(B(me),e&&ht.allowTrailingCommas&&j(t))break;n&&xt===me?i.push(null):i.push(Y(!0))}return i}function ct(t){var e=N();return t&&"everywhere"==ht.forbidReserved&&(t=!1),xt===jt?(!t&&(ht.forbidReserved&&(3===ht.ecmaVersion?Fe:Be)(Ct)||Mt&&Ve(Ct))&&-1==ft.slice(_t,yt).indexOf("\\")&&n(_t,"The keyword '"+Ct+"' is reserved"),e.name=Ct):t&&xt.keyword?e.name=xt.keyword:V(),St=!1,O(),z(e,"Identifier")}t.version="0.5.0";var ht,ft,dt,pt;t.parse=function(t,n){return ft=String(t),dt=ft.length,e(n),s(),q(ht.program)};var gt=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},vt=t.getLineInfo=function(t,e){for(var n=1,i=0;;){Ke.lastIndex=i;var r=Ke.exec(t);if(!(r&&r.index<e))break;++n,i=r.index+r[0].length}return{line:n,column:e-i}};t.tokenize=function(t,n){function i(t){return Et=yt,y(t),r.start=_t,r.end=yt,r.startLoc=bt,r.endLoc=wt,r.type=xt,r.value=Ct,r}ft=String(t),dt=ft.length,e(n),s();var r={};return i.jumpTo=function(t,e){if(mt=t,ht.locations){kt=1,Tt=Ke.lastIndex=0;for(var n;(n=Ke.exec(ft))&&n.index<t;)++kt,Tt=n.index+n[0].length}St=e,u()},i};var mt,_t,yt,bt,wt,xt,Ct,St,kt,Tt,Pt,Et,Ot,It,At,Mt,Nt=[],Lt={type:"num"},zt={type:"regexp"},Rt={type:"string"},jt={type:"name"},Dt={type:"eof"},Ft={keyword:"break"},Bt={keyword:"case",beforeExpr:!0},Vt={keyword:"catch"},Ut={keyword:"continue"},qt={keyword:"debugger"},Ht={keyword:"default"},Wt={keyword:"do",isLoop:!0},$t={keyword:"else",beforeExpr:!0},Zt={keyword:"finally"},Gt={keyword:"for",isLoop:!0},Kt={keyword:"function"},Yt={keyword:"if"},Xt={keyword:"return",beforeExpr:!0},Qt={keyword:"switch"},Jt={keyword:"throw",beforeExpr:!0},te={keyword:"try"},ee={keyword:"var"},ne={keyword:"while",isLoop:!0},ie={keyword:"with"},re={keyword:"new",beforeExpr:!0},se={keyword:"this"},ae={keyword:"null",atomValue:null},oe={keyword:"true",atomValue:!0},le={keyword:"false",atomValue:!1},ue={keyword:"in",binop:7,beforeExpr:!0},ce={break:Ft,case:Bt,catch:Vt,continue:Ut,debugger:qt,default:Ht,do:Wt,else:$t,finally:Zt,for:Gt,function:Kt,if:Yt,return:Xt,switch:Qt,throw:Jt,try:te,var:ee,while:ne,with:ie,null:ae,true:oe,false:le,new:re,in:ue,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:se,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},he={type:"[",beforeExpr:!0},fe={type:"]"},de={type:"{",beforeExpr:!0},pe={type:"}"},ge={type:"(",beforeExpr:!0},ve={type:")"},me={type:",",beforeExpr:!0},_e={type:";",beforeExpr:!0},ye={type:":",beforeExpr:!0},be={type:"."},we={type:"?",beforeExpr:!0},xe={binop:10,beforeExpr:!0},Ce={isAssign:!0,beforeExpr:!0},Se={isAssign:!0,beforeExpr:!0},ke={postfix:!0,prefix:!0,isUpdate:!0},Te={prefix:!0,beforeExpr:!0},Pe={binop:1,beforeExpr:!0},Ee={binop:2,beforeExpr:!0},Oe={binop:3,beforeExpr:!0},Ie={binop:4,beforeExpr:!0},Ae={binop:5,beforeExpr:!0},Me={binop:6,beforeExpr:!0},Ne={binop:7,beforeExpr:!0},Le={binop:8,beforeExpr:!0},ze={binop:9,prefix:!0,beforeExpr:!0},Re={binop:10,beforeExpr:!0};t.tokTypes={bracketL:he,bracketR:fe,braceL:de,braceR:pe,parenL:ge,parenR:ve,comma:me,semi:_e,colon:ye,dot:be,question:we,slash:xe,eq:Ce,name:jt,eof:Dt,num:Lt,regexp:zt,string:Rt};for(var je in ce)t.tokTypes["_"+je]=ce[je];var De,Fe=i("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Be=i("class enum extends super const export import"),Ve=i("implements interface let package private protected public static yield"),Ue=i("eval arguments"),qe=i("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),He=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,We="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",$e=new RegExp("["+We+"]"),Ze=new RegExp("["+We+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]"),Ge=/[\n\r\u2028\u2029]/,Ke=/\r\n|[\n\r\u2028\u2029]/g,Ye=t.isIdentifierStart=function(t){return t<65?36===t:t<91||(t<97?95===t:t<123||t>=170&&$e.test(String.fromCharCode(t)))},Xe=t.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||t>=170&&Ze.test(String.fromCharCode(t))))},Qe={kind:"loop"},Je={kind:"switch"}}),x.version||(x=null)}var k={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},T={"-":"__negate","+":"__self"},P=h.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(t){this["__"+t]="#"+t},{__self:function(){return this}});return _.inject(P),b.inject(P),$.inject(P),u&&("complete"===c.readyState?setTimeout(m):X.add(u,{load:m})),{compile:p,execute:g,load:y,parse:t}}.call(this),a=new(d.inject(h.exports,{Base:h,Numerical:v,Key:nt,DomEvent:X,DomElement:Y,document:c,window:u,Symbol:N,PlacedSymbol:M})),a.agent.node&&n(112)(a),i=a,(s="function"===typeof i?i.call(e,n,e,t):i)!==l&&(t.exports=s),a}.call(this,"object"===typeof self?self:null)},function(t,e,n){"use strict";function i(){}function r(t){try{return t.then}catch(t){return m=t,_}}function s(t,e){try{return t(e)}catch(t){return m=t,_}}function a(t,e,n){try{t(e,n)}catch(t){return m=t,_}}function o(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==i&&g(t,this)}function l(t,e,n){return new t.constructor(function(r,s){var a=new o(i);a.then(r,s),u(t,new p(e,n,a))})}function u(t,e){for(;3===t._83;)t=t._18;if(o._47&&o._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);c(t,e)}function c(t,e){v(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?h(e.promise,t._18):f(e.promise,t._18));var i=s(n,t._18);i===_?f(e.promise,m):h(e.promise,i)})}function h(t,e){if(e===t)return f(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=r(e);if(n===_)return f(t,m);if(n===t.then&&e instanceof o)return t._83=3,t._18=e,void d(t);if("function"===typeof n)return void g(n.bind(e),t)}t._83=1,t._18=e,d(t)}function f(t,e){t._83=2,t._18=e,o._71&&o._71(t,e),d(t)}function d(t){if(1===t._75&&(u(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)u(t,t._38[e]);t._38=null}}function p(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function g(t,e){var n=!1,i=a(t,function(t){n||(n=!0,h(e,t))},function(t){n||(n=!0,f(e,t))});n||i!==_||(n=!0,f(e,m))}var v=n(31),m=null,_={};t.exports=o,o._47=null,o._71=null,o._44=i,o.prototype.then=function(t,e){if(this.constructor!==o)return l(this,t,e);var n=new o(i);return u(this,new p(t,e,n)),n}},function(t,e,n){"use strict";var i={};t.exports=i},function(t,e,n){"use strict";function i(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function r(t,e){if(i(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!s.call(e,n[a])||!i(t[n[a]],e[n[a]]))return!1;return!0}var s=Object.prototype.hasOwnProperty;t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";e.a={CIRCLE:"Circle",ELLIPSE:"Ellipse",GROUP:"Group",LAYER:"Layer",LINE:"Line",PATH:"Path",POINTTEXT:"PointText",RASTER:"Raster",RECTANGLE:"Rectangle",TOOL:"Tool"}},function(t,e,n){"use strict";t.exports=n(58)},function(t,e,n){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,o,l=i(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)s.call(n,c)&&(l[c]=n[c]);if(r){o=r(n);for(var h=0;h<o.length;h++)a.call(n,o[h])&&(l[o[h]]=n[o[h]])}}return l}},function(t,e,n){"use strict";function i(t){return function(){return t}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";function i(t,e,n,i,s,a,o,l){if(r(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,s,a,o,l],h=0;u=new Error(e.replace(/%s/g,function(){return c[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(t){};t.exports=i},function(t,e,n){var i,r,s=function(a,o){a=a||n(62);var l=a.window,u=a.document,c=new function(){function t(t,i,r,s,o){function u(n,u){"string"===typeof(u=u||(u=a(i,n))&&(u.get?u:u.value))&&"#"===u[0]&&(u=t[u.substring(1)]||u);var h,f="function"===typeof u,d=u,p=o||f&&!u.base?u&&u.get?n in t:t[n]:null;o&&p||(f&&p&&(u.base=p),f&&!1!==s&&(h=n.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(c[h[3].toLowerCase()+h[4]]=h[2]),d&&!f&&d.get&&"function"===typeof d.get&&e.isPlainObject(d)||(d={value:d,writable:!0}),(a(t,n)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=null!=r?r:!h),l(t,n,d))}var c={};if(i){for(var h in i)i.hasOwnProperty(h)&&!n.test(h)&&u(h);for(var h in c){var f=c[h],d=t["set"+f],p=t["get"+f]||d&&t["is"+f];!p||!0!==s&&0!==p.length||u(h,{get:p,set:d})}}return t}function e(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&h(this,n)}return this}var n=/^(statics|enumerable|beans|preserve)$/,i=[],r=i.slice,s=Object.create,a=Object.getOwnPropertyDescriptor,l=Object.defineProperty,u=i.forEach||function(t,e){for(var n=0,i=this.length;n<i;n++)t.call(e,this[n],n,this)},c=function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)},h=Object.assign||function(t){for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},f=function(t,e,n){if(t){var i=a(t,"length");(i&&"number"===typeof i.value?u:c).call(t,e,n=n||t)}return n};return t(e,{inject:function(e){if(e){var n=!0===e.statics?e:e.statics,i=e.beans,r=e.preserve;n!==e&&t(this.prototype,e,e.enumerable,i,r),t(this,n,null,i,r)}for(var s=1,a=arguments.length;s<a;s++)this.inject(arguments[s]);return this},extend:function(){for(var e,n,i,r=this,a=0,o=arguments.length;a<o&&(!e||!n);a++)i=arguments[a],e=e||i.initialize,n=n||i.prototype;return e=e||function(){r.apply(this,arguments)},n=e.prototype=n||s(this.prototype),l(n,"constructor",{value:e,writable:!0,configurable:!0}),t(e,this),arguments.length&&this.inject.apply(e,arguments),e.base=r,e}}).inject({enumerable:!1,initialize:e,set:e,inject:function(){for(var e=0,n=arguments.length;e<n;e++){var i=arguments[e];i&&t(this,i,i.enumerable,i.beans,i.preserve)}return this},extend:function(){var t=s(this);return t.inject.apply(t,arguments)},each:function(t,e){return f(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:h,each:f,create:s,define:l,describe:a,clone:function(t){return h(new t.constructor,t)},isPlainObject:function(t){var n=null!=t&&t.constructor;return n&&(n===Object||n===e||"Object"===n.name)},pick:function(t,e){return t!==o?t:e},slice:function(t,e,n){return r.call(t,e,n)}}})};t.exports=c,c.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+c.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?p.instance.number(t):"string"===n?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return c.importJSON(t,this)},exportJSON:function(t){return c.exportJSON(this,t)},toJSON:function(){return c.serialize(this)},set:function(t,e){return t&&c.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!c.exports[n]&&(c.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"===typeof t&&"object"===typeof e){if(Array.isArray(t)&&Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(!c.equals(t[n],e[n]))return!1}else{var i=Object.keys(t),n=i.length;if(n!==Object.keys(e).length)return!1;for(;n--;){var r=i[n];if(!e.hasOwnProperty(r)||!c.equals(t[r],e[r]))return!1}}return!0}return!1},read:function(t,e,n,i){if(this===c){var r=this.peek(t,e);return t.__index++,r}var s=this.prototype,a=s._readIndex,l=e||a&&t.__index||0,u=t.length,h=t[l];if(i=i||u-l,h instanceof this||n&&n.readNull&&null==h&&i<=1)return a&&(t.__index=l+1),h&&n&&n.clone?h.clone():h;if(h=c.create(s),a&&(h.__read=!0),h=h.initialize.apply(h,l>0||l+i<u?c.slice(t,l,l+i):t)||h,a){t.__index=l+h.__read;var f=h.__filtered;f&&(t.__filtered=f,h.__filtered=o),h.__read=o}return h},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,i){for(var r,s=[],a=e||0,o=i?a+i:t.length,l=a;l<o;l++)s.push(Array.isArray(r=t[l])?this.read(r,0,n):this.read(t,l,n,1));return s},readNamed:function(t,e,n,i,r){var s=this.getNamed(t,e),a=s!==o;if(a){var l=t.__filtered;l||(l=t.__filtered=c.create(t[0]),l.__unfiltered=t[0]),l[e]=o}var u=a?[s]:t;return this.read(u,n,i,r)},getNamed:function(t,e){var n=t[0];if(t._hasObject===o&&(t._hasObject=1===t.length&&c.isPlainObject(n)),t._hasObject)return e?n[e]:t.__filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,i){function r(i){if(!(n&&i in n)&&!(s&&i in s)){var r=e[i];r!==o&&(t[i]=r)}}var s;if(i){for(var a,l={},u=0,c=i.length;u<c;u++)(a=i[u])in e&&(r(a),l[a]=!0);s=l}return Object.keys(e.__unfiltered||e).forEach(r),t},isPlainValue:function(t,e){return c.isPlainObject(t)||Array.isArray(t)||e&&"string"===typeof t},serialize:function(t,e,n,i){e=e||{};var r,s=!i;if(s&&(e.formatter=new p(e.precision),i={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,i=this.references[n];if(!i){this.length++;var r=e.call(t),s=t._class;s&&r[0]!==s&&r.unshift(s),this.definitions[n]=r,i=this.references[n]=[n]}return i}}),t&&t._serialize){r=t._serialize(e,i);var a=t._class;!a||t._compactSerialize||!s&&n||r[0]===a||r.unshift(a)}else if(Array.isArray(t)){r=[];for(var o=0,l=t.length;o<l;o++)r[o]=c.serialize(t[o],e,n,i)}else if(c.isPlainObject(t)){r={};for(var u=Object.keys(t),o=0,l=u.length;o<l;o++){var h=u[o];r[h]=c.serialize(t[h],e,n,i)}}else r="number"===typeof t?e.formatter.number(t,e.precision):t;return s&&i.length>0?[["dictionary",i.definitions],r]:r},deserialize:function(t,e,n,i,r){var s=t,a=!n,o=a&&t&&t.length&&"dictionary"===t[0][0];if(n=n||{},Array.isArray(t)){var l=t[0],u="dictionary"===l;if(1==t.length&&/^#/.test(l))return n.dictionary[l];l=c.exports[l],s=[];for(var h=l?1:0,f=t.length;h<f;h++)s.push(c.deserialize(t[h],e,n,u,o));if(l){var d=s;e?s=e(l,d,a||r):(s=c.create(l.prototype),l.apply(s,d))}}else if(c.isPlainObject(t)){s={},i&&(n.dictionary=s);for(var p in t)s[p]=c.deserialize(t[p],e,n)}return o?s[1]:s},exportJSON:function(t,e){var n=c.serialize(t,e);return e&&0==e.asString?n:JSON.stringify(n)},importJSON:function(t,e){return c.deserialize("string"===typeof t?JSON.parse(t):t,function(t,n,i){var r=i&&e&&e.constructor===t,s=r?e:c.create(t.prototype);if(1===n.length&&s instanceof T&&(r||!(s instanceof E))){var a=n[0];c.isPlainObject(a)&&(a.insert=!1)}return(r?s.set:t).apply(s,n),r&&(e=null),s})},splice:function(t,e,n,i){var r=e&&e.length,s=n===o;(n=s?t.length:n)>t.length&&(n=t.length);for(var a=0;a<r;a++)e[a]._index=n+a;if(s)return t.push.apply(t,e),[];var l=[n,i];e&&l.push.apply(l,e);for(var u=t.splice.apply(t,l),a=0,c=u.length;a<c;a++)u[a]._index=o;for(var a=n+r,c=t.length;a<c;a++)t[a]._index=a;return u},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var h={on:function(t,e){if("string"!==typeof t)c.each(t,function(t,e){this.on(e,t)},this);else{var n=this._eventTypes,i=n&&n[t],r=this._callbacks=this._callbacks||{};r=r[t]=r[t]||[],-1===r.indexOf(e)&&(r.push(e),i&&i.install&&1===r.length&&i.install.call(this,t))}return this},off:function(t,e){if("string"!==typeof t)return void c.each(t,function(t,e){this.off(e,t)},this);var n,i=this._eventTypes,r=i&&i[t],s=this._callbacks&&this._callbacks[t];return s&&(!e||-1!==(n=s.indexOf(e))&&1===s.length?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):-1!==n&&s.splice(n,1)),this},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var i=c.slice(arguments,1),r=e&&e.target&&!e.currentTarget;n=n.slice(),r&&(e.currentTarget=this);for(var s=0,a=n.length;s<a;s++)if(0==n[s].apply(this,i)){e&&e.stop&&e.stop();break}return r&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,i=t?"install":"uninstall";if(e)for(var r in n)if(n[r].length>0){var s=e[r],a=s&&s[i];a&&a.call(this,r)}},statics:{inject:function t(e){var n=e._events;if(n){var i={};c.each(n,function(t,n){var r="string"===typeof t,s=r?t:n,a=c.capitalize(s),o=s.substring(2).toLowerCase();i[o]=r?{}:t,s="_"+s,e["get"+a]=function(){return this[s]},e["set"+a]=function(t){var e=this[s];e&&this.off(o,e),t&&this.on(o,t),this[s]=t}}),e._eventTypes=i}return t.base.apply(this,arguments)}}},f=c.extend({_class:"PaperScope",initialize:function t(){s=this,this.settings=new c({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=st.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:at.nativeModes},st.release(n)}if(!this.agent){var i=a.navigator.userAgent.toLowerCase(),r=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],o="darwin"===r?"mac":r,l=e.agent=e.browser={platform:o};o&&(l[o]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,n,i,r){if(!l.chrome){var s="opera"===e?i:/^(node|trident)$/.test(e)?r:n;l.version=s,l.versionNumber=parseFloat(s),e="trident"===e?"msie":e,l.name=e,l[e]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.11.5",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){s.PaperScript.execute(t,this,e),X.updateFocus()},install:function(t){var e=this;c.each(["project","view","tool"],function(n){c.define(t,n,{configurable:!0,get:function(){return e[n]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return s=this,this.project=new k(t),this},createCanvas:function(t,e){return st.getCanvas(t,e)},activate:function(){s=this},clear:function(){for(var t=this.projects,e=this.tools,n=t.length-1;n>=0;n--)t[n].remove();for(var n=e.length-1;n>=0;n--)e[n].remove()},remove:function(){this.clear(),delete f._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),d=c.extend(h,{initialize:function(t){this._scope=s,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(c.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),p=c.extend({initialize:function(t){this.precision=c.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});p.instance=new p;var g=new function(){function t(t,e,n){return t<e?e:t>n?n:t}function e(t,e,n){function i(t){var e=134217729*t,n=t-e,i=n+e;return[i,t-i]}var r=e*e-t*n,a=e*e+t*n;if(3*s(r)<a){var o=i(t),l=i(e),u=i(n),c=e*e,h=l[0]*l[0]-c+2*l[0]*l[1]+l[1]*l[1],f=t*n;r=c-f+(h-(o[0]*u[0]-f+o[0]*u[1]+o[1]*u[0]+o[1]*u[1]))}return r}function n(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?o(2,-Math.round(l(t))):0}var i=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,a=Math.sqrt,o=Math.pow,l=Math.log2||function(t){return Math.log(t)*Math.LOG2E};return{EPSILON:1e-12,MACHINE_EPSILON:1.12e-16,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(t){return t>=-1e-12&&t<=1e-12},clamp:t,integrate:function(t,e,n,s){for(var a=i[s-2],o=r[s-2],l=.5*(n-e),u=l+e,c=0,h=s+1>>1,f=1&s?o[c++]*t(u):0;c<h;){var d=l*a[c];f+=o[c++]*(t(u+d)+t(u-d))}return l*f},findRoot:function(e,n,i,r,a,o,l){for(var u=0;u<o;u++){var c=e(i),h=c/n(i),f=i-h;if(s(h)<l){i=f;break}c>0?(a=i,i=f<=r?.5*(r+a):f):(r=i,i=f>=a?.5*(r+a):f)}return t(i,r,a)},solveQuadratic:function(i,r,o,l,u,c){var h,f=1/0;if(s(i)<1e-12){if(s(r)<1e-12)return s(o)<1e-12?-1:0;h=-o/r}else{r*=-.5;var d=e(i,r,o);if(d&&s(d)<1.12e-16){var p=n(s(i),s(r),s(o));p&&(i*=p,r*=p,o*=p,d=e(i,r,o))}if(d>=-1.12e-16){var g=d<0?0:a(d),v=r+(r<0?-g:g);0===v?(h=o/i,f=-h):(h=v/i,f=o/v)}}var m=0,_=null==u,y=u-1e-12,b=c+1e-12;return isFinite(h)&&(_||h>y&&h<b)&&(l[m++]=_?h:t(h,u,c)),f!==h&&isFinite(f)&&(_||f>y&&f<b)&&(l[m++]=_?f:t(f,u,c)),m},solveCubic:function(e,i,r,l,u,c,h){function f(t){d=t;var n=e*d;p=n+i,v=p*d+r,m=(n+p)*d+v,_=v*d+l}var d,p,v,m,_,y=n(s(e),s(i),s(r),s(l));if(y&&(e*=y,i*=y,r*=y,l*=y),s(e)<1e-12)e=i,p=r,v=l,d=1/0;else if(s(l)<1e-12)p=i,v=r,d=0;else{f(-i/e/3);var b=_/e,w=o(s(b),1/3),x=b<0?-1:1,C=-m/e,S=C>0?1.324717957244746*Math.max(w,a(C)):w,k=d-x*S;if(k!==d){do{f(k),k=0===m?d:d-_/m/(1+1.12e-16)}while(x*k>x*d);s(e)*d*d>s(l/d)&&(v=-l/d,p=(v-r)/d)}}var T=g.solveQuadratic(e,p,v,u,c,h),P=null==c;return isFinite(d)&&(0===T||T>0&&d!==u[0]&&d!==u[1])&&(P||d>c-1e-12&&d<h+1e-12)&&(u[T++]=P?d:t(d,c,h)),T}}},v={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},m=c.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var s="number"===typeof e;this._set(t,s?e:t),i&&(r=s?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var a="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"x"in a?this._set(a.x||0,a.y||0):"width"in a?this._set(a.width||0,a.height||0):"angle"in a?(this._set(a.length||0,0),this.setAngle(a.angle||0)):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new m(this.x,this.y)},toString:function(){var t=p.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();g.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=m.read(arguments),e=this.getLength()*t.getLength();if(g.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=m.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=m.read(arguments),e=t.x-this.x,n=t.y-this.y,i=e*e+n*n;return c.read(arguments)?i:Math.sqrt(i)},normalize:function(t){t===o&&(t=1);var e=this.getLength(),n=0!==e?t/e:0,i=new m(this.x*n,this.y*n);return n>=0&&(i._angle=this._angle),i},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,i=Math.sin(t),r=Math.cos(t);return n=new m(n.x*r-n.y*i,n.x*i+n.y*r),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=m.read(arguments);return new m(this.x+t.x,this.y+t.y)},subtract:function(){var t=m.read(arguments);return new m(this.x-t.x,this.y-t.y)},multiply:function(){var t=m.read(arguments);return new m(this.x*t.x,this.y*t.y)},divide:function(){var t=m.read(arguments);return new m(this.x/t.x,this.y/t.y)},modulo:function(){var t=m.read(arguments);return new m(this.x%t.x,this.y%t.y)},negate:function(){return new m(-this.x,-this.y)},isInside:function(){return w.read(arguments).contains(this)},isClose:function(){var t=m.read(arguments),e=c.read(arguments);return this.getDistance(t)<=e},isCollinear:function(){var t=m.read(arguments);return m.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=m.read(arguments);return m.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=g.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=m.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=m.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=m.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new m(t.x*e,t.y*e)},statics:{min:function(){var t=m.read(arguments),e=m.read(arguments);return new m(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=m.read(arguments),e=m.read(arguments);return new m(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new m(Math.random(),Math.random())},isCollinear:function(t,e,n,i){return Math.abs(t*i-e*n)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))},isOrthogonal:function(t,e,n,i){return Math.abs(t*n+e*i)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))}}},c.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new m(e(this.x),e(this.y))}},{})),_=m.extend({initialize:function(t,e,n,i){this._x=t,this._y=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),y=c.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var s="number"===typeof e;this._set(t,s?e:t),i&&(r=s?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var a="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"width"in a?this._set(a.width||0,a.height||0):"x"in a?this._set(a.x||0,a.y||0):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new y(this.width,this.height)},toString:function(){var t=p.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=y.read(arguments);return new y(this.width+t.width,this.height+t.height)},subtract:function(){var t=y.read(arguments);return new y(this.width-t.width,this.height-t.height)},multiply:function(){var t=y.read(arguments);return new y(this.width*t.width,this.height*t.height)},divide:function(){var t=y.read(arguments);return new y(this.width/t.width,this.height/t.height)},modulo:function(){var t=y.read(arguments);return new y(this.width%t.width,this.height%t.height)},negate:function(){return new y(-this.width,-this.height)},isZero:function(){var t=g.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new y(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new y(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new y(Math.random(),Math.random())}}},c.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new y(e(this.width),e(this.height))}},{})),b=y.extend({initialize:function(t,e,n,i){this._width=t,this._height=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),w=c.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,n,i){var r,s=typeof t;if("number"===s?(this._set(t,e,n,i),r=4):"undefined"===s||null===t?(this._set(0,0,0,0),r=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this._set.apply(this,t),r=1):t.x!==o||t.width!==o?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),r=1):t.from===o&&t.to===o&&(this._set(0,0,0,0),c.filter(this,t),r=1)),r===o){var a,l,u=m.readNamed(arguments,"from"),h=c.peek(arguments),f=u.x,d=u.y;if(h&&h.x!==o||c.hasNamed(arguments,"to")){var p=m.readNamed(arguments,"to");a=p.x-f,l=p.y-d,a<0&&(f=p.x,a=-a),l<0&&(d=p.y,l=-l)}else{var g=y.read(arguments);a=g.width,l=g.height}this._set(f,d,a,l),r=arguments.__index;var v=arguments.__filtered;v&&(this.__filtered=v)}return this.__read&&(this.__read=r),this},set:"#initialize",_set:function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},clone:function(){return new w(this.x,this.y,this.width,this.height)},equals:function(t){var e=c.isPlainValue(t)?w.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=p.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?m:_)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=m.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?y:b)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=y.read(arguments),e=this._sx,n=this._sy,i=t.width,r=t.height;e&&(this.x+=(this.width-i)*e),n&&(this.y+=(this.height-r)*n),this.width=i,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){return new(t?m:_)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=m.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==o||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(w.read(arguments)):this._containsPoint(m.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=w.read(arguments),e=c.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=w.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),i=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new w(e,n,i-e,r-n)},unite:function(){var t=w.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new w(e,n,i-e,r-n)},include:function(){var t=m.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new w(e,n,i-e,r-n)},expand:function(){var t=y.read(arguments),e=t.width,n=t.height;return new w(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===o?t:e)-this.height)}},c.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),i=/^[RL]/.test(n);e>=4&&(t[1]+=i?"Y":"X");var r=t[i?0:1],s=t[i?1:0],a="get"+r,o="get"+s,l="set"+r,u="set"+s,c="get"+n,h="set"+n;this[c]=function(t){return new(t?m:_)(this[a](),this[o](),this,h)},this[h]=function(){var t=m.read(arguments);this[l](t.x),this[u](t.y)}},{beans:!0})),x=w.extend({initialize:function(t,e,n,i,r,s){this._set(t,e,n,i,!0),this._owner=r,this._setter=s},_set:function(t,e,n,i,r){return this._x=t,this._y=e,this._width=n,this._height=i,r||this._owner[this._setter](this),this}},new function(){var t=w.prototype;return c.each(["x","y","width","height"],function(t){var e=c.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._dontNotify||this._owner[this._setter](this)}},c.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),C=c.extend({_class:"Matrix",initialize:function t(e,n){var i=arguments.length,r=!0;if(i>=6?this._set.apply(this,arguments):1===i||2===i?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):r=!1:i?r=!1:this.reset(),!r)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,i,r,s,a){return this._a=t,this._b=e,this._c=n,this._d=i,this._tx=r,this._ty=s,a||this._changed(),this},_serialize:function(t,e){return c.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new C(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=p.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return!!n&&(n.transform(null,!0,c.pick(t,!0),e),this.isIdentity())},translate:function(){var t=m.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=m.read(arguments),e=m.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=m.read(arguments,1),n=e.x,i=e.y,r=Math.cos(t),s=Math.sin(t),a=n-n*r+i*s,o=i-n*s-i*r,l=this._a,u=this._b,c=this._c,h=this._d;return this._a=r*l+s*c,this._b=r*u+s*h,this._c=-s*l+r*c,this._d=-s*u+r*h,this._tx+=a*l+o*c,this._ty+=a*u+o*h,this._changed(),this},shear:function(){var t=m.read(arguments),e=m.read(arguments,0,{readNull:!0});e&&this.translate(e);var n=this._a,i=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*n,this._d+=t.x*i,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=m.read(arguments),e=m.read(arguments,0,{readNull:!0}),n=Math.PI/180,i=new m(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(i,e)},append:function(t,e){if(t){var n=this._a,i=this._b,r=this._c,s=this._d,a=t._a,o=t._c,l=t._b,u=t._d,c=t._tx,h=t._ty;this._a=a*n+l*r,this._c=o*n+u*r,this._b=a*i+l*s,this._d=o*i+u*s,this._tx+=c*n+h*r,this._ty+=c*i+h*s,e||this._changed()}return this},prepend:function(t,e){if(t){var n=this._a,i=this._b,r=this._c,s=this._d,a=this._tx,o=this._ty,l=t._a,u=t._c,c=t._b,h=t._d,f=t._tx,d=t._ty;this._a=l*n+u*i,this._c=l*r+u*s,this._b=c*n+h*i,this._d=c*r+h*s,this._tx=l*a+u*o+f,this._ty=c*a+h*o+d,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,i=this._d,r=this._tx,s=this._ty,a=t*i-e*n,o=null;return a&&!isNaN(a)&&isFinite(r)&&isFinite(s)&&(this._a=i/a,this._b=-e/a,this._c=-n/a,this._d=t/a,this._tx=(n*s-i*r)/a,this._ty=(e*r-t*s)/a,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new C(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(m.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var i=t.x,r=t.y;return e||(e=new m),e._set(i*this._a+r*this._c+this._tx,i*this._b+r*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var i=0,r=2*n;i<r;i+=2){var s=t[i],a=t[i+1];e[i]=s*this._a+a*this._c+this._tx,e[i+1]=s*this._b+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,i=e+t.width,r=n+t.height,s=[e,n,i,n,i,r,e,r];return this._transformCoordinates(s,s,4)},_transformBounds:function(t,e,n){for(var i=this._transformCorners(t),r=i.slice(0,2),s=r.slice(),a=2;a<8;a++){var o=i[a],l=1&a;o<r[l]?r[l]=o:o>s[l]&&(s[l]=o)}return e||(e=new w),e._set(r[0],r[1],s[0]-r[0],s[1]-r[1],n)},inverseTransform:function(){return this._inverseTransform(m.read(arguments))},_inverseTransform:function(t,e,n){var i=this._a,r=this._b,s=this._c,a=this._d,o=this._tx,l=this._ty,u=i*a-r*s,c=null;if(u&&!isNaN(u)&&isFinite(o)&&isFinite(l)){var h=t.x-this._tx,f=t.y-this._ty;e||(e=new m),c=e._set((h*a-f*s)/u,(f*i-h*r)/u,n)}return c},decompose:function(){var t,e,n,i=this._a,r=this._b,s=this._c,a=this._d,o=i*a-r*s,l=Math.sqrt,u=Math.atan2,c=180/Math.PI;if(0!==i||0!==r){var h=l(i*i+r*r);t=Math.acos(i/h)*(r>0?1:-1),e=[h,o/h],n=[u(i*s+r*a,h*h),0]}else if(0!==s||0!==a){var f=l(s*s+a*a);t=Math.asin(s/f)*(a>0?1:-1),e=[o/f,f],n=[0,u(i*s+r*a,f*f)]}else t=0,n=e=[0,0];return{translation:this.getTranslation(),rotation:t*c,scaling:new m(e),skewing:new m(n[0]*c,n[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new m(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},c.each(["a","b","c","d","tx","ty"],function(t){var e=c.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._changed()}},{})),S=c.extend({_class:"Line",initialize:function(t,e,n,i,r){var s=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=n,this._vy=i,s=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,s=n),s||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new m(this._px,this._py)},getVector:function(){return new m(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return S.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return S.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return S.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return m.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return m.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,i,r,s,a,o,l,u){l||(n-=t,i-=e,a-=r,o-=s);var c=n*o-i*a;if(!g.isZero(c)){var h=t-r,f=e-s,d=(a*f-o*h)/c,p=(n*f-i*h)/c;if(u||-1e-12<d&&d<1+1e-12&&-1e-12<p&&p<1+1e-12)return u||(d=d<=0?0:d>=1?1:d),new m(t+d*n,e+d*i)}},getSide:function(t,e,n,i,r,s,a,o){a||(n-=t,i-=e);var l=r-t,u=s-e,c=l*i-u*n;return!o&&g.isZero(c)&&(c=(l*n+l*n)/(n*n+i*i))>=0&&c<=1&&(c=0),c<0?-1:c>0?1:0},getSignedDistance:function(t,e,n,i,r,s,a){return a||(n-=t,i-=e),0===n?i>0?r-t:t-r:0===i?n<0?s-e:e-s:((r-t)*i-(s-e)*n)/Math.sqrt(n*n+i*i)},getDistance:function(t,e,n,i,r,s,a){return Math.abs(S.getSignedDistance(t,e,n,i,r,s,a))}}}),k=d.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){d.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new G(null,null,this),this._view=X.create(this,t||st.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return c.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&e){var r=this._changesById,s=e._id,a=r[s];a?a.flags|=t:i.push(r[s]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new E({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:A,match:function(n){var i=n._definition,r=i._id;return e[r]||(e[r]=!0,t.push(i)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var i=t[n],r=i._selection;1&r&&i.isInserted()?e.push(i):r||this._updateSelection(i)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(o,t)},insertLayer:function(t,e){if(e instanceof E){e._remove(!1,!0),c.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(o,new E(T.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return T._getItems(this,t)},getItem:function(t){return T._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return c.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var i in n){var r=n[i];for(var s in e){var a=e[s];a&&a!=n&&delete a[r._id]}r.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var i=this._children,r=new c({offset:new m(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new C],updateMatrix:!0}),s=0,a=i.length;s<a;s++)i[s].draw(t,r);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var o=this._selectionItems,l=this._scope.settings.handleSize,u=this._updateVersion;for(var h in o)o[h]._drawSelection(t,e,l,o,u);t.restore()}}}),T=c.extend(h,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=c.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new C,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return c.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&c.isPlainObject(t),i=n&&!0===t.internal,r=this._matrix=new C,a=n&&t.project||s.project,l=s.settings;return this._id=i?null:v.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&r.translate(e),r._owner=this,this._style=new G(a._currentStyle,this,a),i||n&&0==t.insert||!l.insertItems&&(!n||!0!==t.insert)?this._setProject(a):(n&&t.parent||a)._insertItem(o,this,!0),n&&t!==T.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){function n(n){for(var s in n){var a=r[s];c.equals(a,"leading"===s?1.2*n.fontSize:n[s])||(i[s]=c.serialize(a,t,"data"!==s,e))}}var i={},r=this;return n(this._serializeFields),this instanceof P||n(this._style._defaults),[this._class,i]},_changed:function(t){var e=this._symbol,n=this._parent||e,i=this._project;8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=o),n&&40&t&&T._clearBoundsCache(n),2&t&&T._clearBoundsCache(this),i&&i._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,i=e._namedChildren;(i[t]=i[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||o,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},c.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=c.capitalize(t),n="_"+t,i={locked:128,visible:137};this["get"+e]=function(){return this[n]},this["set"+e]=function(e){e!=this[n]&&(this[n]=e,this._changed(i[t]||129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(129))}},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var n=0,i=t.length;n<i;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,i=e.length;n<i;n++)e[n].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,n=t?m:_;if(!e){var i=this._pivot;e=this._position=i?this._matrix._transformPoint(i):this.getBounds().getCenter(!0)}return new n(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(m.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var t=this._pivot;return t?new _(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=m.read(arguments,0,{clone:!0,readNull:!0}),this._position=o}},c.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(t,e){var n=e||t instanceof C,i=c.set({},n?e:t,this._boundsOptions);i.stroke&&!this.getStrokeScaling()||(i.cacheItem=this);var r=this._getCachedBounds(n&&t,i).rect;return arguments.length?r:new x(r.x,r.y,r.width,r.height,this,"setBounds")},setBounds:function(){var t=w.read(arguments),e=this.getBounds(),n=this._matrix,i=new C,r=t.getCenter();i.translate(r),t.width==e.width&&t.height==e.height||(n.isInvertible()||(n.set(n._backup||(new C).translate(n.getTranslation())),e=this.getBounds()),i.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),r=e.getCenter(),i.translate(-r.x,-r.y),this.transform(i)},_getBounds:function(t,e){var n=this._children;return n&&n.length?(T._updateBoundsCache(this,e.cacheItem),T._getBounds(n,t,e)):new w},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,n){t=t&&t._orNullIfIdentity();var i=e.internal&&!n,r=e.cacheItem,s=i?null:this._matrix._orNullIfIdentity(),a=r&&(!t||t.equals(s))&&this._getBoundsCacheKey(e,i),o=this._bounds;if(T._updateBoundsCache(this._parent||this._symbol,r),a&&o&&a in o){var l=o[a];return{rect:l.rect.clone(),nonscaling:l.nonscaling}}var u=this._getBounds(t||s,e),c=u.rect||u,h=this._style,f=u.nonscaling||h.hasStroke()&&!h.getStrokeScaling();if(a){o||(this._bounds=o={});var l=o[a]={rect:c.clone(),nonscaling:f,internal:i}}return{rect:c,nonscaling:f}},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():t;return i&&i._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,i=t._boundsCache=t._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(e),i.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=o;for(var n=0,i=e.list,r=i.length;n<r;n++){var s=i[n];s!==t&&(s._bounds=s._position=o,s._boundsCache&&T._clearBoundsCache(s))}}},_getBounds:function(t,e,n){var i=1/0,r=-i,s=i,a=r,o=!1;n=n||{};for(var l=0,u=t.length;l<u;l++){var c=t[l];if(c._visible&&!c.isEmpty()){var h=c._getCachedBounds(e&&e.appended(c._matrix),n,!0),f=h.rect;i=Math.min(f.x,i),s=Math.min(f.y,s),r=Math.max(f.x+f.width,r),a=Math.max(f.y+f.height,a),h.nonscaling&&(o=!0)}}return{rect:isFinite(i)?new w(i,s,r-i,a-s):new w,nonscaling:o}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new _(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=m.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this.getRotation(),i=this._decomposed,r=new C,s=this.getPosition(!0);r.translate(s),n&&r.rotate(n),r.scale(e.x/t.x,e.y/t.y),n&&r.rotate(-n),r.translate(s.negate()),this.transform(r),i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,n=this._project._updateVersion;if(e&&e._updateVersion!==n&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&e.prepend(i.getGlobalMatrix(!0)),e._updateVersion=n}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof E)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return c.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(T.NO_INSERT),n=this._children,i=c.pick(t?t.insert:o,t===o||!0===t),r=c.pick(t?t.deep:o,!0);n&&e.copyAttributes(this),n&&!r||e.copyContent(this),n||e.copyAttributes(this),i&&e.insertAbove(this);var s=this._name,a=this._parent;if(s&&a){for(var n=a._children,l=s,u=1;n[s];)s=l+" "+u++;s!==l&&e.setName(s)}return e},copyContent:function(t){for(var e=t._children,n=0,i=e&&e.length;n<i;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,r=n.length;i<r;i++){var s=n[i];t.hasOwnProperty(s)&&(this[s]=t[s])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var a=t._data,o=t._name;this._data=a?c.clone(a):null,o&&this.setName(o)},rasterize:function(t,e){var n=this.getStrokeBounds(),i=(t||this.getView().getResolution())/72,r=n.getTopLeft().floor(),s=n.getBottomRight().ceil(),a=new y(s.subtract(r)),l=new I(T.NO_INSERT);if(!a.isZero()){var u=st.getCanvas(a.multiply(i)),h=u.getContext("2d"),f=(new C).scale(i).translate(r.negate());h.save(),f.applyToContext(h),this.draw(h,new c({matrices:[f]})),h.restore(),l.setCanvas(u)}return l.transform((new C).translate(r.add(a.divide(2))).scale(1/i)),(e===o||e)&&l.insertAbove(this),l},contains:function(){return!!this._contains(this._matrix._inverseTransform(m.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return w.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new F.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof T&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){return this._hitTest(m.read(arguments),N.getOptions(arguments))}function e(){var t=m.read(arguments),e=N.getOptions(arguments),n=[];return this._hitTest(t,c.set({all:n},e)),n}function n(t,e,n,i){var r=this._children;if(r)for(var s=r.length-1;s>=0;s--){var a=r[s],o=a!==i&&a._hitTest(t,e,n);if(o&&!e.all)return o}return null}return k.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){function i(t){return t&&d&&!d(t)&&(t=null),t&&e.all&&e.all.push(t),t}function r(e,n){var i=n?u["get"+n]():p.getPosition();if(t.subtract(i).divide(l).length<=1)return new N(e,p,{name:n?c.hyphenate(n):e,point:i})}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var s=this._matrix,a=n?n.appended(s):this.getGlobalMatrix().prepend(this.getView()._matrix),o=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new y(F._getStrokePadding(o,s._shiftless().invert()));if(!(t=s._inverseTransform(t))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(t))return null;var u,h,f=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==c.hyphenate(this._class)||e.class&&!(this instanceof e.class)),d=e.match,p=this,g=e.position,v=e.center,m=e.bounds;if(f&&this._parent&&(g||v||m)){if((v||m)&&(u=this.getInternalBounds()),!(h=g&&r("position")||v&&r("center","Center"))&&m)for(var _=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],b=0;b<8&&!h;b++)h=r("bounds",_[b]);h=i(h)}return h||(h=this._hitTestChildren(t,e,a)||f&&i(this._hitTestSelf(t,e,a,this.getStrokeScaling()?null:a._shiftless().invert()))||null),h&&h.point&&(h.point=s.transform(h.point)),h},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new N("fill",this)},matches:function(t,e){function n(t,e){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],s=e[i];if(c.isPlainObject(r)&&c.isPlainObject(s)){if(!n(r,s))return!1}else if(!c.equals(r,s))return!1}return!0}var i=typeof t;if("object"===i){for(var r in t)if(t.hasOwnProperty(r)&&!this.matches(r,t[r]))return!1;return!0}if("function"===i)return t(this);if("match"===t)return e(this);var s=/^(empty|editable)$/.test(t)?this["is"+c.capitalize(t)]():"type"===t?c.hyphenate(this._class):this[t];if("class"===t){if("function"===typeof e)return this instanceof e;s=this._class}if("function"===typeof e)return!!e(s);if(e){if(e.test)return e.test(s);if(c.isPlainObject(e))return n(e,s)}return c.equals(s,e)},getItems:function(t){return T._getItems(this,t,this._matrix)},getItem:function(t){return T._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,i,r,s){if(!r){var a="object"===typeof n&&n,o=a&&a.overlapping,l=a&&a.inside,u=o||l,h=u&&w.read([u]);r={items:[],recursive:a&&!1!==a.recursive,inside:!!l,overlapping:!!o,rect:h,path:o&&new F.Rectangle({rectangle:h,insert:!1})},a&&(n=c.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var f=e._children,d=r.items,h=r.rect;i=h&&(i||new C);for(var p=0,g=f&&f.length;p<g;p++){var v=f[p],m=i&&i.appended(v._matrix),_=!0;if(h){var u=v.getBounds(m);if(!h.intersects(u))continue;h.contains(u)||r.overlapping&&(u.contains(h)||r.path.intersects(v,m))||(_=!1)}if(_&&v.matches(n)&&(d.push(v),s))break;if(!1!==r.recursive&&t(v,n,m,r,s),s&&d.length>0)break}return d}}},{importJSON:function(t){var e=c.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(o,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){e=c.slice(e);for(var i={},r=e.length-1;r>=0;r--){var s=e[r],a=s&&s._id;!s||i[a]?e.splice(r,1):(s._remove(!1,!0),i[a]=!0)}c.splice(n,e,t,0);for(var o=this._project,l=o._changes,r=0,u=e.length;r<u;r++){var s=e[r],h=s._name;s._parent=this,s._setProject(o,!0),h&&s.setName(h),l&&s._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),i=t!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(t._index+e,i)),i},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(o,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(o,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,i=this._name,r=n[i],s=r?r.indexOf(this):-1;-1!==s&&(e[i]==this&&delete e[i],r.splice(s,1),r.length?e[i]=r[0]:delete n[i])}},_remove:function(t,e){var n=this._getOwner(),i=this._project,r=this._index;return!!n&&(this._name&&this._removeNamed(),null!=r&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),c.splice(n._children,null,r,1)),this._installEvents(!1),t&&i._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=c.pick(e,this._children.length);for(var n=c.splice(this._children,null,t,e-t),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){var t=this._children;return!t||!t.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do{e.unshift(t)}while(t=t._parent);return e}for(var n=e(this),i=e(t),r=0,s=Math.min(n.length,i.length);r<s;r++)if(n[r]!=i[r])return n[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},c.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?c:m).read(arguments),i=m.read(arguments,0,{readNull:!0});return this.transform((new C)[t](n,i||this.getPosition(!0)))}},{translate:function(){var t=new C;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n,i){var r=this._matrix,s=t&&!t.isIdentity(),a=(e||this._applyMatrix)&&(!r.isIdentity()||s||e&&n&&this._children);if(!s&&!a)return this;if(s){!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t,!0);var o=this._style,l=o.getFillColor(!0),u=o.getStrokeColor(!0);l&&l.transform(t),u&&u.transform(t)}if(a&&(a=this._transformContent(r,n,i))){var c=this._pivot;c&&r._transformPoint(c,c,!0),r.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var h=this._bounds,f=this._position;(s||a)&&this._changed(9);var d=s&&h&&t.decompose();if(d&&d.skewing.isZero()&&d.rotation%90===0){for(var p in h){var g=h[p];if(g.nonscaling)delete h[p];else if(a||!g.internal){var v=g.rect;t._transformBounds(v,v)}}this._bounds=h;var m=h[this._getBoundsCacheKey(this._boundsOptions||{})];m&&(this._position=m.rect.getCenter(!0))}else s&&f&&this._pivot&&(this._position=t._transformPoint(f,f));return this},_transformContent:function(t,e,n){var i=this._children;if(i){for(var r=0,s=i.length;r<s;r++)i[r].transform(t,!0,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(m.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(m.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(m.read(arguments))},localToParent:function(){return this._matrix._transformPoint(m.read(arguments))},fitBounds:function(t,e){t=w.read(arguments);var n=this.getBounds(),i=n.height/n.width,r=t.height/t.width,s=(e?i>r:i<r)?t.width/n.width:t.height/n.height,a=new w(new m,new y(n.width*s,n.height*s));a.setCenter(t.getCenter()),this.setBounds(a)}}),{_setStyles:function(t,e,n){var i=this._style,r=this._matrix;if(i.hasFill()&&(t.fillStyle=i.getFillColor().toCanvasStyle(t,r)),i.hasStroke()){t.strokeStyle=i.getStrokeColor().toCanvasStyle(t,r),t.lineWidth=i.getStrokeWidth();var a=i.getStrokeJoin(),o=i.getStrokeCap(),l=i.getMiterLimit();if(a&&(t.lineJoin=a),o&&(t.lineCap=o),l&&(t.miterLimit=l),s.support.nativeDash){var u=i.getDashArray(),c=i.getDashOffset();u&&u.length&&("setLineDash"in t?(t.setLineDash(u),t.lineDashOffset=c):(t.mozDash=u,t.mozDashOffset=c))}}if(i.hasShadow()){var h=e.pixelRatio||1,f=n._shiftless().prepend((new C).scale(h,h)),d=f.transform(new m(i.getShadowBlur(),0)),p=f.transform(this.getShadowOffset());t.shadowColor=i.getShadowColor().toCanvasStyle(t),t.shadowBlur=d.getLength(),t.shadowOffsetX=p.x,t.shadowOffsetY=p.y}},draw:function(t,e,n){var i=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var r=e.matrices,s=e.viewMatrix,a=this._matrix,o=r[r.length-1].appended(a);if(o.isInvertible()){s=s?s.appended(o):o,r.push(o),e.updateMatrix&&(o._updateVersion=i,this._globalMatrix=o);var l,u,c,h=this._blendMode,f=this._opacity,d="normal"===h,p=at.nativeModes[h],g=d&&1===f||e.dontStart||e.clip||(p||d&&f<1)&&this._canComposite(),v=e.pixelRatio||1;if(!g){var m=this.getStrokeBounds(s);if(!m.width||!m.height)return;c=e.offset,u=e.offset=m.getTopLeft().floor(),l=t,t=st.getContext(m.getSize().ceil().add(1).multiply(v)),1!==v&&t.scale(v,v)}t.save();var _=n?n.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,y=!g&&e.clipItem,b=!_||y;if(g?(t.globalAlpha=f,p&&(t.globalCompositeOperation=h)):b&&t.translate(-u.x,-u.y),b&&(g?a:s).applyToContext(t),y&&e.clipItem.draw(t,e.extend({clip:!0})),_){t.setTransform(v,0,0,v,0,0);var w=e.offset;w&&t.translate(-w.x,-w.y)}this._draw(t,e,s,_),t.restore(),r.pop(),e.clip&&!e.dontFinish&&t.clip(),g||(at.process(h,t,l,f,u.subtract(c).multiply(v)),st.release(t),e.offset=c)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof B)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,i,r){var s=this._selection,a=1&s,o=2&s||a&&this._selectBounds,l=4&s;if(this._drawSelected||(a=!1),(a||o||l)&&this._isUpdated(r)){var u,c=this.getSelectedColor(!0)||(u=this.getLayer())&&u.getSelectedColor(!0),h=e.appended(this.getGlobalMatrix(!0)),f=n/2;if(t.strokeStyle=t.fillStyle=c?c.toCanvasStyle(t):"#009dec",a&&this._drawSelected(t,h,i),l){var d=this.getPosition(!0),p=d.x,g=d.y;t.beginPath(),t.arc(p,g,f,0,2*Math.PI,!0),t.stroke();for(var v=[[0,-1],[1,0],[0,1],[-1,0]],m=f,_=n+1,y=0;y<4;y++){var b=v[y],w=b[0],x=b[1];t.moveTo(p+w*m,g+x*m),t.lineTo(p+w*_,g+x*_),t.stroke()}}if(o){var C=h._transformCorners(this.getInternalBounds());t.beginPath();for(var y=0;y<8;y++)t[y?"lineTo":"moveTo"](C[y],C[++y]);t.closePath(),t.stroke();for(var y=0;y<8;y++)t.fillRect(C[y]-f,C[++y]-f,n,n)}}},_canComposite:function(){return!1}},c.each(["down","drag","up","move"],function(t){this["removeOn"+c.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,i=this._project,r=i._removeSets=i._removeSets||{};r[n]=r[n]||{},r[n][this._id]=this}return this}})),P=T.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(e){t.base.call(this,e),1026&e&&(this._clipItem=o)},_getClipItem:function(){var t=this._clipItem;if(t===o){t=null;for(var e=this._children,n=0,i=e.length;n<i;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var i=this._getClipItem();return i?i._getCachedBounds(e&&e.appended(i._matrix),c.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,i){var r=this._getClipItem();return(!r||r.contains(e))&&t.base.call(this,e,n,i,r)},_draw:function(t,e){var n=e.clip,i=!n&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(t,e.extend({clip:!0}));for(var r=this._children,s=0,a=r.length;s<a;s++){var o=r[s];o!==i&&o.draw(t,e)}}}),E=P.extend({_class:"Layer",initialize:function(){P.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),O=T.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&c.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new b(t.width,t.height,this,"setSize")},setSize:function(){var t=y.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,i=t.height;"rectangle"===e?this._radius.set(y.min(this._radius,t.divide(2))):"circle"===e?(n=i=(n+i)/2,this._radius=n/2):"ellipse"===e&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new b(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size._set(n,n)}else if(t=y.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){var n=y.max(this._size,t.multiply(2));this._size.set(n)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(F[c.capitalize(this._type)])({center:new m,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),s.settings.applyMatrix&&e.setApplyMatrix(!0),(t===o||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,n,i){var r=this._style,s=r.hasFill(),a=r.hasStroke(),o=e.dontFinish||e.clip,l=!i;if(s||a||o){var u=this._type,c=this._radius,h="circle"===u;if(e.dontStart||t.beginPath(),l&&h)t.arc(0,0,c,0,2*Math.PI,!0);else{var f=h?c:c.width,d=h?c:c.height,p=this._size,g=p.width,v=p.height;if(l&&"rectangle"===u&&0===f&&0===d)t.rect(-g/2,-v/2,g,v);else{var m=g/2,_=v/2,y=.44771525016920644,b=f*y,w=d*y,x=[-m,-_+d,-m,-_+w,-m+b,-_,-m+f,-_,m-f,-_,m-b,-_,m,-_+w,m,-_+d,m,_-d,m,_-w,m-b,_,m-f,_,-m+f,_,-m+b,_,-m,_-w,-m,_-d];i&&i.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),m!==f&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),_!==d&&t.lineTo(x[16],x[17]),t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),m!==f&&t.lineTo(x[24],x[25]),t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}t.closePath()}o||!s&&!a||(this._setStyles(t,e,n),s&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new w(this._size).setCenter(0,0),i=this._style,r=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return t&&(n=t._transformBounds(n)),r?n.expand(F._getStrokePadding(r,this._getStrokeMatrix(t,e))):n}},new function(){function t(t,e,n){var i=t._radius;if(!i.isZero())for(var r=t._size.divide(2),s=1;s<=4;s++){var a=new m(s>1&&s<4?-1:1,s>2?-1:1),o=a.multiply(r),l=o.subtract(a.multiply(i)),u=new w(n?o.add(a.multiply(n)):o,l);if(u.contains(e))return{point:l,quadrant:s}}}function e(t,e,n,i){var r=t.divide(e);return(!i||r.isInQuadrant(i))&&r.subtract(r.normalize()).multiply(e).divide(n).length<=1}return{_contains:function e(n){if("rectangle"===this._type){var i=t(this,n);return i?n.subtract(i.point).divide(this._radius).getLength()<=1:e.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,r,s,a){var o=!1,l=this._style,u=r.stroke&&l.hasStroke(),c=r.fill&&l.hasFill();if(u||c){var h=this._type,f=this._radius,d=u?l.getStrokeWidth()/2:0,p=r._tolerancePadding.add(F._getStrokePadding(d,!l.getStrokeScaling()&&a));if("rectangle"===h){var g=p.multiply(2),v=t(this,i,g);if(v)o=e(i.subtract(v.point),f,p,v.quadrant);else{var m=new w(this._size).setCenter(0,0),_=m.expand(g),y=m.expand(g.negate());o=_._containsPoint(i)&&!y._containsPoint(i)}}else o=e(i,f,p)}return o?new N(u?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,n,i,r){var s=new O(c.getNamed(r),e);return s._type=t,s._size=n,s._radius=i,s}return{Circle:function(){var e=m.readNamed(arguments,"center"),n=c.readNamed(arguments,"radius");return t("circle",e,new y(2*n),n,arguments)},Rectangle:function(){var e=w.readNamed(arguments,"rectangle"),n=y.min(y.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),n,arguments)},Ellipse:function(){var e=O._readEllipse(arguments),n=e.radius;return t("ellipse",e.center,n.multiply(2),n,arguments)},_readEllipse:function(t){var e,n;if(c.hasNamed(t,"radius"))e=m.readNamed(t,"center"),n=y.readNamed(t,"radius");else{var i=w.readNamed(t,"rectangle");e=i.getCenter(!0),n=i.getSize(!0).divide(2)}return{center:e,radius:n}}}}}),I=T.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function(t,e){if(!this._initialize(t,e!==o&&m.read(arguments,1))){var n="string"===typeof t?u.getElementById(t):t;n?this.setImage(n):this.setSource(t)}this._size||(this._size=new y,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var i=st.getCanvas(t._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new b(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=y.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this._setImage(st.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&st.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new m(0,0).transform(t),n=new m(1,0).transform(t).subtract(e),i=new m(0,1).transform(t).subtract(e);return new y(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){function e(t){var e=n.getView(),i=t&&t.type||"load";e&&n.responds(i)&&(s=e._scope,n.emit(i,new J(t)))}var n=this;this._setImage(t),this._loaded?setTimeout(e,0):t&&Y.add(t,{load:function(i){n._setImage(t),e(i)},error:e})},_setImage:function(t){this._canvas&&st.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new y(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=st.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){st.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new a.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),e.src=t,this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=w.read(arguments),e=st.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=w.read(arguments),e=new I(T.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=m.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof D?(n=t,e=t.getBounds()):"object"===typeof t&&("width"in t?e=new w(t):"x"in t&&(e=new w(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=Math.min(e.width,32),r=Math.min(e.height,32),s=I._sampleContext;s?s.clearRect(0,0,33,33):s=I._sampleContext=st.getContext(new y(32)),s.save();var a=(new C).scale(i/e.width,r/e.height).translate(-e.x,-e.y);a.applyToContext(s),n&&n.draw(s,new c({clip:!0,matrices:[a]})),this._matrix.applyToContext(s);var o=this.getElement(),l=this._size;o&&s.drawImage(o,-l.width/2,-l.height/2),s.restore();for(var u=s.getImageData(.5,.5,Math.ceil(i),Math.ceil(r)).data,h=[0,0,0],f=0,d=0,p=u.length;d<p;d+=4){var g=u[d+3];f+=g,g/=255,h[0]+=u[d]*g,h[1]+=u[d+1]*g,h[2]+=u[d+2]*g}for(var d=0;d<3;d++)h[d]/=f;return f?W.read(h):null},getPixel:function(){var t=m.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new W("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=m.read(arguments),e=W.read(arguments),n=e._convert("rgb"),i=e._alpha,r=this.getContext(!0),s=r.createImageData(1,1),a=s.data;a[0]=255*n[0],a[1]=255*n[1],a[2]=255*n[2],a[3]=null!=i?255*i:255,r.putImageData(s,t.x,t.y)},createImageData:function(){var t=y.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=w.read(arguments);return t.isEmpty()&&(t=new w(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=m.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var n=new w(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new N("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),A=T.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==o&&m.read(arguments,1))||this.setDefinition(t instanceof M?t:new M(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n){var i=this._definition._item._hitTest(t,e,n);return i&&(i.item=this),i},_draw:function(t,e){this._definition._item.draw(t,e)}}),M=c.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=v.get(),this.project=s.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return c.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&T._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new m),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new A(this,t)},clone:function(){return new M(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),N=c.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&this.inject(n)},statics:{getOptions:function(t){var e=t&&c.read(t);return c.set({type:null,tolerance:s.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),L=c.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,n,i,r,s){var a,l,u,c,h=arguments.length;h>0&&(null==t||"object"===typeof t?1===h&&t&&"point"in t?(a=t.point,l=t.handleIn,u=t.handleOut,c=t.selection):(a=t,l=e,u=n,c=i):(a=[t,e],l=n!==o?[n,i]:null,u=r!==o?[r,s]:null)),new z(a,this,"_point"),new z(l,this,"_handleIn"),new z(u,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(t,e){var n=this._point,i=this._selection,r=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&r.push(i),c.serialize(r,t,!0,e)},_changed:function(t){var e=this._path;if(e){var n,i=e._curves,r=this._index;i&&(t&&t!==this._point&&t!==this._handleIn||!(n=r>0?i[r-1]:e._closed?i[i.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=i[r])||n._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(m.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(m.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(m.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(129))},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==o?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new j(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var i=t||{},r=i.type,s=i.factor,a=this.getPrevious(),l=this.getNext(),u=(a||this)._point,c=this._point,h=(l||this)._point,f=u.getDistance(c),d=c.getDistance(h);if(r&&"catmull-rom"!==r){if("geometric"!==r)throw new Error("Smoothing method '"+r+"' not supported.");if(a&&l){var p=u.subtract(h),g=s===o?.4:s,v=g*f/(f+d);e||this.setHandleIn(p.multiply(v)),n||this.setHandleOut(p.multiply(v-g))}}else{var _=s===o?.5:s,y=Math.pow(f,_),b=y*y,w=Math.pow(d,_),x=w*w;if(!e&&a){var C=2*x+3*w*y+b,S=3*w*(w+y);this.setHandleIn(0!==S?new m((x*u._x+C*c._x-b*h._x)/S-c._x,(x*u._y+C*c._y-b*h._y)/S-c._y):new m)}if(!n&&l){var C=2*b+3*y*w+x,S=3*y*(y+w);this.setHandleOut(0!==S?new m((b*h._x+C*c._x-x*u._x)/S-c._x,(b*h._y+C*c._y-x*u._y)/S-c._y):new m)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new L(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new L(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var i=1-n,r=n,s=t._point,a=e._point,o=t._handleIn,l=e._handleIn,u=e._handleOut,c=t._handleOut;this._point._set(i*s._x+r*a._x,i*s._y+r*a._y,!0),this._handleIn._set(i*o._x+r*l._x,i*o._y+r*l._y,!0),this._handleOut._set(i*c._x+r*u._x,i*c._y+r*u._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var i=this._point,r=n&&this._handleIn.isZero()?null:this._handleIn,s=n&&this._handleOut.isZero()?null:this._handleOut,a=i._x,o=i._y,l=2;return e[0]=a,e[1]=o,r&&(e[l++]=r._x+a,e[l++]=r._y+o),s&&(e[l++]=s._x+a,e[l++]=s._y+o),t&&(t._transformCoordinates(e,e,l/2),a=e[0],o=e[1],n?(i._x=a,i._y=o,l=2,r&&(r._x=e[l++]-a,r._y=e[l++]-o),s&&(s._x=e[l++]-a,s._y=e[l++]-o)):(r||(e[l++]=a,e[l++]=o),s||(e[l++]=a,e[l++]=o))),e}}),z=m.extend({initialize:function(t,e,n){var i,r,s;if(t)if((i=t[0])!==o)r=t[1];else{var a=t;(i=a.x)===o&&(a=m.read(arguments),i=a.x),r=a.y,s=a.selected}else i=r=0;this._x=i,this._y=r,this._owner=e,e[n]=this,s&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=g.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),R=c.extend({_class:"Curve",beans:!0,initialize:function(t,e,n,i,r,s,a,o){var l,u,c,h,f,d,p=arguments.length;3===p?(this._path=t,l=e,u=n):p?1===p?"segment1"in t?(l=new L(t.segment1),u=new L(t.segment2)):"point1"in t?(c=t.point1,f=t.handle1,d=t.handle2,h=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],h=[t[6],t[7]],f=[t[2]-t[0],t[3]-t[1]],d=[t[4]-t[6],t[5]-t[7]]):2===p?(l=new L(t),u=new L(e)):4===p?(c=t,f=e,d=n,h=i):8===p&&(c=[t,e],h=[a,o],f=[n-t,i-e],d=[r-a,s-o]):(l=new L,u=new L),this._segment1=l||new L(c,null,f),this._segment2=u||new L(h,d,null)},_serialize:function(t,e){return c.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=o},clone:function(){return new R(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return R.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(m.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(m.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(m.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(m.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return R.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new m(t[n],t[n+1]));return e}},{getLength:function(){return null==this._length&&(this._length=R.getLength(this.getValues(),0,1)),this._length},getArea:function(){return R.getArea(this.getValues())},getLine:function(){return new S(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new R(R.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return R.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=null;if(t>=1e-8&&t<=1-1e-8){var i=R.subdivide(this.getValues(),t),r=i[0],s=i[1],a=e||this.hasHandles(),o=this._segment1,l=this._segment2,u=this._path;a&&(o._handleOut._set(r[2]-r[0],r[3]-r[1]),l._handleIn._set(s[4]-s[6],s[5]-s[7]));var c=r[6],h=r[7],f=new L(new m(c,h),a&&new m(r[4]-c,r[5]-h),a&&new m(s[2]-c,s[3]-h));u?(u.insert(o._index+1,f),n=this.getNext()):(this._segment2=f,this._changed(),n=new R(f,l))}return n},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===o?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===o?.5:e?t:this.getTimeAt(t))},reversed:function(){return new R(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,i){var r=t._point,s=t._handleOut,a=e._handleIn,o=e._point,l=r.x,u=r.y,c=o.x,h=o.y,f=i?[l,u,l,u,c,h,c,h]:[l,u,l+s._x,u+s._y,c+a._x,h+a._y,c,h];return n&&n._transformCoordinates(f,f,4),f},subdivide:function(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7];e===o&&(e=.5);var h=1-e,f=h*n+e*r,d=h*i+e*s,p=h*r+e*a,g=h*s+e*l,v=h*a+e*u,m=h*l+e*c,_=h*f+e*p,y=h*d+e*g,b=h*p+e*v,w=h*g+e*m,x=h*_+e*b,C=h*y+e*w;return[[n,i,f,d,_,y,x,C],[x,C,b,w,v,m,u,c]]},getMonoCurves:function(t,e){var n=[],i=e?0:1,r=t[i+0],s=t[i+2],a=t[i+4],o=t[i+6];if(r>=s===s>=a&&s>=a===a>=o||R.isStraight(t))n.push(t);else{var l=3*(s-a)-r+o,u=2*(r+a)-4*s,c=s-r,h=[],f=g.solveQuadratic(l,u,c,h,1e-8,1-1e-8);if(f){h.sort();var d=h[0],p=R.subdivide(t,d);n.push(p[0]),f>1&&(d=(h[1]-d)/(1-d),p=R.subdivide(p[1],d),n.push(p[0])),n.push(p[1])}else n.push(t)}return n},solveCubic:function(t,e,n,i,r,s){var a=t[e],o=t[e+2],l=t[e+4],u=t[e+6],c=0;if(!(a<n&&u<n&&o<n&&l<n||a>n&&u>n&&o>n&&l>n)){var h=3*(o-a),f=3*(l-o)-h,d=u-a-h-f;c=g.solveCubic(d,f,h,a-n,i,r,s)}return c},getTimeOf:function(t,e){var n=new m(t[0],t[1]),i=new m(t[6],t[7]);if(null===(e.isClose(n,1e-12)?0:e.isClose(i,1e-12)?1:null))for(var r=[e.x,e.y],s=[],a=0;a<2;a++)for(var o=R.solveCubic(t,a,r[a],s,0,1),l=0;l<o;l++){var u=s[l];if(e.isClose(R.getPoint(t,u),1e-7))return u}return e.isClose(n,1e-7)?0:e.isClose(i,1e-7)?1:null},getNearestTime:function(t,e){function n(n){if(n>=0&&n<=1){var i=e.getDistance(R.getPoint(t,n),!0);if(i<h)return h=i,f=n,!0}}if(R.isStraight(t)){var i=t[0],r=t[1],s=t[6],a=t[7],o=s-i,l=a-r,u=o*o+l*l;if(0===u)return 0;var c=((e.x-i)*o+(e.y-r)*l)/u;return c<1e-12?0:c>.999999999999?1:R.getTimeOf(t,new m(i+c*o,r+c*l))}for(var h=1/0,f=0,d=0;d<=100;d++)n(d/100);for(var p=.005;p>1e-8;)n(f-p)||n(f+p)||(p/=2);return f},getPart:function(t,e,n){var i=e>n;if(i){var r=e;e=n,n=r}return e>0&&(t=R.subdivide(t,e)[1]),n<1&&(t=R.subdivide(t,(n-e)/(1-e))[0]),i?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],c=3*r-2*n-l,h=3*s-2*i-u,f=3*a-2*l-n,d=3*o-2*u-i;return Math.max(c*c,f*f)+Math.max(h*h,d*d)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7];return 3*((l-n)*(i+s)-(o-e)*(r+a)+r*(e-s)-i*(n-a)+l*(s+e/3)-o*(a+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),i=[0,0],r=0;r<2;r++)R._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,n,i);return new w(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,i,r,s,a,o,l){function u(t,e){var n=t-e,i=t+e;n<a[r]&&(a[r]=n),i>o[r]&&(o[r]=i)}s/=2;var c=a[r]-s,h=o[r]+s;if(t<c||e<c||n<c||i<c||t>h||e>h||n>h||i>h)if(e<t!=e<i&&n<t!=n<i)u(t,s),u(i,s);else{var f=3*(e-n)-t+i,d=2*(t+n)-4*e,p=e-t,v=g.solveQuadratic(f,d,p,l);u(i,0);for(var m=0;m<v;m++){var _=l[m],y=1-_;1e-8<=_&&_<=1-1e-8&&u(y*y*y*t+3*y*y*_*e+3*y*_*_*n+_*_*_*i,s)}}}}},c.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=F[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),c.each({isStraight:function(t,e,n,i){if(e.isZero()&&n.isZero())return!0;var r=i.subtract(t);if(r.isZero())return!1;if(r.isCollinear(e)&&r.isCollinear(n)){var s=new S(t,i);if(s.getDistance(t.add(e))<1e-7&&s.getDistance(i.add(n))<1e-7){var a=r.dot(r),o=r.dot(e)/a,l=r.dot(n)/a;return o>=0&&o<=1&&l<=0&&l>=-1}}return!1},isLinear:function(t,e,n,i){var r=i.subtract(t).divide(3);return e.equals(r)&&n.negate().equals(r)}},function(t,e){this[e]=function(e){var n=this._segment1,i=this._segment2;return t(n._point,n._handleOut,i._handleIn,i._point,e)},this.statics[e]=function(e,n){var i=e[0],r=e[1],s=e[6],a=e[7];return t(new m(i,r),new m(e[2]-i,e[3]-r),new m(e[4]-s,e[5]-a),new m(s,a),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new j(this,t):null},getTimeAt:function(t,e){return R.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(m.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return R.getTimeOf(this.getValues(),m.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=m.read(arguments),e=this.getValues(),n=R.getNearestTime(e,t),i=R.getPoint(e,n);return new j(this,n,i,null,t.getDistance(i))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return c.each(t,function(t){this[t+"At"]=function(e,n){var i=this.getValues();return R[t](i,n?e:R.getTimeAt(i,e))},this[t+"AtTime"]=function(e){return R[t](this.getValues(),e)}},{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7],u=9*(i-s)+3*(o-e),c=6*(e+s)-12*i,h=3*(i-e),f=9*(r-a)+3*(l-n),d=6*(n+a)-12*r,p=3*(r-n);return function(t){var e=(u*t+c)*t+h,n=(f*t+d)*t+p;return Math.sqrt(e*e+n*n)}}function e(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function n(t,e,n,i){if(null==e||e<0||e>1)return null;var r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],c=t[6],h=t[7],f=g.isZero;f(a-r)&&f(o-s)&&(a=r,o=s),f(l-c)&&f(u-h)&&(l=c,u=h);var d,p,v=3*(a-r),_=3*(l-a)-v,y=c-r-v-_,b=3*(o-s),w=3*(u-o)-b,x=h-s-b-w;if(0===n)d=0===e?r:1===e?c:((y*e+_)*e+v)*e+r,p=0===e?s:1===e?h:((x*e+w)*e+b)*e+s;else{if(e<1e-8?(d=v,p=b):e>1-1e-8?(d=3*(c-l),p=3*(h-u)):(d=(3*y*e+2*_)*e+v,p=(3*x*e+2*w)*e+b),i){0===d&&0===p&&(e<1e-8||e>1-1e-8)&&(d=l-a,p=u-o);var C=Math.sqrt(d*d+p*p);C&&(d/=C,p/=C)}if(3===n){var l=6*y*e+2*_,u=6*x*e+2*w,S=Math.pow(d*d+p*p,1.5);d=0!==S?(d*u-p*l)/S:0,p=0}}return 2===n?new m(p,-d):new m(d,p)}return{statics:{classify:function(t){function e(t,e,n){var i=e!==o,r=i&&e>0&&e<1,s=i&&n>0&&n<1;return!i||(r||s)&&("loop"!==t||r&&s)||(t="arch",r=s=!1),{type:t,roots:r||s?r&&s?e<n?[e,n]:[n,e]:[r?e:n]:null}}var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=n*(c-l)+i*(a-u)+u*l-c*a,f=r*(i-c)+s*(u-n)+n*c-i*u,d=a*(s-i)+l*(n-r)+r*i-s*n,p=3*d,v=p-f,m=v-f+h,_=Math.sqrt(m*m+v*v+p*p),y=0!==_?1/_:0,b=g.isZero;if(m*=y,v*=y,p*=y,b(m))return b(v)?e(b(p)?"line":"quadratic"):e("serpentine",p/(3*v));var w=3*v*v-4*m*p;if(b(w))return e("cusp",v/(2*m));var x=w>0?Math.sqrt(w/3):Math.sqrt(-w),C=2*m;return e(w>0?"serpentine":"loop",(v+x)/C,(v-x)/C)},getLength:function(n,i,r,s){if(i===o&&(i=0),r===o&&(r=1),R.isStraight(n)){var a=n;r<1&&(a=R.subdivide(a,r)[0],i/=r),i>0&&(a=R.subdivide(a,i)[1]);var l=a[6]-a[0],u=a[7]-a[1];return Math.sqrt(l*l+u*u)}return g.integrate(s||t(n),i,r,e(i,r))},getTimeAt:function(n,i,r){function s(t){return v+=g.integrate(h,r,t,e(r,t)),r=t,v-i}if(r===o&&(r=i<0?1:0),0===i)return r;var a=Math.abs,l=i>0,u=l?r:0,c=l?1:r,h=t(n),f=R.getLength(n,u,c,h),d=a(i)-f;if(a(d)<1e-12)return l?c:u;if(d>1e-12)return null;var p=i/f,v=0;return g.findRoot(s,h,r+p,u,c,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],o=t[6],l=t[7],u=3*i-e-3*s+o,c=3*e-6*i+3*s,h=-3*e+3*i,f=3*r-n-3*a+l,d=3*n-6*r+3*a,p=-3*n+3*r,v=[];return g.solveCubic(9*(u*u+f*f),9*(u*c+d*f),2*(c*c+d*d)+3*(h*u+p*f),h*c+d*p,v,1e-8,1-1e-8),v.sort()}}}},new function(){function t(t,e,n,i,r,s,a){var o=!a&&n.getPrevious()===r,l=!a&&n!==r&&n.getNext()===r;if(null!==i&&i>=(o?1e-8:0)&&i<=(l?1-1e-8:1)&&null!==s&&s>=(l?1e-8:0)&&s<=(o?1-1e-8:1)){var u=new j(n,i,null,a),c=new j(r,s,null,a);u._intersection=c,c._intersection=u,e&&!e(u)||j.insert(t,u,!0)}}function e(r,s,a,o,l,u,c,h,f,d,p,g,v){if(++f>=4096||++h>=40)return f;var m,_,y=s[0],b=s[1],w=s[6],x=s[7],C=S.getSignedDistance,k=C(y,b,w,x,s[2],s[3]),T=C(y,b,w,x,s[4],s[5]),P=k*T>0?.75:4/9,E=P*Math.min(0,k,T),O=P*Math.max(0,k,T),I=C(y,b,w,x,r[0],r[1]),A=C(y,b,w,x,r[2],r[3]),M=C(y,b,w,x,r[4],r[5]),N=C(y,b,w,x,r[6],r[7]),L=n(I,A,M,N),z=L[0],j=L[1];if(0===k&&0===T&&0===I&&0===A&&0===M&&0===N||null==(m=i(z,j,E,O))||null==(_=i(z.reverse(),j.reverse(),E,O)))return f;var D=d+(p-d)*m,F=d+(p-d)*_;if(Math.max(v-g,F-D)<1e-9){var B=(D+F)/2,V=(g+v)/2;t(l,u,c?o:a,c?V:B,c?a:o,c?B:V)}else if(r=R.getPart(r,m,_),_-m>.8)if(F-D>v-g){var U=R.subdivide(r,.5),B=(D+F)/2;f=e(s,U[0],o,a,l,u,!c,h,f,g,v,D,B),f=e(s,U[1],o,a,l,u,!c,h,f,g,v,B,F)}else{var U=R.subdivide(s,.5),V=(g+v)/2;f=e(U[0],r,o,a,l,u,!c,h,f,g,V,D,F),f=e(U[1],r,o,a,l,u,!c,h,f,V,v,D,F)}else f=v-g>=1e-9?e(s,r,o,a,l,u,!c,h,f,g,v,D,F):e(r,s,a,o,l,u,c,h,f,D,F,g,v);return f}function n(t,e,n,i){var r,s=[0,t],a=[1/3,e],o=[2/3,n],l=[1,i],u=e-(2*t+i)/3,c=n-(t+2*i)/3;if(u*c<0)r=[[s,a,l],[s,o,l]];else{var h=u/c;r=[h>=2?[s,a,l]:h<=.5?[s,o,l]:[s,a,o,l],[s,l]]}return(u||c)<0?r.reverse():r}function i(t,e,n,i){return t[0][1]<n?r(t,!0,n):e[0][1]>i?r(e,!1,i):t[0][0]}function r(t,e,n){for(var i=t[0][0],r=t[0][1],s=1,a=t.length;s<a;s++){var o=t[s][0],l=t[s][1];if(e?l>=n:l<=n)return l===n?o:i+(n-r)*(o-i)/(l-r);i=o,r=l}return null}function s(t,e,n,i,r){var s=g.isZero;if(s(i)&&s(r)){var a=R.getTimeOf(t,new m(e,n));return null===a?[]:[a]}for(var o=Math.atan2(-r,i),l=Math.sin(o),u=Math.cos(o),c=[],h=[],f=0;f<8;f+=2){var d=t[f]-e,p=t[f+1]-n;c.push(d*u-p*l,d*l+p*u)}return R.solveCubic(c,1,0,h,0,1),h}function a(e,n,i,r,a,o,l){for(var u=n[0],c=n[1],h=n[6],f=n[7],d=s(e,u,c,h-u,f-c),p=0,g=d.length;p<g;p++){var v=d[p],m=R.getPoint(e,v),_=R.getTimeOf(n,m);null!==_&&t(a,o,l?r:i,l?_:v,l?i:r,l?v:_)}}function o(e,n,i,r,s,a){var o=S.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);o&&t(s,a,i,R.getTimeOf(e,o),r,R.getTimeOf(n,o))}function l(n,i,r,s,l,u){var c=Math.min,f=Math.max;if(f(n[0],n[2],n[4],n[6])+1e-12>c(i[0],i[2],i[4],i[6])&&c(n[0],n[2],n[4],n[6])-1e-12<f(i[0],i[2],i[4],i[6])&&f(n[1],n[3],n[5],n[7])+1e-12>c(i[1],i[3],i[5],i[7])&&c(n[1],n[3],n[5],n[7])-1e-12<f(i[1],i[3],i[5],i[7])){var d=h(n,i);if(d)for(var p=0;p<2;p++){var g=d[p];t(l,u,r,g[0],s,g[1],!0)}else{var v=R.isStraight(n),_=R.isStraight(i),y=v&&_,b=v&&!_,w=l.length;if((y?o:v||_?a:e)(b?i:n,b?n:i,b?s:r,b?r:s,l,u,b,0,0,0,1,0,1),!y||l.length===w)for(var p=0;p<4;p++){var x=p>>1,C=1&p,S=6*x,k=6*C,T=new m(n[S],n[S+1]),P=new m(i[k],i[k+1]);T.isClose(P,1e-12)&&t(l,u,r,x,s,C)}}}return l}function u(e,n,i,r){var s=R.classify(e);if("loop"===s.type){var a=s.roots;t(i,r,n,a[0],n,a[1])}return i}function c(t,e,n,i,r,s){var a=!e;a&&(e=t);for(var o,c,h=t.length,f=e.length,d=[],p=[],g=0;g<f;g++)d[g]=e[g].getValues(r);for(var g=0;g<h;g++){var v=t[g],m=a?d[g]:v.getValues(i),_=v.getPath();_!==c&&(c=_,o=[],p.push(o)),a&&u(m,v,o,n);for(var y=a?g+1:0;y<f;y++){if(s&&o.length)return o;l(m,d[y],v,e[y],o,n)}}o=[];for(var g=0,b=p.length;g<b;g++)o.push.apply(o,p[g]);return o}function h(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var i=Math.abs,r=S.getDistance,s=R.isStraight(t),a=R.isStraight(e),o=s&&a,l=n(t)<n(e),u=l?e:t,c=l?t:e,h=u[0],f=u[1],d=u[6]-h,p=u[7]-f;if(r(h,f,d,p,c[0],c[1],!0)<1e-7&&r(h,f,d,p,c[6],c[7],!0)<1e-7)!o&&r(h,f,d,p,u[2],u[3],!0)<1e-7&&r(h,f,d,p,u[4],u[5],!0)<1e-7&&r(h,f,d,p,c[2],c[3],!0)<1e-7&&r(h,f,d,p,c[4],c[5],!0)<1e-7&&(s=a=o=!0);else if(o)return null;if(s^a)return null;for(var g=[t,e],v=[],_=0;_<4&&v.length<2;_++){var y=1&_,b=1^y,w=_>>1,x=R.getTimeOf(g[y],new m(g[b][w?6:0],g[b][w?7:1]));if(null!=x){var C=y?[w,x]:[x,w];(!v.length||i(C[0]-v[0][0])>1e-8&&i(C[1]-v[0][1])>1e-8)&&v.push(C)}if(_>2&&!v.length)break}if(2!==v.length)v=null;else if(!o){var k=R.getPart(t,v[0][0],v[1][0]),T=R.getPart(e,v[0][1],v[1][1]);(i(T[2]-k[2])>1e-7||i(T[3]-k[3])>1e-7||i(T[4]-k[4])>1e-7||i(T[5]-k[5])>1e-7)&&(v=null)}return v}return{getIntersections:function(t){var e=this.getValues(),n=t&&t!==this&&t.getValues();return n?l(e,n,this,t,[]):u(e,this,[])},statics:{getOverlaps:h,getIntersections:c,getCurveLineIntersections:s}}}),j=c.extend({_class:"CurveLocation",initialize:function(t,e,n,i,r){if(e>=.99999999){var s=t.getNext();s&&(e=0,t=s)}this._setCurve(t),this._time=e,this._point=n||t.getPointAtTime(e),this._overlap=i,this._distance=r,this._intersection=this._next=this._previous=null},_setCurve:function(t){var e=t._path;this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){function t(t){var e=t&&t.getCurve();if(e&&null!=(n._time=e.getTimeOf(n._point)))return n._setCurve(e),e}var e=this._path,n=this;return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var i=e.getCurves(),r=0;r<n;r++)t+=i[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=null!=n&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof j){var i=this.getCurve(),r=t.getCurve(),s=i._path;if(s===r._path){var a=Math.abs,o=a(this.getOffset()-t.getOffset()),l=!e&&this._intersection,u=!e&&t._intersection;n=(o<1e-7||s&&a(s.getLength()-o)<1e-7)&&(!l&&!u||l&&u&&l.equals(u,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=p.instance;e&&t.push("point: "+e);var i=this.getIndex();null!=i&&t.push("index: "+i);var r=this.getTime();return null!=r&&t.push("time: "+n.number(r)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){function t(t,e){var n=t.getValues(),i=R.classify(n).roots||R.getPeaks(n),r=i.length,s=e&&r>1?i[r-1]:r>0?i[0]:.5;h.push(R.getLength(n,e?s:0,e?1:s)/2)}function e(t,e,n){return e<n?t>e&&t<n:t>e||t<n}var n=this._intersection;if(!n)return!1;var i=this.getTime(),r=n.getTime(),s=i>=1e-8&&i<=1-1e-8,a=r>=1e-8&&r<=1-1e-8;if(s&&a)return!this.isTouching();var o=this.getCurve(),l=i<1e-8?o.getPrevious():o,u=n.getCurve(),c=r<1e-8?u.getPrevious():u;if(i>1-1e-8&&(o=o.getNext()),r>1-1e-8&&(u=u.getNext()),!l||!o||!c||!u)return!1;var h=[];s||(t(l,!0),t(o,!1)),a||(t(c,!0),t(u,!1));var f=this.getPoint(),d=Math.min.apply(Math,h),p=s?o.getTangentAtTime(i):o.getPointAt(d).subtract(f),g=s?p.negate():l.getPointAt(-d).subtract(f),v=a?u.getTangentAtTime(r):u.getPointAt(d).subtract(f),m=a?v.negate():c.getPointAt(-d).subtract(f),_=g.getAngle(),y=p.getAngle(),b=m.getAngle(),w=v.getAngle();return!!(s?e(_,b,w)^e(y,b,w)&&e(_,w,b)^e(y,w,b):e(b,_,y)^e(w,_,y)&&e(b,y,_)^e(w,y,_))},hasOverlap:function(){return!!this._overlap}},c.each(R._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),n=this.getTime();return null!=n&&t&&t[e](n,!0)}},{preserve:!0}),new function(){function t(t,e,n){function i(n,i){for(var s=n+i;s>=-1&&s<=r;s+=i){var a=t[(s%r+r)%r];if(!e.getPoint().isClose(a.getPoint(),1e-7))break;if(e.equals(a))return a}return null}for(var r=t.length,s=0,a=r-1;s<=a;){var o,l=s+a>>>1,u=t[l];if(n&&(o=e.equals(u)?u:i(l,-1)||i(l,1)))return e._overlap&&(o._overlap=o._intersection._overlap=!0),o;var c=e.getPath(),h=u.getPath();(c!==h?c._id-h._id:e.getIndex()+e.getTime()-(u.getIndex()+u.getTime()))<0?a=l-1:s=l+1}return t.splice(s,0,e),e}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),i=e.length-1;i>=0;i--)t(n,e[i]._intersection,!1);return n}}}}),D=T.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,i;if(c.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:"string"===typeof t&&(e=t),n){var r=n[0];i=r&&Array.isArray(r[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));return new(i?B:F)(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){function e(t,e){var n=+i[t];return o&&(n+=l[e]),n}function n(t){return new m(e(t,"x"),e(t+1,"y"))}var i,r,s,a=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,l=new m,u=new m;this.clear();for(var c=0,h=a&&a.length;c<h;c++){var f=a[c],d=f[0],p=d.toLowerCase();i=f.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var g=i&&i.length;switch(o=d===p,"z"!==r||/[mz]/.test(p)||this.moveTo(l),p){case"m":case"l":for(var v="m"===p,_=0;_<g;_+=2)this[v?"moveTo":"lineTo"](l=n(_)),v&&(u=l,v=!1);s=l;break;case"h":case"v":var b="h"===p?"x":"y";l=l.clone();for(var _=0;_<g;_++)l[b]=e(_,b),this.lineTo(l);s=l;break;case"c":for(var _=0;_<g;_+=6)this.cubicCurveTo(n(_),s=n(_+2),l=n(_+4));break;case"s":for(var _=0;_<g;_+=4)this.cubicCurveTo(/[cs]/.test(r)?l.multiply(2).subtract(s):l,s=n(_),l=n(_+2)),r=p;break;case"q":for(var _=0;_<g;_+=4)this.quadraticCurveTo(s=n(_),l=n(_+2));break;case"t":for(var _=0;_<g;_+=2)this.quadraticCurveTo(s=/[qt]/.test(r)?l.multiply(2).subtract(s):l,l=n(_)),r=p;break;case"a":for(var _=0;_<g;_+=7)this.arcTo(l=n(_+5),new y(+i[_],+i[_+1]),+i[_+2],+i[_+4],+i[_+3]);break;case"z":this.closePath(1e-12),l=u}r=p}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,n,i){var r=this===t||!t,s=this._matrix._orNullIfIdentity(),a=r?s:(n||t._matrix)._orNullIfIdentity();return r||this.getBounds(s).intersects(t.getBounds(a),1e-12)?R.getIntersections(this.getCurves(),!r&&t.getCurves(),e,s,a,i):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.hasOverlap()||t.isCrossing()})},getNearestLocation:function(){for(var t=m.read(arguments),e=this.getCurves(),n=1/0,i=null,r=0,s=e.length;r<s;r++){var a=e[r].getNearestLocation(t);a._distance<n&&(n=a._distance,i=a)}return i},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,n){var i=!this._children,r=i?"_segments":"_children",s=t[r],a=e[r],o=this[r];if(!s||!a||s.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var l=o.length,u=a.length;if(l<u)for(var c=i?L:F,h=l;h<u;h++)this.add(new c);else l>u&&this[i?"removeSegments":"removeChildren"](u,l);for(var h=0;h<u;h++)o[h].interpolate(s[h],a[h],n);i&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],i=t._children?t._children.slice():[t],r=n.length,s=i.length,a=[],o=0;e=!0;for(var l=r-1;l>=0&&e;l--){var u=n[l];e=!1;for(var c=s-1;c>=0&&!e;c--)u.compare(i[c])&&(a[c]||(a[c]=!0,o++),e=!0)}e=e&&o===s}return e}}),F=D.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=Array.isArray(t)?"object"===typeof t[0]?t:arguments:!t||t.size!==o||t.x===o&&t.point===o?null:arguments;e&&e.length>0?this.setSegments(e):(this._curves=o,this._segmentSelection=0,e||"string"!==typeof t||(this.setPathData(t),t=null)),this._initialize(!e&&t)},_equals:function(t){return this._closed===t._closed&&c.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=o,16&e)this._version++;else if(this._curves)for(var n=0,i=this._curves.length;n<i;n++)this._curves[n]._changed()}else 32&e&&(this._bounds=o)},getStyle:function(){var t=this._parent;return(t instanceof B?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=o,n){var i=t[n-1];"boolean"===typeof i&&(this.setClosed(i),n--),this._add(L.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var i=0;i<n;i++)t[i]=new R(this,e[i],e[i+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new R(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function n(e,n){if(e._transformCoordinates(t,g),i=g[0],r=g[1],v)m.push("M"+d.pair(i,r)),v=!1;else if(o=g[2],l=g[3],o===i&&l===r&&u===s&&c===a){if(!n){var h=i-s,f=r-a;m.push(0===h?"v"+d.number(f):0===f?"h"+d.number(h):"l"+d.pair(h,f))}}else m.push("c"+d.pair(u-s,c-a)+" "+d.pair(o-s,l-a)+" "+d.pair(i-s,r-a));s=i,a=r,u=g[4],c=g[5]}var i,r,s,a,o,l,u,c,h=this._segments,f=h.length,d=new p(e),g=new Array(6),v=!0,m=[];if(!f)return"";for(var _=0;_<f;_++)n(h[_]);return this._closed&&f>0&&(n(h[0],!0),m.push("z")),m.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),i=0,r=e.length;i<r;i++)e[i]._transformCoordinates(t,n,!0);return!0},_add:function(t,e){for(var n=this._segments,i=this._curves,r=t.length,s=null==e,e=s?n.length:e,a=0;a<r;a++){var o=t[a];o._path&&(o=t[a]=o.clone()),o._path=this,o._index=e+a,o._selection&&this._updateSelection(o,0,o._selection)}if(s)n.push.apply(n,t);else{n.splice.apply(n,[e,0].concat(t));for(var a=e+r,l=n.length;a<l;a++)n[a]._index=a}if(i){var u=this._countCurves(),c=e>0&&e+r-1===u?e-1:e,h=c,f=Math.min(c+r,u);t._curves&&(i.splice.apply(i,[c,0].concat(t._curves)),h+=t._curves.length);for(var a=h;a<f;a++)i.splice(a,0,new R(this,null,null));this._adjustCurves(c,f)}return this._changed(25),t},_adjustCurves:function(t,e){for(var n,i=this._segments,r=this._curves,s=t;s<e;s++)n=r[s],n._path=this,n._segment1=i[s],n._segment2=i[s+1]||i[0],n._changed();(n=r[this._closed&&!t?i.length-1:t-1])&&(n._segment2=i[t]||i[0],n._changed()),(n=r[e])&&(n._segment1=i[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!==typeof t?this._add(L.readList(arguments)):this._add([L.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!==typeof e?this._add(L.readList(arguments,1),t):this._add([L.read(arguments,1)],t)[0]},addSegment:function(){return this._add([L.read(arguments)])[0]},insertSegment:function(t){return this._add([L.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(L.readList(t))},insertSegments:function(t,e){return this._add(L.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=c.pick(e,this._segments.length);var i=this._segments,r=this._curves,s=i.length,a=i.splice(t,e-t),o=a.length;if(!o)return a;for(var l=0;l<o;l++){var u=a[l];u._selection&&this._updateSelection(u,u._selection,0),u._index=u._path=null}for(var l=t,h=i.length;l<h;l++)i[l]._index=l;if(r){for(var f=t>0&&e===s+(this._closed?1:0)?t-1:t,r=r.splice(f,o),l=r.length-1;l>=0;l--)r[l]._path=null;n&&(a._curves=r.slice(1)),this._adjustCurves(f,f)}return this._changed(25),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,n=this._closed;t=0;for(var i=0,r=e.length;i<r;i++){var s=i+1===r;t+=R.getArea(R.getValues(e[i],e[s?0:i+1],null,s&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,i=t?7:0;this._segmentSelection=i*n;for(var r=0;r<n;r++)e[r]._selection=i},_updateSelection:function(t,e,n){t._selection=n,(this._segmentSelection+=n-e)>0&&this.setSelected(!0)},divideAt:function(t){var e,n=this.getLocationAt(t);return n&&(e=n.getCurve().divideAt(n.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,i=e&&e.time;i>1-1e-8&&(n++,i=0);var r=this.getCurves();if(n>=0&&n<r.length){i>=1e-8&&r[n++].divideAtTime(i);var s,a=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),s=this):(s=new F(T.NO_INSERT),s.insertAbove(this),s.copyAttributes(this)),s._add(a,0),this.addSegment(a[0]),s}return null},split:function(t,e){var n,i=e===o?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return null!=i?this.splitAt(i):null},join:function(t,e){var n=e||0;if(t&&t!==this){var i=t._segments,r=this.getLastSegment(),s=t.getLastSegment();if(!s)return this;r&&r._point.isClose(s._point,n)&&t.reverse();var a=t.getFirstSegment();if(r&&r._point.isClose(a._point,n))r.setHandleOut(a._handleOut),this._add(i.slice(1));else{var o=this.getFirstSegment();o&&o._point.isClose(a._point,n)&&t.reverse(),s=t.getLastSegment(),o&&o._point.isClose(s._point,n)?(o.setHandleIn(s._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}t._closed&&this._add([i[0]]),t.remove()}var l=this.getFirstSegment(),u=this.getLastSegment();return l!==u&&l._point.isClose(u._point,n)&&(l.setHandleIn(u._handleIn),u.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,i=n?1e-7:0,r=e.length-1;r>=0;r--){var s=e[r];!s.hasHandles()&&(!s.hasLength(i)||n&&s.isCollinear(s.getNext()))&&s.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new V(this,t||.25,256,!0),n=e.parts,i=n.length,r=[],s=0;s<i;s++)r.push(new L(n[s].curve.slice(0,2)));!this._closed&&i>0&&r.push(new L(n[i-1].curve.slice(6))),this.setSegments(r)},simplify:function(t){var e=new U(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){function e(t,e){var i=t&&t.index;if(null!=i){var r=t.path;if(r&&r!==n)throw new Error(t._class+" "+i+" of "+r+" is not part of "+n);e&&t instanceof R&&i++}else i="number"===typeof t?t:e;return Math.min(i<0&&l?i%a:i<0?i+a:i,a-1)}var n=this,i=t||{},r=i.type||"asymmetric",s=this._segments,a=s.length,l=this._closed,u=l&&i.from===o&&i.to===o,c=e(i.from,0),h=e(i.to,a-1);if(c>h)if(l)c-=a;else{var f=c;c=h,h=f}if(/^(?:asymmetric|continuous)$/.test(r)){var d="asymmetric"===r,p=Math.min,g=h-c+1,v=g-1,m=u?p(g,4):1,_=m,y=m,b=[];if(l||(_=p(1,c),y=p(1,a-h-1)),(v+=_+y)<=1)return;for(var w=0,x=c-_;w<=v;w++,x++)b[w]=s[(x<0?x+a:x)%a]._point;for(var C=b[0]._x+2*b[1]._x,S=b[0]._y+2*b[1]._y,k=2,T=v-1,P=[C],E=[S],O=[k],I=[],A=[],w=1;w<v;w++){var M=w<T,N=M?1:d?1:2,L=M?4:d?2:7,z=M?4:d?3:8,j=M?2:d?0:1,D=N/k;k=O[w]=L-D,C=P[w]=z*b[w]._x+j*b[w+1]._x-D*C,S=E[w]=z*b[w]._y+j*b[w+1]._y-D*S}I[T]=P[T]/O[T],A[T]=E[T]/O[T];for(var w=v-2;w>=0;w--)I[w]=(P[w]-I[w+1])/O[w],A[w]=(E[w]-A[w+1])/O[w];I[v]=(3*b[v]._x-I[T])/2,A[v]=(3*b[v]._y-A[T])/2;for(var w=_,F=v-y,x=c;w<=F;w++,x++){var B=s[x<0?x+a:x],V=B._point,U=I[w]-V._x,q=A[w]-V._y;(u||w<F)&&B.setHandleOut(U,q),(u||w>_)&&B.setHandleIn(-U,-q)}}else for(var w=c;w<=h;w++)s[w<0?w+a:w].smooth(i,!u&&w===c,!u&&w===h)},toShape:function(t){function e(t,e){var n=u[t],i=n.getNext(),r=u[e],s=r.getNext();return n._handleOut.isZero()&&i._handleIn.isZero()&&r._handleOut.isZero()&&s._handleIn.isZero()&&i._point.subtract(n._point).isCollinear(s._point.subtract(r._point))}function n(t){var e=u[t],n=e.getNext(),i=e._handleOut,r=n._handleIn;if(i.isOrthogonal(r)){var s=e._point,a=n._point,o=new S(s,i,!0).intersect(new S(a,r,!0),!0);return o&&g.isZero(i.getLength()/o.subtract(s).getLength()-.5522847498307936)&&g.isZero(r.getLength()/o.subtract(a).getLength()-.5522847498307936)}return!1}function i(t,e){return u[t]._point.getDistance(u[e]._point)}if(!this._closed)return null;var r,s,a,l,u=this._segments;if(!this.hasHandles()&&4===u.length&&e(0,2)&&e(1,3)&&function(t){var e=u[t],n=e.getPrevious(),i=e.getNext();return n._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&i._handleIn.isZero()&&e._point.subtract(n._point).isOrthogonal(i._point.subtract(e._point))}(1)?(r=O.Rectangle,s=new y(i(0,3),i(0,1)),l=u[1]._point.add(u[2]._point).divide(2)):8===u.length&&n(0)&&n(2)&&n(4)&&n(6)&&e(1,5)&&e(3,7)?(r=O.Rectangle,s=new y(i(1,6),i(0,3)),a=s.subtract(new y(i(0,7),i(1,2))).divide(2),l=u[3]._point.add(u[4]._point).divide(2)):4===u.length&&n(0)&&n(1)&&n(2)&&n(3)&&(g.isZero(i(0,2)-i(1,3))?(r=O.Circle,a=i(0,2)/2):(r=O.Ellipse,a=new y(i(2,0)/2,i(3,1)/2)),l=u[1]._point),r){var c=this.getPosition(!0),h=new r({center:c,size:s,radius:a,insert:!1});return h.copyAttributes(this,!0),h._matrix.prepend(this._matrix),h.rotate(l.subtract(c).getAngle()+90),(t===o||t)&&h.insertAbove(this),h}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof B)return t.base.call(this,e);var n=this.getCurves(),i=e.getCurves(),r=n.length,s=i.length;if(!r||!s)return r==s;for(var a,o,l=n[0].getValues(),u=[],c=0,h=0,f=0;f<s;f++){var d=i[f].getValues();u.push(d);var p=R.getOverlaps(l,d);if(p){a=!f&&p[0][0]>0?s-1:f,o=p[0][1];break}}for(var g,v=Math.abs,d=u[a];l&&d;){var p=R.getOverlaps(l,d);if(p){if(v(p[0][0]-h)<1e-8){h=p[1][0],1===h&&(l=++c<r?n[c].getValues():null,h=0);var m=p[0][1];if(v(m-o)<1e-8){if(g||(g=[a,m]),o=p[1][1],1===o&&(++a>=s&&(a=0),d=u[a]||i[a].getValues(),o=0),!l)return g[0]===a&&g[1]===o;continue}}}break}return!1},_hitTestSelf:function(t,e,n,i){function r(e,n){return t.subtract(e).divide(n).length<=1}function s(t,n,i){if(!e.selected||n.isSelected()){var s=t._point;if(n!==s&&(n=n.add(s)),r(n,w))return new N(i,g,{segment:t,point:n})}}function a(t,n){return(n||e.segments)&&s(t,t._point,"segment")||!n&&e.handles&&(s(t,t._handleIn,"handle-in")||s(t,t._handleOut,"handle-out"))}function o(t){f.add(t)}function l(e){var n=y||e._index>0&&e._index<_-1;if("round"===(n?u:c))return r(e._point,w);if(f=new F({internal:!0,closed:!0}),n?e.isSmooth()||F._addBevelJoin(e,u,k,h,null,i,o,!0):"square"===c&&F._addSquareCap(e,c,k,null,i,o,!0),!f.isEmpty()){var s;return f.contains(t)||(s=f.getNearestLocation(t))&&r(s.getPoint(),b)}}var u,c,h,f,d,p,g=this,v=this.getStyle(),m=this._segments,_=m.length,y=this._closed,b=e._tolerancePadding,w=b,x=e.stroke&&v.hasStroke(),C=e.fill&&v.hasFill(),S=e.curves,k=x?v.getStrokeWidth()/2:C&&e.tolerance>0||S?0:null;if(null!==k&&(k>0?(u=v.getStrokeJoin(),c=v.getStrokeCap(),h=v.getMiterLimit(),w=w.add(F._getStrokePadding(k,i))):u=c="round"),!e.ends||e.segments||y){if(e.segments||e.handles)for(var T=0;T<_;T++)if(p=a(m[T]))return p}else if(p=a(m[0],!0)||a(m[_-1],!0))return p;if(null!==k){if(d=this.getNearestLocation(t)){var P=d.getTime();0===P||1===P&&_>1?l(d.getSegment())||(d=null):r(d.getPoint(),w)||(d=null)}if(!d&&"miter"===u&&_>1)for(var T=0;T<_;T++){var E=m[T];if(t.getDistance(E._point)<=h*k&&l(E)){d=E.getLocation();break}}}return!d&&C&&this._contains(t)||d&&!x&&!S?new N("fill",this):d?new N(x?"stroke":"curve",this,{location:d,point:d.getPoint()}):null}},c.each(R._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}},{beans:!1,getLocationOf:function(){for(var t=m.read(arguments),e=this.getCurves(),n=0,i=e.length;n<i;n++){var r=e[n].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"===typeof t){for(var e=this.getCurves(),n=0,i=0,r=e.length;i<r;i++){var s=n,a=e[i];if((n+=a.getLength())>t)return a.getLocationAt(t-s)}if(e.length>0&&t<=this.getLength())return new j(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null}}),new function(){function t(t,e,n,i){function r(e){var n=l[e],i=l[e+1];s==n&&a==i||(t.beginPath(),t.moveTo(s,a),t.lineTo(n,i),t.stroke(),t.beginPath(),t.arc(n,i,o,0,2*Math.PI,!0),t.fill())}for(var s,a,o=i/2,l=new Array(6),u=0,c=e.length;u<c;u++){var h=e[u],f=h._selection;if(h._transformCoordinates(n,l),s=l[0],a=l[1],2&f&&r(2),4&f&&r(4),t.fillRect(s-o,a-o,i,i),!(1&f)){var d=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(s-o+1,a-o+1,i-2,i-2),t.fillStyle=d}}}function e(t,e,n){function i(e){if(n)e._transformCoordinates(n,p),r=p[0],s=p[1];else{var i=e._point;r=i._x,s=i._y}if(g)t.moveTo(r,s),g=!1;else{if(n)l=p[2],u=p[3];else{var f=e._handleIn;l=r+f._x,u=s+f._y}l===r&&u===s&&c===a&&h===o?t.lineTo(r,s):t.bezierCurveTo(c,h,l,u,r,s)}if(a=r,o=s,n)c=p[4],h=p[5];else{var f=e._handleOut;c=a+f._x,h=o+f._y}}for(var r,s,a,o,l,u,c,h,f=e._segments,d=f.length,p=new Array(6),g=!0,v=0;v<d;v++)i(f[v]);e._closed&&d>0&&i(f[0])}return{_draw:function(t,n,i,r){function a(t){return f[(t%d+d)%d]}var o=n.dontStart,l=n.dontFinish||n.clip,u=this.getStyle(),c=u.hasFill(),h=u.hasStroke(),f=u.getDashArray(),d=!s.support.nativeDash&&h&&f&&f.length;if(o||t.beginPath(),(c||h&&!d||l)&&(e(t,this,r),this._closed&&t.closePath()),!l&&(c||h)&&(this._setStyles(t,n,i),c&&(t.fill(u.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),h)){if(d){o||t.beginPath();var p,g=new V(this,.25,32,!1,r),v=g.length,m=-u.getDashOffset(),_=0;for(m%=v;m>0;)m-=a(_--)+a(_--);for(;m<v;)p=m+a(_++),(m>0||p>0)&&g.drawPart(t,Math.max(m,0),Math.max(p,0)),m=p+a(_++)}t.stroke()}},_drawSelected:function(n,i){n.beginPath(),e(n,this,i),n.stroke(),t(n,this._segments,i,s.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new L(m.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new L(m.read(arguments))])},cubicCurveTo:function(){var e=m.read(arguments),n=m.read(arguments),i=m.read(arguments),r=t(this);r.setHandleOut(e.subtract(r._point)),this._add([new L(i,n.subtract(i))])},quadraticCurveTo:function(){var e=m.read(arguments),n=m.read(arguments),i=t(this)._point;this.cubicCurveTo(e.add(i.subtract(e).multiply(1/3)),e.add(n.subtract(e).multiply(1/3)),n)},curveTo:function(){var e=m.read(arguments),n=m.read(arguments),i=c.pick(c.read(arguments),.5),r=1-i,s=t(this)._point,a=e.subtract(s.multiply(r*r)).subtract(n.multiply(i*i)).divide(2*i*r);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);this.quadraticCurveTo(a,n)},arcTo:function(){var e,n,i,r,s,a=Math.abs,o=Math.sqrt,l=t(this),u=l._point,h=m.read(arguments),f=c.peek(arguments),d=c.pick(f,!0);if("boolean"===typeof d)var p=u.add(h).divide(2),e=p.add(p.subtract(u).rotate(d?-90:90));else if(c.remain(arguments)<=2)e=h,h=m.read(arguments);else{var v=y.read(arguments),_=g.isZero;if(_(v.width)||_(v.height))return this.lineTo(h);var b=c.read(arguments),d=!!c.read(arguments),w=!!c.read(arguments),p=u.add(h).divide(2),x=u.subtract(p).rotate(-b),k=x.x,T=x.y,P=a(v.width),E=a(v.height),O=P*P,I=E*E,A=k*k,M=T*T,N=o(A/O+M/I);if(N>1&&(P*=N,E*=N,O=P*P,I=E*E),N=(O*I-O*M-I*A)/(O*M+I*A),a(N)<1e-12&&(N=0),N<0)throw new Error("Cannot create an arc with the given arguments");n=new m(P*T/E,-E*k/P).multiply((w===d?-1:1)*o(N)).rotate(b).add(p),s=(new C).translate(n).rotate(b).scale(P,E),r=s._inverseTransform(u),i=r.getDirectedAngle(s._inverseTransform(h)),!d&&i>0?i-=360:d&&i<0&&(i+=360)}if(e){var z=new S(u.add(e).divide(2),e.subtract(u).rotate(90),!0),R=new S(e.add(h).divide(2),h.subtract(e).rotate(90),!0),j=new S(u,h),D=j.getSide(e);if(!(n=z.intersect(R,!0))){if(!D)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}r=u.subtract(n),i=r.getDirectedAngle(h.subtract(n));var F=j.getSide(n);0===F?i=D*a(i):D===F&&(i+=i<0?360:-360)}for(var B=a(i),V=B>=360?4:Math.ceil((B-1e-7)/90),U=i/V,q=U*Math.PI/360,H=4/3*Math.sin(q)/(1+Math.cos(q)),W=[],$=0;$<=V;$++){var x=h,Z=null;if($<V&&(Z=r.rotate(90).multiply(H),s?(x=s._transformPoint(r),Z=s._transformPoint(r.add(Z)).subtract(x)):x=n.add(r)),$){var G=r.rotate(-90).multiply(H);s&&(G=s._transformPoint(r.add(G)).subtract(x)),W.push(new L(x,G,Z))}else l.setHandleOut(Z);r=r.rotate(U)}this._add(W)},lineBy:function(){var e=m.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=m.read(arguments),n=m.read(arguments),i=c.read(arguments),r=t(this)._point;this.curveTo(r.add(e),r.add(n),i)},cubicCurveBy:function(){var e=m.read(arguments),n=m.read(arguments),i=m.read(arguments),r=t(this)._point;this.cubicCurveTo(r.add(e),r.add(n),r.add(i))},quadraticCurveBy:function(){var e=m.read(arguments),n=m.read(arguments),i=t(this)._point;this.quadraticCurveTo(i.add(e),i.add(n))},arcBy:function(){var e=t(this)._point,n=e.add(m.read(arguments)),i=c.pick(c.peek(arguments),!0);"boolean"===typeof i?this.arcTo(n,i):this.arcTo(n,e.add(m.read(arguments)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return F[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,i,r,s){function a(t){t._transformCoordinates(i,l);for(var e=0;e<2;e++)R._addBounds(u[e],u[e+4],l[e+2],l[e],e,s?s[e]:0,c,h,f);var n=u;u=l,l=n}var o=t[0];if(!o)return new w;for(var l=new Array(6),u=o._transformCoordinates(i,new Array(6)),c=u.slice(0,2),h=c.slice(),f=new Array(2),d=1,p=t.length;d<p;d++)a(t[d]);return e&&a(o),new w(c[0],c[1],h[0]-c[0],h[1]-c[1])},getStrokeBounds:function(t,e,n,i,r){function s(t){p=p.include(t)}function a(t){p=p.unite(b.setCenter(t._point.transform(i)))}function o(t,e){"round"===e||t.isSmooth()?a(t):F._addBevelJoin(t,e,g,_,i,f,s)}function l(t,e){"round"===e?a(t):F._addSquareCap(t,e,g,i,f,s)}var u=n.getStyle(),c=u.hasStroke(),h=u.getStrokeWidth(),f=c&&n._getStrokeMatrix(i,r),d=c&&F._getStrokePadding(h,f),p=F.getBounds(t,e,n,i,r,d);if(!c)return p;for(var g=h/2,v=u.getStrokeJoin(),m=u.getStrokeCap(),_=u.getMiterLimit(),b=new w(new y(d)),x=t.length-(e?0:1),C=1;C<x;C++)o(t[C],v);return e?o(t[0],v):x>0&&(l(t[0],m),l(t[t.length-1],m)),p},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new m(t,0).transform(e),i=new m(0,t).transform(e),r=n.getAngleInRadians(),s=n.getLength(),a=i.getLength(),o=Math.sin(r),l=Math.cos(r),u=Math.tan(r),c=Math.atan2(a*u,s),h=Math.atan2(a,u*s);return[Math.abs(s*Math.cos(c)*l+a*Math.sin(c)*o),Math.abs(a*Math.sin(h)*l+s*Math.cos(h)*o)]},_addBevelJoin:function(t,e,n,i,r,s,a,o){var l=t.getCurve(),u=l.getPrevious(),c=l.getPoint1().transform(r),h=u.getNormalAtTime(1).multiply(n).transform(s),f=l.getNormalAtTime(0).multiply(n).transform(s);if(h.getDirectedAngle(f)<0&&(h=h.negate(),f=f.negate()),o&&a(c),a(c.add(h)),"miter"===e){var d=new S(c.add(h),new m(-h.y,h.x),!0).intersect(new S(c.add(f),new m(-f.y,f.x),!0),!0);d&&c.getDistance(d)<=i*n&&a(d)}a(c.add(f))},_addSquareCap:function(t,e,n,i,r,s,a){var o=t._point.transform(i),l=t.getLocation(),u=l.getNormal().multiply(0===l.getTime()?n:-n).transform(r);"square"===e&&(a&&(s(o.subtract(u)),s(o.add(u))),o=o.add(u.rotate(-90))),s(o.add(u)),s(o.subtract(u))},getHandleBounds:function(t,e,n,i,r){var s,a,o=n.getStyle(),l=r.stroke&&o.hasStroke();if(l){var u=n._getStrokeMatrix(i,r),c=o.getStrokeWidth()/2,h=c;"miter"===o.getStrokeJoin()&&(h=c*o.getMiterLimit()),"square"===o.getStrokeCap()&&(h=Math.max(h,c*Math.SQRT2)),s=F._getStrokePadding(c,u),a=F._getStrokePadding(h,u)}for(var f=new Array(6),d=1/0,p=-d,g=d,v=p,m=0,_=t.length;m<_;m++){t[m]._transformCoordinates(i,f);for(var y=0;y<6;y+=2){var b=y?s:a,x=b?b[0]:0,C=b?b[1]:0,S=f[y],k=f[y+1],T=S-x,P=S+x,E=k-C,O=k+C;T<d&&(d=T),P>p&&(p=P),E<g&&(g=E),O>v&&(v=O)}}return new w(d,g,p-d,v-g)}}});F.inject({statics:new function(){function t(t,e,n){var i=c.getNamed(n),r=new F(i&&0==i.insert&&T.NO_INSERT);return r._add(t),r._closed=e,r.set(i,{insert:!0})}function e(e,n,r){for(var s=new Array(4),a=0;a<4;a++){var o=i[a];s[a]=new L(o._point.multiply(n).add(e),o._handleIn.multiply(n),o._handleOut.multiply(n))}return t(s,!0,r)}var n=.5522847498307936,i=[new L([-1,0],[0,n],[0,-n]),new L([0,-1],[-n,0],[n,0]),new L([1,0],[0,-n],[0,n]),new L([0,1],[n,0],[-n,0])];return{Line:function(){return t([new L(m.readNamed(arguments,"from")),new L(m.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=m.readNamed(arguments,"center"),n=c.readNamed(arguments,"radius");return e(t,new y(n),arguments)},Rectangle:function(){var e,i=w.readNamed(arguments,"rectangle"),r=y.readNamed(arguments,"radius",0,{readNull:!0}),s=i.getBottomLeft(!0),a=i.getTopLeft(!0),o=i.getTopRight(!0),l=i.getBottomRight(!0);if(!r||r.isZero())e=[new L(s),new L(a),new L(o),new L(l)];else{r=y.min(r,i.getSize(!0).divide(2));var u=r.width,c=r.height,h=u*n,f=c*n;e=[new L(s.add(u,0),null,[-h,0]),new L(s.subtract(0,c),[0,f]),new L(a.add(0,c),null,[0,-f]),new L(a.add(u,0),[-h,0],null),new L(o.subtract(u,0),null,[h,0]),new L(o.add(0,c),[0,-f],null),new L(l.subtract(0,c),null,[0,f]),new L(l.subtract(u,0),[h,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=O._readEllipse(arguments);return e(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=m.readNamed(arguments,"from"),e=m.readNamed(arguments,"through"),n=m.readNamed(arguments,"to"),i=c.getNamed(arguments),r=new F(i&&0==i.insert&&T.NO_INSERT);return r.moveTo(t),r.arcTo(e,n),r.set(i)},RegularPolygon:function(){for(var e=m.readNamed(arguments,"center"),n=c.readNamed(arguments,"sides"),i=c.readNamed(arguments,"radius"),r=360/n,s=n%3===0,a=new m(0,s?-i:i),o=s?-1:.5,l=new Array(n),u=0;u<n;u++)l[u]=new L(e.add(a.rotate((u+o)*r)));return t(l,!0,arguments)},Star:function(){for(var e=m.readNamed(arguments,"center"),n=2*c.readNamed(arguments,"points"),i=c.readNamed(arguments,"radius1"),r=c.readNamed(arguments,"radius2"),s=360/n,a=new m(0,-1),o=new Array(n),l=0;l<n;l++)o[l]=new L(e.add(a.rotate(s*l).multiply(l%2?r:i)));return t(o,!0,arguments)}}}});var B=D.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"===typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,n){var i=n,r=i[0];r&&"number"===typeof r[0]&&(i=[i]);for(var s=n.length-1;s>=0;s--){var a=i[s];i!==n||a instanceof F||(i=c.slice(i)),Array.isArray(a)?i[s]=new F({segments:a,insert:!1}):a instanceof B&&(i.splice.apply(i,[s,1].concat(a.removeChildren())),a.remove())}return t.base.call(this,e,i)},reduce:function t(e){for(var n=this._children,i=n.length-1;i>=0;i--){var r=n[i].reduce(e);r.isEmpty()&&r.remove()}if(!n.length){var r=new F(T.NO_INSERT);return r.copyAttributes(this),r.insertAbove(this),this.remove(),r}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,i=t.length;n<i;n++)e.push.apply(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,i=[],r=0,s=n.length;r<s;r++){var a=n[r],o=a._matrix;i.push(a.getPathData(t&&!o.isIdentity()?t.appended(o):t,e))}return i.join("")},_hitTestChildren:function t(e,n,i){return t.base.call(this,e,n.class===F||"path"===n.type?n:c.set({},n,{fill:!1}),i)},_draw:function(t,e,n,i){var r=this._children;if(r.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var s=0,a=r.length;s<a;s++)r[s].draw(t,e,i);if(!e.clip){this._setStyles(t,e,n);var o=this._style;o.hasFill()&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var i=this._children,r=0,s=i.length;r<s;r++){var a=i[r],o=a._matrix;n[a._id]||a._drawSelected(t,o.isIdentity()?e:e.appended(o))}}},new function(){function t(t,e){var n=t._children;if(e&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return c.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}},{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new F(T.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),i=m.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(e){t(this,!0).closePath(e)}})},c.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var n,i=this._children,r=0,s=i.length;r<s;r++)n=i[r][t](e)||n;return n}},{}));D.inject(new function(){function t(t,e){var n=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0):n}function e(t,e,n,i,r){var s=new B(T.NO_INSERT);return s.addChildren(t,!0),s=s.reduce({simplify:e}),r&&0==r.insert||s.insertAbove(i&&n.isSibling(i)&&n.getIndex()<i.getIndex()?i:n),s.copyAttributes(n,!0),s}function n(n,r,s,o){function u(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];b.push.apply(b,i._segments),w.push.apply(w,i.getCurves()),i._overlapsOnly=!0}}if(o&&(0==o.trace||o.stroke)&&/^(subtract|intersect)$/.test(s))return i(n,r,s);var c=t(n,!0),d=r&&n!==r&&t(r,!0),p=m[s];p[s]=!0,d&&(p.subtract||p.exclude)^d.isClockwise()^c.isClockwise()&&d.reverse();var g,v=l(j.expand(c.getCrossings(d))),_=c._children||[c],y=d&&(d._children||[d]),b=[],w=[];if(v.length){u(_),y&&u(y);for(var x=0,C=v.length;x<C;x++)h(v[x]._segment,c,d,w,p);for(var x=0,C=b.length;x<C;x++){var S=b[x],k=S._intersection;S._winding||h(S,c,d,w,p),k&&k._overlap||(S._path._overlapsOnly=!1)}g=f(b,p)}else g=a(y?_.concat(y):_.slice(),function(t){return!!p[t]});return e(g,!0,n,r,o)}function i(n,i,r){function s(t){if(!h[t._id]&&(c||o.contains(t.getPointAt(t.getLength()/2))^u))return f.unshift(t),h[t._id]=!0}for(var a=t(n),o=t(i),l=a.getCrossings(o),u="subtract"===r,c="divide"===r,h={},f=[],d=l.length-1;d>=0;d--){var p=l[d].split();p&&(s(p)&&p.getFirstSegment().setHandleIn(0,0),a.getLastSegment().setHandleOut(0,0))}return s(a),e(f,!1,n,i)}function r(t,e){for(var n=t;n;){if(n===e)return;n=n._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function s(t){for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function a(t,e,n){var i=t&&t.length;if(i){var r=c.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),s=t.slice().sort(function(t,e){return v(e.getArea())-v(t.getArea())}),a=s[0];null==n&&(n=a.isClockwise());for(var o=0;o<i;o++){for(var l=s[o],u=r[l._id],h=l.getInteriorPoint(),f=0,d=o-1;d>=0;d--){var p=s[d];if(p.contains(h)){var g=r[p._id];f=g.winding,u.winding+=f,u.container=g.exclude?g.container:p;break}}if(e(u.winding)===e(f))u.exclude=!0,t[u.index]=null;else{var m=u.container;l.setClockwise(m?!m.isClockwise():n)}}}return t}function l(t,e,n){function i(t){return t._path._id+"."+t._segment1._index}for(var a,o,l,u=e&&[],c=!1,h=n||[],f=n&&{},d=(n&&n.length)-1;d>=0;d--){var p=n[d];p._path&&(f[i(p)]=!0)}for(var d=t.length-1;d>=0;d--){var g,v=t[d],m=v._time,_=m,y=e&&!e(v),p=v._curve;if(p&&(p!==o?(c=!p.hasHandles()||f&&f[i(p)],a=[],l=null,o=p):l>=1e-8&&(m/=l)),y)a&&a.push(v);else{if(e&&u.unshift(v),l=_,m<1e-8)g=p._segment1;else if(m>1-1e-8)g=p._segment2;else{var b=p.divideAtTime(m,!0);c&&h.push(p,b),g=b._segment1;for(var w=a.length-1;w>=0;w--){var x=a[w];x._time=(x._time-m)/(1-m)}}v._setSegment(g);var C=g._intersection,S=v._intersection;if(C){r(C,S);for(var k=C;k;)r(k._intersection,C),k=k._next}else g._intersection=S}}return n||s(h),u||t}function u(t,e,n,i,r){function s(s){var a=s[h+0],l=s[h+6];if(!(m<d(a,l)||m>p(a,l))){var f=s[c+0],v=s[c+2],w=s[c+4],x=s[c+6];if(a===l)return void((f<b&&x>y||x<b&&f>y)&&(k=!0));var T=m===a?0:m===l?1:y>p(f,v,w,x)||b<d(f,v,w,x)?1:R.solveCubic(s,h,m,E,0,1)>0?E[0]:1,O=0===T?f:1===T?x:R.getPoint(s,T)[n?"y":"x"],I=a>l?1:-1,A=o[h]>o[h+6]?1:-1,M=o[c+6];return m!==a?(O<y?C+=I:O>b?S+=I:k=!0,O>g-_&&O<g+_&&(P/=2)):(I!==A?f<y?C+=I:f>b&&(S+=I):f!=M&&(M<b&&O>b?(S+=I,k=!0):M>y&&O<y&&(C+=I,k=!0)),P=0),o=s,!r&&O>y&&O<b&&0===R.getTangent(s,T)[n?"x":"y"]&&u(t,e,!n,i,!0)}}function a(t){var e=t[h+0],i=t[h+2],r=t[h+4],a=t[h+6];if(m<=p(e,i,r,a)&&m>=d(e,i,r,a))for(var o,l=t[c+0],u=t[c+2],f=t[c+4],g=t[c+6],v=y>p(l,u,f,g)||b<d(l,u,f,g)?[t]:R.getMonoCurves(t,n),_=0,w=v.length;_<w;_++)if(o=s(v[_]))return o}for(var o,l,c=n?1:0,h=1^c,f=[t.x,t.y],g=f[c],m=f[h],_=1e-6,y=g-1e-9,b=g+1e-9,w=0,x=0,C=0,S=0,k=!1,T=!1,P=1,E=[],O=0,I=e.length;O<I;O++){var A,M=e[O],N=M._path,L=M.getValues();if((!O||e[O-1]._path!==N)&&(o=null,N._closed||(l=R.getValues(N.getLastCurve().getSegment2(),M.getSegment1(),null,!i),l[h]!==l[h+6]&&(o=l)),!o)){o=L;for(var z=N.getLastCurve();z&&z!==M;){var j=z.getValues();if(j[h]!==j[h+6]){o=j;break}z=z.getPrevious()}}if(A=a(L))return A;if(O+1===I||e[O+1]._path!==N){if(l&&(A=a(l)))return A;!k||C||S||(C=S=N.isClockwise(i)^n?1:-1),w+=C,x+=S,C=S=0,k&&(T=!0,k=!1),l=null}}return w=v(w),x=v(x),{winding:p(w,x),windingL:w,windingR:x,quality:P,onPath:T}}function h(t,e,n,i,r){var s,a=[],o=t,l=0;do{var c=t.getCurve(),h=c.getLength();a.push({segment:t,curve:c,length:h}),l+=h,t=t.getNext()}while(t&&!t._intersection&&t!==o);for(var f=[.5,.25,.75],s={winding:0,quality:-1},d=0;d<f.length&&s.quality<.5;d++)for(var h=l*f[d],p=0,m=a.length;p<m;p++){var _=a[p],y=_.length;if(h<=y){var c=_.curve,b=c._path,w=b._parent,x=w instanceof B?w:b,C=g.clamp(c.getTimeAt(h),1e-8,1-1e-8),S=c.getPointAtTime(C),k=v(c.getTangentAtTime(C).y)<Math.SQRT1_2,T=r.subtract&&n&&(x===e&&n._getWinding(S,k,!0).winding||x===n&&!e._getWinding(S,k,!0).winding)?{winding:0,quality:1}:u(S,i,k,!0);T.quality>s.quality&&(s=T);break}h-=y}for(var p=a.length-1;p>=0;p--)a[p].segment._winding=s}function f(t,e){function n(t){var n;return!(!t||t._visited||e&&(!e[(n=t._winding||{}).winding]||e.unite&&2===n.winding&&n.windingL&&n.windingR))}function i(t){if(t)for(var e=0,n=s.length;e<n;e++)if(t===s[e])return!0;return!1}function r(t){for(var e=t._segments,n=0,i=e.length;n<i;n++)e[n]._visited=!0}var s,a=[];t.sort(function(t,e){var n=t._intersection,i=e._intersection,r=!(!n||!n._overlap),s=!(!i||!i._overlap),a=t._path,o=e._path;return r^s?r?1:-1:!n^!i?n?1:-1:a!==o?a._id-o._id:t._index-e._index});for(var o=0,l=t.length;o<l;o++){var u,c,h,f=t[o],d=n(f),p=null,g=!1,v=!0,m=[];if(d&&f._path._overlapsOnly){var _=f._path,y=f._intersection._segment._path;_.compare(y)&&(_.getArea()&&a.push(_.clone(!1)),r(_),r(y),d=!1)}for(;d;){var b=!p,w=function(t,e){function r(r,a){for(;r&&r!==a;){var o=r._segment,u=o&&o._path;if(u){var c=o.getNext()||u.getFirstSegment(),h=c._intersection;o!==t&&(i(o)||i(c)||c&&n(o)&&(n(c)||h&&n(h._segment)))&&l.push(o),e&&s.push(o)}r=r._next}}var a=t._intersection,o=a,l=[];if(e&&(s=[t]),a){for(r(a);a&&a._prev;)a=a._prev;r(a,o)}return l}(f,b),x=w.shift(),g=!b&&(i(f)||i(x)),C=!g&&x;if(b&&(p=new F(T.NO_INSERT),u=null),g){(f.isFirst()||f.isLast())&&(v=f._path._closed),f._visited=!0;break}if(C&&u&&(m.push(u),u=null),u||(C&&w.push(f),u={start:p._segments.length,crossings:w,visited:c=[],handleIn:h}),C&&(f=x),!n(f)){p.removeSegments(u.start);for(var S=0,k=c.length;S<k;S++)c[S]._visited=!1;c.length=0;do{(f=u&&u.crossings.shift())&&f._path||(f=null,(u=m.pop())&&(c=u.visited,h=u.handleIn))}while(u&&!n(f));if(!f)break}var P=f.getNext();p.add(new L(f._point,h,P&&f._handleOut)),f._visited=!0,c.push(f),f=P||f._path.getFirstSegment(),h=P&&P._handleIn}g&&(v&&(p.getFirstSegment().setHandleIn(h),p.setClosed(v)),0!==p.getArea()&&a.push(p))}return a}var d=Math.min,p=Math.max,v=Math.abs,m={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};return{_getWinding:function(t,e,n){return u(t,this.getCurves(),e,n)},unite:function(t,e){return n(this,t,"unite",e)},intersect:function(t,e){return n(this,t,"intersect",e)},subtract:function(t,e){return n(this,t,"subtract",e)},exclude:function(t,e){return n(this,t,"exclude",e)},divide:function(t,n){return n&&(0==n.trace||n.stroke)?i(this,t,"divide"):e([this.subtract(t,n),this.intersect(t,n)],!0,this,t,n)},resolveCrossings:function(){function t(t,e){var n=t&&t._intersection;return n&&n._overlap&&n._path===e}var e=this._children,n=e||[this],i=!1,r=!1,a=this.getIntersections(null,function(t){return t.hasOverlap()&&(i=!0)||t.isCrossing()&&(r=!0)}),o=i&&r&&[];if(a=j.expand(a),i)for(var u=l(a,function(t){return t.hasOverlap()},o),h=u.length-1;h>=0;h--){var d=u[h],p=d._path,g=d._segment,v=g.getPrevious(),m=g.getNext();t(v,p)&&t(m,p)&&(g.remove(),v._handleOut._set(0,0),m._handleIn._set(0,0),v===g||v.getCurve().hasLength()||(m._handleIn.set(v._handleIn),v.remove()))}r&&(l(a,i&&function(t){var e=t.getCurve(),n=t.getSegment(),i=t._intersection,r=i._curve,s=i._segment;if(e&&r&&e._path&&r._path)return!0;n&&(n._intersection=null),s&&(s._intersection=null)},o),o&&s(o),n=f(c.each(n,function(t){this.push.apply(this,t._segments)},[])));var _,y=n.length;return y>1&&e?(n!==e&&this.setChildren(n),_=this):1!==y||e||(n[0]!==this&&this.setSegments(n[0].removeSegments()),_=this),_||(_=new B(T.NO_INSERT),_.addChildren(n),_=_.reduce(),_.copyAttributes(this),this.replaceWith(_)),_},reorient:function(t,e){var n=this._children;return n&&n.length?this.setChildren(a(this.removeChildren(),function(e){return!!(t?e:1&e)},e)):e!==o&&this.setClockwise(e),this},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){for(var n=this.getCurves(),i=e.y,r=[],s=[],a=0,o=n.length;a<o;a++){var l=n[a].getValues(),u=l[1],c=l[3],h=l[5],f=l[7];if(i>=d(u,c,h,f)&&i<=p(u,c,h,f))for(var g=R.getMonoCurves(l),v=0,m=g.length;v<m;v++){var _=g[v],y=_[1],b=_[7];if(y!==b&&(i>=y&&i<=b||i>=b&&i<=y)){var w=i===y?_[0]:i===b?_[6]:1===R.solveCubic(_,1,i,s,0,1)?R.getPoint(_,s[0]).x:(_[0]+_[6])/2;r.push(w)}}}r.length>1&&(r.sort(function(t,e){return t-e}),e.x=(r[0]+r[1])/2)}return e}}});var V=c.extend({_class:"PathFlattener",initialize:function(t,e,n,i,r){function s(t,e){var n=R.getValues(t,e,r);l.push(n),a(n,t._index,0,1)}function a(t,n,r,s){if(!(s-r>h)||i&&R.isStraight(t)||R.isFlatEnough(t,e||.25)){var o=t[6]-t[0],l=t[7]-t[1],f=Math.sqrt(o*o+l*l);f>0&&(c+=f,u.push({offset:c,curve:t,index:n,time:s}))}else{var d=R.subdivide(t,.5),p=(r+s)/2;a(d[0],n,r,p),a(d[1],n,p,s)}}for(var o,l=[],u=[],c=0,h=1/(n||32),f=t._segments,d=f[0],p=1,g=f.length;p<g;p++)o=f[p],s(d,o),d=o;t._closed&&s(o,f[0]),this.curves=l,this.parts=u,this.length=c,this.index=0},_get:function(t){for(var e,n=this.parts,i=n.length,r=this.index;e=r,r&&!(n[--r].offset<t););for(;e<i;e++){var s=n[e];if(s.offset>=t){this.index=e;var a=n[e-1],o=a&&a.index===s.index?a.time:0,l=a?a.offset:0;return{index:s.index,time:o+(s.time-o)*(t-l)/(s.offset-l)}}}return{index:n[i-1].index,time:1}},drawPart:function(t,e,n){for(var i=this._get(e),r=this._get(n),s=i.index,a=r.index;s<=a;s++){var o=R.getPart(this.curves[s],s===i.index?i.time:0,s===r.index?r.time:1);s===i.index&&t.moveTo(o[0],o[1]),t.bezierCurveTo.apply(t,o.slice(2))}}},c.each(R._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this._get(e);return R[t](this.curves[n.index],n.time)}},{})),U=c.extend({initialize:function(t){for(var e,n=this.points=[],i=t._segments,r=t._closed,s=0,a=i.length;s<a;s++){var o=i[s].point;e&&e.equals(o)||n.push(e=o.clone())}r&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=r},fit:function(t){var e=this.points,n=e.length,i=null;return n>0&&(i=[new L(e[0])],n>1&&(this.fitCubic(i,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(t,e,n,i,r,s){var a=this.points;if(i-n===1){var o=a[n],l=a[i],u=o.getDistance(l)/3;return void this.addCurve(t,[o,o.add(r.normalize(u)),l.add(s.normalize(u)),l])}for(var c,h=this.chordLengthParameterize(n,i),f=Math.max(e,e*e),d=!0,p=0;p<=4;p++){var g=this.generateBezier(n,i,h,r,s),v=this.findMaxError(n,i,g,h);if(v.error<e&&d)return void this.addCurve(t,g);if(c=v.index,v.error>=f)break;d=this.reparameterize(n,i,h,g),f=v.error}var m=a[c-1].subtract(a[c+1]);this.fitCubic(t,e,n,c,r,m),this.fitCubic(t,e,c,i,m.negate(),s)},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new L(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,i,r){for(var s=Math.abs,a=this.points,o=a[t],l=a[e],u=[[0,0],[0,0]],c=[0,0],h=0,f=e-t+1;h<f;h++){var d=n[h],p=1-d,g=3*d*p,v=p*p*p,m=g*p,_=g*d,y=d*d*d,b=i.normalize(m),w=r.normalize(_),x=a[t+h].subtract(o.multiply(v+m)).subtract(l.multiply(_+y));u[0][0]+=b.dot(b),u[0][1]+=b.dot(w),u[1][0]=u[0][1],u[1][1]+=w.dot(w),c[0]+=b.dot(x),c[1]+=w.dot(x)}var C,S,k=u[0][0]*u[1][1]-u[1][0]*u[0][1];if(s(k)>1e-12){var T=u[0][0]*c[1]-u[1][0]*c[0];C=(c[0]*u[1][1]-c[1]*u[0][1])/k,S=T/k}else{var P=u[0][0]+u[0][1],E=u[1][0]+u[1][1];C=S=s(P)>1e-12?c[0]/P:s(E)>1e-12?c[1]/E:0}var O,I,A=l.getDistance(o),M=1e-12*A;if(C<M||S<M)C=S=A/3;else{var N=l.subtract(o);O=i.normalize(C),I=r.normalize(S),O.dot(N)-I.dot(N)>A*A&&(C=S=A/3,O=I=null)}return[o,o.add(O||i.normalize(C)),l.add(I||r.normalize(S)),l]},reparameterize:function(t,e,n,i){for(var r=t;r<=e;r++)n[r-t]=this.findRoot(i,this.points[r],n[r-t]);for(var r=1,s=n.length;r<s;r++)if(n[r]<=n[r-1])return!1;return!0},findRoot:function(t,e,n){for(var i=[],r=[],s=0;s<=2;s++)i[s]=t[s+1].subtract(t[s]).multiply(3);for(var s=0;s<=1;s++)r[s]=i[s+1].subtract(i[s]).multiply(2);var a=this.evaluate(3,t,n),o=this.evaluate(2,i,n),l=this.evaluate(1,r,n),u=a.subtract(e),c=o.dot(o)+u.dot(l);return g.isZero(c)?n:n-u.dot(o)/c},evaluate:function(t,e,n){for(var i=e.slice(),r=1;r<=t;r++)for(var s=0;s<=t-r;s++)i[s]=i[s].multiply(1-n).add(i[s+1].multiply(n));return i[0]},chordLengthParameterize:function(t,e){for(var n=[0],i=t+1;i<=e;i++)n[i-t]=n[i-t-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,r=e-t;i<=r;i++)n[i]/=n[r];return n},findMaxError:function(t,e,n,i){for(var r=Math.floor((e-t+1)/2),s=0,a=t+1;a<e;a++){var o=this.evaluate(3,n,i[a-t]),l=o.subtract(this.points[a]),u=l.x*l.x+l.y*l.y;u>=s&&(s=u,r=a)}return{error:s,index:r}}}),q=T.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&c.isPlainObject(t)&&t.x===o&&t.y===o;this._initialize(e&&t,!e&&m.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),H=q.extend({_class:"PointText",initialize:function(){q.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new _(t.x,t.y,this,"setPoint")},setPoint:function(){var t=m.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var i=this._lines,r=this._style,s=r.hasFill(),a=r.hasStroke(),o=r.getLeading(),l=t.shadowColor;t.font=r.getFontStyle(),t.textAlign=r.getJustification();for(var u=0,c=i.length;u<c;u++){t.shadowColor=l;var h=i[u];s&&(t.fillText(h,0,0),t.shadowColor="rgba(0,0,0,0)"),a&&t.strokeText(h,0,0),t.translate(0,o)}}},_getBounds:function(t,e){var n=this._style,i=this._lines,r=i.length,s=n.getJustification(),a=n.getLeading(),o=this.getView().getTextWidth(n.getFontStyle(),i),l=0;"left"!==s&&(l-=o/("center"===s?2:1));var u=new w(l,r?-.75*a:0,o,r*a);return t?t._transformBounds(u,u):u}}),W=c.extend(new function(){function t(t){var n,i=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(i){n=[0,0,0];for(var s=0;s<3;s++){var a=i[s+1];n[s]=parseInt(1==a.length?a+a:a,16)/255}}else if(i=t.match(/^rgba?\((.*)\)$/)){n=i[1].split(",");for(var s=0,o=n.length;s<o;s++){var a=+n[s];n[s]=s<3?a/255:a}}else if(l){var u=r[t];if(!u){e||(e=st.getContext(1,1),e.globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var c=e.getImageData(0,0,1,1).data;u=r[t]=[c[0]/255,c[1]/255,c[2]/255]}n=u.slice()}else n=[0,0,0];return n}var e,n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},r={},s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],a={"rgb-hsb":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r;return[0===s?0:60*(i==t?(e-n)/s+(e<n?6:0):i==e?(n-t)/s+2:(t-e)/s+4),0===i?0:s/i,i]},"hsb-rgb":function(t,e,n){t=(t/60%6+6)%6;var i=Math.floor(t),r=t-i,i=s[i],a=[n,n*(1-e),n*(1-e*r),n*(1-e*(1-r))];return[a[i[0]],a[i[1]],a[i[2]]]},"rgb-hsl":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,a=0===s,o=a?0:60*(i==t?(e-n)/s+(e<n?6:0):i==e?(n-t)/s+2:(t-e)/s+4),l=(i+r)/2;return[o,a?0:l<.5?s/(i+r):s/(2-i-r),l]},"hsl-rgb":function(t,e,n){if(t=(t/360%1+1)%1,0===e)return[n,n,n];for(var i=[t+1/3,t,t-1/3],r=n<.5?n*(1+e):n+e-n*e,s=2*n-r,a=[],o=0;o<3;o++){var l=i[o];l<0&&(l+=1),l>1&&(l-=1),a[o]=6*l<1?s+6*(r-s)*l:2*l<1?r:3*l<2?s+(r-s)*(2/3-l)*6:s}return a},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return c.each(n,function(t,e){i[e]=[],c.each(t,function(t,r){var s=c.capitalize(t),a=/^(hue|saturation)$/.test(t),o=i[e][r]="gradient"===t?function(t){var e=this._components[0];return t=$.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===e?function(){return m.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+s]=function(){return this._type===e||a&&/^hs[bl]$/.test(this._type)?this._components[r]:this._convert(e)[r]},this["set"+s]=function(t){this._type===e||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(e),this._properties=n[e],this._type=e),this._components[r]=o.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function e(r){var s,a,o,l,u=arguments,h=this.__read,f=0;Array.isArray(r)&&(u=r,r=u[0]);var d=null!=r&&typeof r;if("string"===d&&r in n&&(s=r,r=u[1],Array.isArray(r)?(a=r,o=u[2]):(h&&(f=1),u=c.slice(u,1),d=typeof r)),!a){if(l="number"===d?u:"object"===d&&null!=r.length?r:null){s||(s=l.length>=3?"rgb":"gray");var p=n[s].length;o=l[p],h&&(f+=l===arguments?p+(null!=o?1:0):1),l.length>p&&(l=c.slice(l,0,p))}else if("string"===d)s="rgb",a=t(r),4===a.length&&(o=a[3],a.length--);else if("object"===d)if(r.constructor===e){if(s=r._type,a=r._components.slice(),o=r._alpha,"gradient"===s)for(var g=1,v=a.length;g<v;g++){var m=a[g];m&&(a[g]=m.clone())}}else if(r.constructor===$)s="gradient",l=u;else{s="hue"in r?"lightness"in r?"hsl":"hsb":"gradient"in r||"stops"in r||"radial"in r?"gradient":"gray"in r?"gray":"rgb";var _=n[s],y=i[s];this._components=a=[];for(var g=0,v=_.length;g<v;g++){var b=r[_[g]];null==b&&!g&&"gradient"===s&&"stops"in r&&(b={stops:r.stops,radial:r.radial}),b=y[g].call(this,b),null!=b&&(a[g]=b)}o=r.alpha}h&&s&&(f=1)}if(this._type=s||"rgb",!a){this._components=a=[];for(var y=i[this._type],g=0,v=y.length;g<v;g++){var b=y[g].call(this,l&&l[g]);null!=b&&(a[g]=b)}}return this._components=a,this._properties=n[this._type],this._alpha=o,h&&(this.__read=f),this},set:"#initialize",_serialize:function(t,e){var n=this.getComponents();return c.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=a[this._type+"-"+t])?e.apply(this,this._components):a["rgb-"+t].apply(this,a[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new W(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=n[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=c.isPlainValue(t,!0)?W.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&c.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,i=p.instance,r=0,s=t.length;r<s;r++){var a=this._components[r];null!=a&&e.push(t[r]+": "+(n?a:i.number(a)))}return null!=this._alpha&&e.push("alpha: "+i.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(t<0?0:t>1?1:t))}var n=this._convert("rgb"),i=t||null==this._alpha?1:this._alpha;return n=[e(n[0]),e(n[1]),e(n[2])],i<1&&n.push(i<0?0:i),t?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,i=this._components,r=i[0],s=r._stops,a=i[1],o=i[2],l=i[3],u=e&&e.inverted();if(u&&(a=u._transformPoint(a),o=u._transformPoint(o),l&&(l=u._transformPoint(l))),r._radial){var c=o.getDistance(a);if(l){var h=l.subtract(a);h.getLength()>c&&(l=a.add(h.normalize(c-.1)))}var f=l||a;n=t.createRadialGradient(f.x,f.y,0,a.x,a.y,c)}else n=t.createLinearGradient(a.x,a.y,o.x,o.y);for(var d=0,p=s.length;d<p;d++){var g=s[d],v=g._offset;n.addColorStop(null==v?d/(p-1):v,g._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,i=e.length;n<i;n++){var r=e[n];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:n,random:function(){var t=Math.random;return new W(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return c.each(t,function(t,e){this[e]=function(e){e=W.read(arguments);for(var n=this._type,i=this._components,r=e._convert(n),s=0,a=i.length;s<a;s++)r[s]=t(i[s],r[s]);return new W(n,r,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),$=c.extend({_class:"Gradient",initialize:function(t,e){this._id=v.get(),t&&c.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"===typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return c.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;-1!=e&&(this._owners.splice(e,1),this._owners.length||(this._owners=o))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new $(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,i=e.length;n<i;n++)e[n]._owner=o;e=this._stops=Z.readList(t,0,{clone:!0});for(var n=0,i=e.length;n<i;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,i=e.length;if(i===n.length){for(var r=0;r<i;r++)if(!e[r].equals(n[r]))return!1;return!0}}return!1}}),Z=c.extend({_class:"GradientStop",initialize:function(t,e){var n=t,i=e;"object"===typeof t&&e===o&&(Array.isArray(t)&&"number"!==typeof t[0]?(n=t[0],i=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,i=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(i)},clone:function(){return new Z(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,i=this._offset;return c.serialize(null==i?[n]:[n,i],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var t=W.read(arguments,0,{clone:!0});t&&(t._owner=this),this._color=t,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),G=c.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new m,selectedColor:null},e=c.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=c.set({},e,{fillColor:new W}),i={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},r={beans:!0},a={_class:"Style",beans:!0,initialize:function(i,r,a){this._values={},this._owner=r,this._project=r&&r._project||a||s.project,this._defaults=!r||r instanceof P?e:r instanceof q?n:t,i&&this.set(i)}};return c.each(e,function(t,e){var n=/Color$/.test(e),s="shadowOffset"===e,l=c.capitalize(e),u=i[e],h="set"+l,f="get"+l;a[h]=function(t){var i=this._owner,r=i&&i._children;if(r&&r.length>0&&!(i instanceof B))for(var s=0,a=r.length;s<a;s++)r[s]._style[h](t);else if(e in this._defaults){var l=this._values[e];l!==t&&(n&&(l&&l._owner!==o&&(l._owner=o),t&&t.constructor===W&&(t._owner&&(t=t.clone()),t._owner=i)),this._values[e]=t,i&&i._changed(u||65))}},a[f]=function(t){var i,r=this._owner,a=r&&r._children;if(e in this._defaults&&(!a||!a.length||t||r instanceof B)){var i=this._values[e];if(i===o)(i=this._defaults[e])&&i.clone&&(i=i.clone());else{var l=n?W:s?m:null;!l||i&&i.constructor===l||(this._values[e]=i=l.read([i],0,{readNull:!0,clone:!0}),i&&n&&(i._owner=r))}}else if(a)for(var u=0,h=a.length;u<h;u++){var d=a[u]._style[f]();if(u){if(!c.equals(i,d))return o}else i=d}return i},r[f]=function(t){return this._style[f](t)},r[h]=function(t){this._style[h](t)}}),c.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var n="get"+e,i="set"+e;a[n]=r[n]="#get"+t,a[i]=r[i]="#set"+t}),T.inject(r),a},{set:function(t){var e=t instanceof G,n=e?t._values:t;if(n)for(var i in n)if(i in this._defaults){var r=n[i];this[i]=r&&e&&r.clone?r.clone():r}},equals:function(t){function e(t,e,n){var i=t._values,r=e._values,s=e._defaults;for(var a in i){var l=i[a],u=r[a];if(!(n&&a in r)&&!c.equals(l,u===o?s[a]:u))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=e?e:1.2*n}}),K=new function(){function t(t,e,n,i){for(var r=["","webkit","moz","Moz","ms","o"],s=e[0].toUpperCase()+e.substring(1),a=0;a<6;a++){var o=r[a],l=o?o+s:e;if(l in t){if(!n)return t[l];t[l]=i;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,e){var n,i=t.ownerDocument,r=i.body,s=i.documentElement;try{n=t.getBoundingClientRect()}catch(t){n={left:0,top:0,width:0,height:0}}var a=n.left-(s.clientLeft||r.clientLeft||0),o=n.top-(s.clientTop||r.clientTop||0);if(!e){var l=i.defaultView;a+=l.pageXOffset||s.scrollLeft||r.scrollLeft,o+=l.pageYOffset||s.scrollTop||r.scrollTop}return new w(a,o,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,i=e.documentElement;return new w(0,0,n.innerWidth||i.clientWidth,n.innerHeight||i.clientHeight)},getOffset:function(t,e){return K.getBounds(t,e).getPoint()},getSize:function(t){return K.getBounds(t,!0).getSize()},isInvisible:function(t){return K.getSize(t).equals(new y(0,0))},isInView:function(t){return!K.isInvisible(t)&&K.getViewportBounds(t).intersects(K.getBounds(t,!0))},isInserted:function(t){return u.body.contains(t)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,i){if("object"===typeof n)for(var r in n)t(e,r,!0,n[r]);else t(e,n,!0,i)}}},Y={add:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),s=0,a=r.length;s<a;s++)t.addEventListener(r[s],i,!1)},remove:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),s=0,a=r.length;s<a;s++)t.removeEventListener(r[s],i,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new m(e.pageX||e.clientX+u.documentElement.scrollLeft,e.pageY||e.clientY+u.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return Y.getPoint(t).subtract(K.getOffset(e||Y.getTarget(t)))}};Y.requestAnimationFrame=new function(){function t(){var e=r;r=[];for(var s=0,a=e.length;s<a;s++)e[s]();(i=n&&r.length)&&n(t)}var e,n=K.getPrefixed(l,"requestAnimationFrame"),i=!1,r=[];return function(s){r.push(s),n?i||(n(t),i=!0):e||(e=setInterval(t,1e3/60))}};var X=c.extend(h,{_class:"View",initialize:function t(e,n){function i(t){return n[t]||parseInt(n.getAttribute(t),10)}function r(){var t=K.getSize(n);return t.isNaN()||t.isZero()?new y(i("width"),i("height")):t}var a;if(l&&n){this._id=n.getAttribute("id"),null==this._id&&n.setAttribute("id",this._id="view-"+t._id++),Y.add(n,this._viewEvents);if(K.setPrefixed(n.style,{userDrag:"none",userSelect:"none",touchCallout:"none",contentZooming:"none",tapHighlightColor:"rgba(0,0,0,0)"}),f.hasAttribute(n,"resize")){var o=this;Y.add(l,this._windowEvents={resize:function(){o.setViewSize(r())}})}if(a=r(),f.hasAttribute(n,"stats")&&"undefined"!==typeof Stats){this._stats=new Stats;var c=this._stats.domElement,h=c.style,d=K.getOffset(n);h.position="absolute",h.left=d.x+"px",h.top=d.y+"px",u.body.appendChild(c)}}else a=new y(n),n=null;this._project=e,this._scope=e._scope,this._element=n,this._pixelRatio||(this._pixelRatio=l&&l.devicePixelRatio||1),this._setElementSize(a.width,a.height),this._viewSize=a,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new C)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!s.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;X._focused===this&&(X._focused=null),X._views.splice(X._views.indexOf(this),1),delete X._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),Y.remove(this._element,this._viewEvents),Y.remove(l,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:c.each(T._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;Y.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;K.getPrefixed(u,"hidden")&&"true"!==f.getAttribute(e,"keepalive")||!K.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){s=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new c({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new c(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=o},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new b(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=y.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new w(new m,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return K.isInView(this._element)},isInserted:function(){return K.isInserted(this._element)},getPixelSize:function(t){var e,n=this._element;if(n){var i=n.parentNode,r=u.createElement("div");r.style.fontSize=t,i.appendChild(r),e=parseFloat(K.getStyles(r).fontSize),i.removeChild(r)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},c.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?c:m).read(arguments),i=m.read(arguments,0,{readNull:!0});return this.transform((new C)[t](n,i||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new C;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=m.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose(),e=t&&t.scaling;return e?(e.x+e.y)/2:0},setZoom:function(t){this.transform((new C).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){var t=this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return e?new _(e.x,e.y,this,"setScaling"):o},setScaling:function(){var t=this.getScaling(),e=m.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(m.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(m.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(m.read(arguments))},getEventPoint:function(t){return this.viewToProject(Y.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return u&&"string"===typeof e&&(e=u.getElementById(e)),new(l?Q:X)(t,e)}}},new function(){function t(t){var e=Y.getTarget(t);return e.getAttribute&&X._viewsById[e.getAttribute("id")]}function e(){var t=X._focused;if(!t||!t.isVisible())for(var e=0,n=X._views.length;e<n;e++)if((t=X._views[e]).isVisible()){X._focused=o=t;break}}function n(t,e,n){t._handleMouseEvent("mousemove",e,n)}function i(t,e,n,i,r,s,a){function o(t,n){if(t.responds(n)){if(l||(l=new nt(n,i,r,e||t,s?r.subtract(s):null)),t.emit(n,l)&&(P=!0,l.prevented&&(E=!0),l.stopped))return u=!0}else{var a=O[n];if(a)return o(t,a)}}for(var l,u=!1;t&&t!==a&&!o(t,n);)t=t._parent;return u}function r(t,e,n,r,s,a){return t._project.removeOn(n),E=P=!1,C&&i(C,null,n,r,s,a)||e&&e!==C&&!e.isDescendant(C)&&i(e,null,n,r,s,a,C)||i(t,C||e||t,n,r,s,a)}if(l){var a,o,c,h,f,d=!1,p=!1,g=l.navigator;g.pointerEnabled||g.msPointerEnabled?(c="pointerdown MSPointerDown",h="pointermove MSPointerMove",f="pointerup pointercancel MSPointerUp MSPointerCancel"):(c="touchstart",h="touchmove",f="touchend touchcancel","ontouchstart"in l&&g.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(c+=" mousedown",h+=" mousemove",f+=" mouseup"));var v={},m={mouseout:function(t){var e=X._focused,i=Y.getRelatedTarget(t);if(e&&(!i||"HTML"===i.nodeName)){var r=Y.getOffset(t,e._element),s=r.x,a=Math.abs,o=a(s),l=o-(1<<25);r.x=a(l)<o?l*(s<0?-1:1):s,n(e,t,e.viewToProject(r))}},scroll:e};v[c]=function(e){var n=X._focused=t(e);d||(d=!0,n._handleMouseEvent("mousedown",e))},m[h]=function(i){var r=X._focused;if(!p){var s=t(i);s?r!==s&&(r&&n(r,i),a||(a=r),r=X._focused=o=s):o&&o===r&&(a&&!a.isInserted()&&(a=null),r=X._focused=a,a=null,e())}r&&n(r,i)},m[c]=function(){p=!0},m[f]=function(t){var e=X._focused;e&&d&&e._handleMouseEvent("mouseup",t),p=d=!1},Y.add(u,m),Y.add(l,{load:e});var _,y,b,w,x,C,S,k,T,P=!1,E=!1,O={doubleclick:"click",mousedrag:"mousemove"},I=!1,A={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:v,_handleMouseEvent:function(t,e,n){function s(t){return a.virtual[t]||c.responds(t)||u&&u.responds(t)}var a=this._itemEvents,o=a.native[t],l="mousemove"===t,u=this._scope.tool,c=this;l&&d&&s("mousedrag")&&(t="mousedrag"),n||(n=this.getEventPoint(e));var h=this.getBounds().contains(n),f=o&&h&&c._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),p=f&&f.item||null,g=!1,v={};if(v[t.substr(5)]=!0,o&&p!==x&&(x&&i(x,null,"mouseleave",e,n),p&&i(p,null,"mouseenter",e,n),x=p),I^h&&(i(this,null,h?"mouseenter":"mouseleave",e,n),_=h?this:null,g=!0),!h&&!v.drag||n.equals(b)||(r(this,p,l?t:"mousemove",e,n,b),g=!0),I=h,v.down&&h||v.up&&y){if(r(this,p,t,e,n,y),v.down){if(T=p===S&&Date.now()-k<300,w=S=p,!E&&p){for(var m=p;m&&!m.responds("mousedrag");)m=m._parent;m&&(C=p)}y=n}else v.up&&(E||p!==w||(k=Date.now(),r(this,p,T?"doubleclick":"click",e,n,y),T=!1),w=C=null);I=!1,g=!0}b=n,g&&u&&(P=u._handleMouseEvent(t,e,n,v)||P),(P&&!v.move||v.down&&s("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,n,i){function r(r){r.responds(t)&&(s=o,r.emit(t,a=a||new tt(t,e,n,i)))}var a,o=this._scope,l=o.tool;this.isVisible()&&(r(this),l&&l.responds(t)&&r(l))},_countItemEvent:function(t,e){var n=this._itemEvents,i=n.native,r=n.virtual;for(var s in A)i[s]=(i[s]||0)+(A[s][t]||0)*e;r[t]=(r[t]||0)+e},statics:{updateFocus:e}}}}),Q=X.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof l.HTMLCanvasElement)){var n=y.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+c.slice(arguments,1));e=st.getCanvas(n)}var i=this._context=e.getContext("2d");if(i.save(),this._pixelRatio=1,!/^off|false$/.test(f.getAttribute(e,"hidpi"))){var r=l.devicePixelRatio||1,s=K.getPrefixed(i,"backingStorePixelRatio")||1;this._pixelRatio=r/s}X.call(this,t,e),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var i=this._pixelRatio;if(t.base.call(this,e*i,n*i),1!==i){var r=this._element,s=this._context;if(!f.hasAttribute(r,"resize")){var a=r.style;a.width=e+"px",a.height=n+"px"}s.restore(),s.save(),s.scale(i,i)}},getPixelSize:function t(e){var n,i=s.agent;if(i&&i.firefox)n=t.base.call(this,e);else{var r=this._context,a=r.font;r.font=e+" serif",n=parseFloat(r.font),r.font=a}return n},getTextWidth:function(t,e){var n=this._context,i=n.font,r=0;n.font=t;for(var s=0,a=e.length;s<a;s++)r=Math.max(r,n.measureText(e[s]).width);return n.font=i,r},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),J=c.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return et.modifiers}}),tt=J.extend({_class:"KeyEvent",initialize:function(t,e,n,i){this.type=t,this.event=e,this.key=n,this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),et=new function(){function t(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e||e===o?String.fromCharCode(t.keyCode):e,r[e]||(e.length>1?c.hyphenate(e):e.toLowerCase())}function e(t,i,r,a){var o,l=X._focused;if(h[i]=t,t?f[i]=r:delete f[i],i.length>1&&(o=c.camelize(i))in d){d[o]=t;var u=s&&s.agent;if("meta"===o&&u&&u.mac)if(t)n={};else{for(var p in n)p in f&&e(!1,p,n[p],a);n=null}}else t&&n&&(n[i]=r);l&&l._handleKeyEvent(t?"keydown":"keyup",a,i,r)}var n,i,r={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},a={tab:"\t",space:" ",enter:"\r"},h={},f={},d=new c({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=s&&s.agent;return t&&t.mac?this.meta:this.control}}});return Y.add(u,{keydown:function(n){var r=t(n),o=s&&s.agent;r.length>1||o&&o.chrome&&(n.altKey||o.mac&&n.metaKey||!o.mac&&n.ctrlKey)?e(!0,r,a[r]||(r.length>1?"":r),n):i=r},keypress:function(n){if(i){var r=t(n),s=n.charCode,a=s>=32?String.fromCharCode(s):r.length>1?"":r;r!==i&&(r=a.toLowerCase()),e(!0,r,a,n),i=null}},keyup:function(n){var i=t(n);i in f&&e(!1,i,f[i],n)}}),Y.add(l,{blur:function(t){for(var n in f)e(!1,n,f[n],t)}}),{modifiers:d,isDown:function(t){return!!h[t]}}},nt=J.extend({_class:"MouseEvent",initialize:function(t,e,n,i,r){this.type=t,this.event=e,this.point=n,this.target=i,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),it=J.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),rt=(d.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){d.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,i){function r(t,e){var r=n,s=o?f._point:f._downPoint||r;if(o){if(f._moveCount&&r.equals(s))return!1;if(s&&(null!=t||null!=e)){var a=r.subtract(s),l=a.getLength();if(l<(t||0))return!1;e&&(r=s.add(a.normalize(Math.min(l,e))))}f._moveCount++}return f._point=r,f._lastPoint=s||r,i.down&&(f._moveCount=-1,f._downPoint=r,f._downCount++),!0}function a(){l&&(h=f.emit(t,new it(f,t,e))||h)}s=this._scope,i.drag&&!this.responds(t)&&(t="mousemove");var o=i.move||i.drag,l=this.responds(t),u=this.minDistance,c=this.maxDistance,h=!1,f=this;if(i.down)r(),a();else if(i.up)r(null,c),a();else if(l)for(;r(u,c);)a();return h}}),{request:function(t){var e=new a.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,c.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;0===n||200===n?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,i='Could not load "'+t.url+'" (Status: '+n+")";if(!t.onError)throw new Error(i);t.onError(i,n)},e.send(null)}}),st={canvases:[],getCanvas:function(t,e){if(!l)return null;var n,i=!0;"object"===typeof t&&(e=t.height,t=t.width),this.canvases.length?n=this.canvases.pop():(n=u.createElement("canvas"),i=!1);var r=n.getContext("2d");if(!r)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===t&&n.height===e?i&&r.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),r.save(),n},getContext:function(t,e){var n=this.getCanvas(t,e);return n?n.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},at=new function(){function t(t,e,n){return.2989*t+.587*e+.114*n}function e(e,n,i,r){var s=r-t(e,n,i);d=e+s,p=n+s,g=i+s;var r=t(d,p,g),a=v(d,p,g),o=m(d,p,g);if(a<0){var l=r-a;d=r+(d-r)*r/l,p=r+(p-r)*r/l,g=r+(g-r)*r/l}if(o>255){var u=255-r,c=o-r;d=r+(d-r)*u/c,p=r+(p-r)*u/c,g=r+(g-r)*u/c}}function n(t,e,n){return m(t,e,n)-v(t,e,n)}function i(t,e,n,i){var r,s=[t,e,n],a=m(t,e,n),o=v(t,e,n);o=o===t?0:o===e?1:2,a=a===t?0:a===e?1:2,r=0===v(o,a)?1===m(o,a)?2:1:0,s[a]>s[o]?(s[r]=(s[r]-s[o])*i/(s[a]-s[o]),s[a]=i):s[r]=s[a]=0,s[o]=0,d=s[0],p=s[1],g=s[2]}var r,s,a,o,l,u,h,f,d,p,g,v=Math.min,m=Math.max,_=Math.abs,y={multiply:function(){d=l*r/255,p=u*s/255,g=h*a/255},screen:function(){d=l+r-l*r/255,p=u+s-u*s/255,g=h+a-h*a/255},overlay:function(){d=l<128?2*l*r/255:255-2*(255-l)*(255-r)/255,p=u<128?2*u*s/255:255-2*(255-u)*(255-s)/255,g=h<128?2*h*a/255:255-2*(255-h)*(255-a)/255},"soft-light":function(){var t=r*l/255;d=t+l*(255-(255-l)*(255-r)/255-t)/255,t=s*u/255,p=t+u*(255-(255-u)*(255-s)/255-t)/255,t=a*h/255,g=t+h*(255-(255-h)*(255-a)/255-t)/255},"hard-light":function(){d=r<128?2*r*l/255:255-2*(255-r)*(255-l)/255,p=s<128?2*s*u/255:255-2*(255-s)*(255-u)/255,g=a<128?2*a*h/255:255-2*(255-a)*(255-h)/255},"color-dodge":function(){d=0===l?0:255===r?255:v(255,255*l/(255-r)),p=0===u?0:255===s?255:v(255,255*u/(255-s)),g=0===h?0:255===a?255:v(255,255*h/(255-a))},"color-burn":function(){d=255===l?255:0===r?0:m(0,255-255*(255-l)/r),p=255===u?255:0===s?0:m(0,255-255*(255-u)/s),g=255===h?255:0===a?0:m(0,255-255*(255-h)/a)},darken:function(){d=l<r?l:r,p=u<s?u:s,g=h<a?h:a},lighten:function(){d=l>r?l:r,p=u>s?u:s,g=h>a?h:a},difference:function(){d=l-r,d<0&&(d=-d),p=u-s,p<0&&(p=-p),(g=h-a)<0&&(g=-g)},exclusion:function(){d=l+r*(255-l-l)/255,p=u+s*(255-u-u)/255,g=h+a*(255-h-h)/255},hue:function(){i(r,s,a,n(l,u,h)),e(d,p,g,t(l,u,h))},saturation:function(){i(l,u,h,n(r,s,a)),e(d,p,g,t(l,u,h))},luminosity:function(){e(l,u,h,t(r,s,a))},color:function(){e(r,s,a,t(l,u,h))},add:function(){d=v(l+r,255),p=v(u+s,255),g=v(h+a,255)},subtract:function(){d=m(l-r,0),p=m(u-s,0),g=m(h-a,0)},average:function(){d=(l+r)/2,p=(u+s)/2,g=(h+a)/2},negation:function(){d=255-_(255-r-l),p=255-_(255-s-u),g=255-_(255-a-h)}},b=this.nativeModes=c.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),w=st.getContext(1,1);w&&(c.each(y,function(t,e){var n="darken"===e,i=!1;w.save();try{w.fillStyle=n?"#300":"#a00",w.fillRect(0,0,1,1),w.globalCompositeOperation=e,w.globalCompositeOperation===e&&(w.fillStyle=n?"#a00":"#300",w.fillRect(0,0,1,1),i=w.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(t){}w.restore(),b[e]=i}),st.release(w)),this.process=function(t,e,n,i,c){var v=e.canvas,m="normal"===t;if(m||b[t])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=i,m||(n.globalCompositeOperation=t),n.drawImage(v,c.x,c.y),n.restore();else{var _=y[t];if(!_)return;for(var w=n.getImageData(c.x,c.y,v.width,v.height),x=w.data,C=e.getImageData(0,0,v.width,v.height).data,S=0,k=x.length;S<k;S+=4){r=C[S],l=x[S],s=C[S+1],u=x[S+1],a=C[S+2],h=x[S+2],o=C[S+3],f=x[S+3],_();var T=o*i/255,P=1-T;x[S]=T*d+P*l,x[S+1]=T*p+P*u,x[S+2]=T*g+P*h,x[S+3]=o*i+P*f}n.putImageData(w,c.x,c.y)}}},ot=new function(){function t(t,e,r){return n(u.createElementNS(i,t),e,r)}function e(t,e){var n=a[e],i=n?t.getAttributeNS(n,e):t.getAttribute(e);return"null"===i?null:i}function n(t,e,n){for(var i in e){var r=e[i],s=a[i];"number"===typeof r&&n&&(r=n.number(r)),s?t.setAttributeNS(s,i,r):t.setAttribute(i,r)}return t}var i="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",a={href:s,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};return{svg:i,xmlns:r,xlink:s,create:t,get:e,set:n}},lt=c.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof D||t instanceof O||t instanceof q)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var n=c.capitalize(e),i=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:i,fromSVG:i&&c.each(i,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{});return new function(){function t(t,e,n){var i=new c,r=t.getTranslation();if(e){t=t._shiftless();var s=t._inverseTransform(r);i[n?"cx":"x"]=s.x,i[n?"cy":"y"]=s.y,r=null}if(!t.isIdentity()){var a=t.decompose();if(a){var o=[],l=a.rotation,u=a.scaling,h=a.skewing;r&&!r.isZero()&&o.push("translate("+b.point(r)+")"),l&&o.push("rotate("+b.number(l)+")"),g.isZero(u.x-1)&&g.isZero(u.y-1)||o.push("scale("+b.point(u)+")"),h.x&&o.push("skewX("+b.number(h.x)+")"),h.y&&o.push("skewY("+b.number(h.y)+")"),i.transform=o.join(" ")}else i.transform="matrix("+t.getValues().join(",")+")"}return i}function e(e,n){for(var i=t(e._matrix),r=e._children,s=ot.create("g",i,b),a=0,o=r.length;a<o;a++){var l=r[a],u=_(l,n);if(u)if(l.isClipMask()){var c=ot.create("clipPath");c.appendChild(u),d(l,c,"clip"),ot.set(s,{"clip-path":"url(#"+c.id+")"})}else s.appendChild(u)}return s}function n(e,n){var i=t(e._matrix,!0),r=e.getSize(),s=e.getImage();return i.x-=r.width/2,i.y-=r.height/2,i.width=r.width,i.height=r.height,i.href=0==n.embedImages&&s&&s.src||e.toDataURL(),ot.create("image",i,b)}function i(e,n){var i=n.matchShapes;if(i){var s=e.toShape(!1);if(s)return r(s)}var a,o=e._segments,l=o.length,u=t(e._matrix);if(i&&l>=2&&!e.hasHandles())if(l>2){a=e._closed?"polygon":"polyline";for(var c=[],h=0;h<l;h++)c.push(b.point(o[h]._point));u.points=c.join(" ")}else{a="line";var f=o[0]._point,d=o[1]._point;u.set({x1:f.x,y1:f.y,x2:d.x,y2:d.y})}else a="path",u.d=e.getPathData(null,n.precision);return ot.create(a,u,b)}function r(e){var n=e._type,i=e._radius,r=t(e._matrix,!0,"rectangle"!==n);if("rectangle"===n){n="rect";var s=e._size,a=s.width,o=s.height;r.x-=a/2,r.y-=o/2,r.width=a,r.height=o,i.isZero()&&(i=null)}return i&&("circle"===n?r.r=i:(r.rx=i.width,r.ry=i.height)),ot.create(n,r,b)}function s(e,n){var i=t(e._matrix),r=e.getPathData(null,n.precision);return r&&(i.d=r),ot.create("path",i,b)}function o(e,n){var i=t(e._matrix,!0),r=e._definition,s=f(r,"symbol"),a=r._item,o=a.getBounds();return s||(s=ot.create("symbol",{viewBox:b.rectangle(o)}),s.appendChild(_(a,n)),d(r,s,"symbol")),i.href="#"+s.id,i.x+=o.x,i.y+=o.y,i.width=o.width,i.height=o.height,i.overflow="visible",ot.create("use",i,b)}function l(t){var e=f(t,"color");if(!e){var n,i=t.getGradient(),r=i._radial,s=t.getOrigin(),a=t.getDestination();if(r){n={cx:s.x,cy:s.y,r:s.getDistance(a)};var o=t.getHighlight();o&&(n.fx=o.x,n.fy=o.y)}else n={x1:s.x,y1:s.y,x2:a.x,y2:a.y};n.gradientUnits="userSpaceOnUse",e=ot.create((r?"radial":"linear")+"Gradient",n,b);for(var l=i._stops,u=0,c=l.length;u<c;u++){var h=l[u],p=h._color,g=p.getAlpha(),v=h._offset;n={offset:null==v?u/(c-1):v},p&&(n["stop-color"]=p.toCSS(!0)),g<1&&(n["stop-opacity"]=g),e.appendChild(ot.create("stop",n,b))}d(t,e,"color")}return"url(#"+e.id+")"}function u(e){var n=ot.create("text",t(e._matrix,!0),b);return n.textContent=e._content,n}function h(t,e,n){var i={},r=!n&&t.getParent(),s=[];return null!=t._name&&(i.id=t._name),c.each(lt,function(e){var n=e.get,a=e.type,o=t[n]();if(e.exportFilter?e.exportFilter(t,o):!r||!c.equals(r[n](),o)){if("color"===a&&null!=o){var u=o.getAlpha();u<1&&(i[e.attribute+"-opacity"]=u)}"style"===a?s.push(e.attribute+": "+o):i[e.attribute]=null==o?"none":"color"===a?o.gradient?l(o,t):o.toCSS(!0):"array"===a?o.join(","):"lookup"===a?e.toSVG[o]:o}}),s.length&&(i.style=s.join(";")),1===i.opacity&&delete i.opacity,t._visible||(i.visibility="hidden"),ot.set(e,i,b)}function f(t,e){return x||(x={ids:{},svgs:{}}),t&&x.svgs[e+"-"+(t._id||t.__id||(t.__id=v.get("svg")))]}function d(t,e,n){x||f();var i=x.ids[n]=(x.ids[n]||0)+1;e.id=n+"-"+i,x.svgs[n+"-"+(t._id||t.__id)]=e}function m(t,e){var n=t,i=null;if(x){n="svg"===t.nodeName.toLowerCase()&&t;for(var r in x.svgs)i||(n||(n=ot.create("svg"),n.appendChild(t)),i=n.insertBefore(ot.create("defs"),n.firstChild)),i.appendChild(x.svgs[r]);x=null}return e.asString?(new a.XMLSerializer).serializeToString(n):n}function _(t,e,n){var i=S[t._class],r=i&&i(t,e);if(r){var s=e.onExport;s&&(r=s(t,r,e)||r);var a=JSON.stringify(t._data);a&&"{}"!==a&&"null"!==a&&r.setAttribute("data-paper-data",a)}return r&&h(t,r,n)}function y(t){return t||(t={}),b=new p(t.precision),t}var b,x,S={Group:e,Layer:e,Raster:n,Path:i,Shape:r,CompoundPath:s,SymbolItem:o,PointText:u};T.inject({exportSVG:function(t){return t=y(t),m(_(this,t,!0),t)}}),k.inject({exportSVG:function(e){e=y(e);var n=this._children,i=this.getView(),r=c.pick(e.bounds,"view"),s=e.matrix||"view"===r&&i._matrix,a=s&&C.read([s]),o="view"===r?new w([0,0],i.getViewSize()):"content"===r?T._getBounds(n,a,{stroke:!0}).rect:w.read([r],0,{readNull:!0}),l={version:"1.1",xmlns:ot.svg,"xmlns:xlink":ot.xlink};o&&(l.width=o.width,l.height=o.height,(o.x||o.y)&&(l.viewBox=b.rectangle(o)));var u=ot.create("svg",l,b),h=u;a&&!a.isIdentity()&&(h=u.appendChild(ot.create("g",t(a),b)));for(var f=0,d=n.length;f<d;f++)h.appendChild(_(n[f],e,!0));return m(u,e)}})},new function(){function t(t,e,n,i,r){var s=ot.get(t,e),a=null==s?i?null:n?"":0:n?s:parseFloat(s);return/%\s*$/.test(s)?a/100*(r?1:E[/x|^width/.test(e)?"width":"height"]):a}function e(e,n,i,r,s){return n=t(e,n||"x",!1,r,s),i=t(e,i||"y",!1,r,s),!r||null!=n&&null!=i?new m(n,i):null}function n(e,n,i,r,s){return n=t(e,n||"width",!1,r,s),i=t(e,i||"height",!1,r,s),!r||null!=n&&null!=i?new y(n,i):null}function i(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?b(t)||t:"lookup"===e?n[t]:t}function r(t,e,n,i){var r=t.childNodes,s="clippath"===e,a="defs"===e,o=new P,l=o._project,u=l._currentStyle,c=[];if(s||a||(o=_(o,t,i),l._currentStyle=o._style.clone()),i)for(var h=t.querySelectorAll("defs"),f=0,d=h.length;f<d;f++)x(h[f],n,!1);for(var f=0,d=r.length;f<d;f++){var p,g=r[f];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(p=x(g,n,!1))||p instanceof M||c.push(p)}return o.addChildren(c),s&&(o=_(o.reduce(),t,i)),l._currentStyle=u,(s||a)&&(o.remove(),o=null),o}function h(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),i=[],r=0,s=n.length;r<s;r+=2)i.push(new m(parseFloat(n[r]),parseFloat(n[r+1])));var a=new F(i);return"polygon"===e&&a.closePath(),a}function f(t){return D.create(t.getAttribute("d"))}function d(n,i){var r,s=(t(n,"href",!0)||"").substring(1),a="radialgradient"===i;if(s)r=A[s].getGradient(),r._radial^a&&(r=r.clone(),r._radial=a);else{for(var o=n.childNodes,l=[],u=0,c=o.length;u<c;u++){var h=o[u];1===h.nodeType&&l.push(_(new Z,h))}r=new $(l,a)}var f,d,p,g="userSpaceOnUse"!==t(n,"gradientUnits",!0);return a?(f=e(n,"cx","cy",!1,g),d=f.add(t(n,"r",!1,!1,g),0),p=e(n,"fx","fy",!0,g)):(f=e(n,"x1","y1",!1,g),d=e(n,"x2","y2",!1,g)),_(new W(r,f,d,p),n)._scaleToBounds=g,null}function p(t,e,n,i){if(t.transform){for(var r=(i.getAttribute(n)||"").split(/\)\s*/g),s=new C,a=0,o=r.length;a<o;a++){var l=r[a];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],h=u[1].split(/[\s,]+/g),f=0,d=h.length;f<d;f++)h[f]=parseFloat(h[f]);switch(c){case"matrix":s.append(new C(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":s.rotate(h[0],h[1],h[2]);break;case"translate":s.translate(h[0],h[1]);break;case"scale":s.scale(h);break;case"skewX":s.skew(h[0],0);break;case"skewY":s.skew(0,h[0])}}t.transform(s)}}function g(t,e,n){var i="fill-opacity"===n?"getFillColor":"getStrokeColor",r=t[i]&&t[i]();r&&r.setAlpha(parseFloat(e))}function v(t,e,n){var i=t.attributes[e],r=i&&i.value;if(!r){var s=c.camelize(e);r=t.style[s],r||n.node[s]===n.parent[s]||(r=n.node[s])}return r?"none"===r?null:r:o}function _(t,e,n){if(e.style){var i=e.parentNode,r={node:K.getStyles(e)||{},parent:!n&&!/^defs$/i.test(i.tagName)&&K.getStyles(i)||{}};c.each(L,function(n,i){var s=v(e,i,r);t=s!==o&&n(t,s,i,e,r)||t})}return t}function b(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),n=e&&e[1],i=n&&A[l?n.replace(l.location.href.split("#")[0]+"#",""):n];return i&&i._scaleToBounds&&(i=i.clone(),i._scaleToBounds=!0),i}function x(t,e,i){var r,a,o,l=t.nodeName.toLowerCase(),h="#document"!==l,f=u.body;i&&h&&(E=s.getView().getSize(),E=n(t,null,null,!0)||E,r=ot.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),a=t.parentNode,o=t.nextSibling,r.appendChild(t),f.appendChild(r));var d=s.settings,p=d.applyMatrix,g=d.insertItems;d.applyMatrix=!1,d.insertItems=!1;var v=N[l],m=v&&v(t,l,e,i)||null;if(d.insertItems=g,d.applyMatrix=p,m){!h||m instanceof P||(m=_(m,t,i));var y=e.onImport,b=h&&t.getAttribute("data-paper-data");y&&(m=y(t,m,e)||m),e.expandShapes&&m instanceof O&&(m.remove(),m=m.toPath()),b&&(m._data=JSON.parse(b))}return r&&(f.removeChild(r),a&&(o?a.insertBefore(t,o):a.appendChild(t))),i&&(A={},m&&c.pick(e.applyMatrix,p)&&m.matrix.apply(!0,!0)),m}function S(t,e,n){function i(i){try{var u="object"===typeof i?i:(new a.DOMParser).parseFromString(i,"image/svg+xml");if(!u.nodeName)throw u=null,new Error("Unsupported SVG source: "+t);s=l,c=x(u,e,!0),e&&!1===e.insert||n._insertItem(o,c);var h=e.onLoad;h&&h(c,i)}catch(t){r(t)}}function r(t,n){var i=e.onError;if(!i)throw new Error(t);i(t,n)}if(!t)return null;e="function"===typeof e?{onLoad:e}:e||{};var l=s,c=null;if("string"!==typeof t||/^.*</.test(t)){if("undefined"!==typeof File&&t instanceof File){var h=new FileReader;return h.onload=function(){i(h.result)},h.onerror=function(){r(h.error)},h.readAsText(t)}i(t)}else{var f=u.getElementById(t);f?i(f):rt.request({url:t,async:!0,onLoad:i,onError:r})}return c}var E,A={},N={"#document":function(t,e,n,i){for(var r=t.childNodes,s=0,a=r.length;s<a;s++){var o=r[s];if(1===o.nodeType)return x(o,n,i)}},g:r,svg:r,clippath:r,polygon:h,polyline:h,path:f,lineargradient:d,radialgradient:d,image:function(i){var r=new I(t(i,"href",!0));return r.on("load",function(){var t=n(i);this.setSize(t);var r=this._matrix._transformPoint(e(i).add(t.divide(2)));this.translate(r)}),r},symbol:function(t,e,n,i){return new M(r(t,e,n,i),!0)},defs:r,use:function(n){var i=(t(n,"href",!0)||"").substring(1),r=A[i],s=e(n);return r?r instanceof M?r.place(s):r.clone().translate(s):null},circle:function(n){return new O.Circle(e(n,"cx","cy"),t(n,"r"))},ellipse:function(t){return new O.Ellipse({center:e(t,"cx","cy"),radius:n(t,"rx","ry")})},rect:function(t){return new O.Rectangle(new w(e(t),n(t)),n(t,"rx","ry"))},line:function(t){return new F.Line(e(t,"x1","y1"),e(t,"x2","y2"))},text:function(t){var n=new H(e(t).add(e(t,"dx","dy")));return n.setContent(t.textContent.trim()||""),n}},L=c.set(c.each(lt,function(t){this[t.attribute]=function(e,n){if(e[t.set]&&(e[t.set](i(n,t.type,t.fromSVG)),"color"===t.type)){var r=e[t.get]();if(r&&r._scaleToBounds){var s=e.getBounds();r.transform((new C).translate(s.getPoint()).scale(s.getSize()))}}}},{}),{id:function(t,e){A[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var n=b(e);if(n){if(n=n.clone(),n.setClipMask(!0),!(t instanceof P))return new P(n,t);t.insertChild(0,n)}},gradientTransform:p,transform:p,"fill-opacity":g,"stroke-opacity":g,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var n=e.match(/(.*)%$/);t.setOffset(n?n[1]/100:parseFloat(e))}},viewBox:function(t,e,r,s,a){var o,l,u=new w(i(e,"array")),c=n(s,null,null,!0);if(t instanceof P){var h=c?c.divide(u.getSize()):1,l=(new C).scale(h).translate(u.getPoint().negate());o=t}else t instanceof M&&(c&&u.setSize(c),o=t._item);if(o){if("visible"!==v(s,"overflow",a)){var f=new O.Rectangle(u);f.setClipMask(!0),o.addChild(f)}l&&o.transform(l)}}});T.inject({importSVG:function(t,e){return S(t,e,this)}}),k.inject({importSVG:function(t,e){return this.activate(),S(t,e,this)}})},s=new(f.inject(c.exports,{Base:c,Numerical:g,Key:et,DomEvent:Y,DomElement:K,document:u,window:l,Symbol:M,PlacedSymbol:A})),s.agent.node&&n(63)(s),i=s,(r="function"===typeof i?i.call(e,n,e,t):i)!==o&&(t.exports=r),s}.call(this,"object"===typeof self?self:null)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){g&&d&&(g=!1,d.length?p=d.concat(p):v=-1,p.length&&o())}function o(){if(!g){var t=r(a);g=!0;for(var e=p.length;e;){for(d=p,p=[];++v<e;)d&&d[v].run();v=-1,e=p.length}d=null,g=!1,s(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,f=t.exports={};!function(){try{c="function"===typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"===typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,p=[],g=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||g||r(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){"use strict";e.__esModule=!0,e.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},t.exports=e.default},function(t,e,n){(function(t){!function(n,i){var r=i();"object"===typeof t&&t&&t.exports&&(e=t.exports=r),e.randomColor=r}(0,function(){function t(t){var e=s(t.hue),n=l(e);return n<0&&(n=360+n),n}function e(t,e){if("monochrome"===e.hue)return 0;if("random"===e.luminosity)return l([0,100]);var n=a(t),i=n[0],r=n[1];switch(e.luminosity){case"bright":i=55;break;case"dark":i=r-10;break;case"light":r=55}return l([i,r])}function n(t,e,n){var i=r(t,e),s=100;switch(n.luminosity){case"dark":s=i+20;break;case"light":i=(s+i)/2;break;case"random":i=0,s=100}return l([i,s])}function i(t,e){switch(e.format){case"hsvArray":return t;case"hslArray":return d(t);case"hsl":var n=d(t);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var i=d(t),r=e.alpha||Math.random();return"hsla("+i[0]+", "+i[1]+"%, "+i[2]+"%, "+r+")";case"rgbArray":return h(t);case"rgb":return"rgb("+h(t).join(", ")+")";case"rgba":var s=h(t),r=e.alpha||Math.random();return"rgba("+s.join(", ")+", "+r+")";default:return u(t)}}function r(t,e){for(var n=o(t).lowerBounds,i=0;i<n.length-1;i++){var r=n[i][0],s=n[i][1],a=n[i+1][0],l=n[i+1][1];if(e>=r&&e<=a){var u=(l-s)/(a-r);return u*e+(s-u*r)}}return 0}function s(t){if("number"===typeof parseInt(t)){var e=parseInt(t);if(e<360&&e>0)return[e,e]}if("string"===typeof t)if(v[t]){var n=v[t];if(n.hueRange)return n.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var i=f(t)[0];return[i,i]}return[0,360]}function a(t){return o(t).saturationRange}function o(t){t>=334&&t<=360&&(t-=360);for(var e in v){var n=v[e];if(n.hueRange&&t>=n.hueRange[0]&&t<=n.hueRange[1])return v[e]}return"Color not found"}function l(t){if(null===g)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var e=t[1]||1,n=t[0]||0;g=(9301*g+49297)%233280;var i=g/233280;return Math.floor(n+i*(e-n))}function u(t){function e(t){var e=t.toString(16);return 1==e.length?"0"+e:e}var n=h(t);return"#"+e(n[0])+e(n[1])+e(n[2])}function c(t,e,n){var i=n[0][0],r=n[n.length-1][0],s=n[n.length-1][1],a=n[0][1];v[t]={hueRange:e,lowerBounds:n,saturationRange:[i,r],brightnessRange:[s,a]}}function h(t){var e=t[0];0===e&&(e=1),360===e&&(e=359),e/=360;var n=t[1]/100,i=t[2]/100,r=Math.floor(6*e),s=6*e-r,a=i*(1-n),o=i*(1-s*n),l=i*(1-(1-s)*n),u=256,c=256,h=256;switch(r){case 0:u=i,c=l,h=a;break;case 1:u=o,c=i,h=a;break;case 2:u=a,c=i,h=l;break;case 3:u=a,c=o,h=i;break;case 4:u=l,c=a,h=i;break;case 5:u=i,c=a,h=o}return[Math.floor(255*u),Math.floor(255*c),Math.floor(255*h)]}function f(t){t=t.replace(/^#/,""),t=3===t.length?t.replace(/(.)/g,"$1$1"):t;var e=parseInt(t.substr(0,2),16)/255,n=parseInt(t.substr(2,2),16)/255,i=parseInt(t.substr(4,2),16)/255,r=Math.max(e,n,i),s=r-Math.min(e,n,i),a=r?s/r:0;switch(r){case e:return[(n-i)/s%6*60||0,a,r];case n:return[60*((i-e)/s+2)||0,a,r];case i:return[60*((e-n)/s+4)||0,a,r]}}function d(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=(2-n)*i;return[e,Math.round(n*i/(r<1?r:2-r)*1e4)/100,r/2*100]}function p(t){for(var e=0,n=0;n!==t.length&&!(e>=Number.MAX_SAFE_INTEGER);n++)e+=t.charCodeAt(n);return e}var g=null,v={};!function(){c("monochrome",null,[[0,0],[100,0]]),c("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),c("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),c("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),c("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),c("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),c("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),c("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}();var m=function(r){if(r=r||{},void 0!==r.seed&&null!==r.seed&&r.seed===parseInt(r.seed,10))g=r.seed;else if("string"===typeof r.seed)g=p(r.seed);else{if(void 0!==r.seed&&null!==r.seed)throw new TypeError("The seed value must be an integer or string");g=null}var s,a,o;if(null!==r.count&&void 0!==r.count){var l=r.count,u=[];for(r.count=null;l>u.length;)g&&r.seed&&(r.seed+=1),u.push(m(r));return r.count=l,u}return s=t(r),a=e(s,r),o=n(s,a,r),i([s,a,o],r)};return m})}).call(e,n(17)(t))},function(t,e,n){"use strict";t.exports=function(t,e){if(void 0===e&&(e=t,t=0),"number"!==typeof t||"number"!==typeof e)throw new TypeError("Expected all arguments to be numbers");return Math.floor(Math.random()*(e-t+1)+t)}},function(t,e,n){n(29),t.exports=n(34)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(30).enable(),window.Promise=n(32)),n(33),Object.assign=n(2)},function(t,e,n){"use strict";function i(){u=!1,o._47=null,o._71=null}function r(t){function e(e){(t.allRejections||a(h[e].error,t.whitelist||l))&&(h[e].displayId=c++,t.onUnhandled?(h[e].logged=!0,t.onUnhandled(h[e].displayId,h[e].error)):(h[e].logged=!0,s(h[e].displayId,h[e].error)))}function n(e){h[e].logged&&(t.onHandled?t.onHandled(h[e].displayId,h[e].error):h[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+h[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+h[e].displayId+".")))}t=t||{},u&&i(),u=!0;var r=0,c=0,h={};o._47=function(t){2===t._83&&h[t._56]&&(h[t._56].logged?n(t._56):clearTimeout(h[t._56].timeout),delete h[t._56])},o._71=function(t,n){0===t._75&&(t._56=r++,h[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),a(n,l)?100:2e3),logged:!1})}}function s(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var o=n(14),l=[ReferenceError,TypeError,RangeError],u=!1;e.disable=i,e.enable=r},function(t,e,n){"use strict";(function(e){function n(t){a.length||(s(),o=!0),a[a.length]=t}function i(){for(;l<a.length;){var t=l;if(l+=1,a[t].call(),l>u){for(var e=0,n=a.length-l;e<n;e++)a[e]=a[e+l];a.length-=l,l=0}}a.length=0,l=0,o=!1}function r(t){return function(){function e(){clearTimeout(n),clearInterval(i),t()}var n=setTimeout(e,0),i=setInterval(e,50)}}t.exports=n;var s,a=[],o=!1,l=0,u=1024,c="undefined"!==typeof e?e:self,h=c.MutationObserver||c.WebKitMutationObserver;s="function"===typeof h?function(t){var e=1,n=new h(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}(i):r(i),n.requestFlush=s,n.makeRequestCallFromTimer=r}).call(e,n(3))},function(t,e,n){"use strict";function i(t){var e=new r(r._44);return e._83=1,e._18=t,e}var r=n(14);t.exports=r;var s=i(!0),a=i(!1),o=i(null),l=i(void 0),u=i(0),c=i("");r.resolve=function(t){if(t instanceof r)return t;if(null===t)return o;if(void 0===t)return l;if(!0===t)return s;if(!1===t)return a;if(0===t)return u;if(""===t)return c;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new r(e.bind(t))}catch(t){return new r(function(e,n){n(t)})}return i(t)},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){function i(a,o){if(o&&("object"===typeof o||"function"===typeof o)){if(o instanceof r&&o.then===r.prototype.then){for(;3===o._83;)o=o._18;return 1===o._83?i(a,o._18):(2===o._83&&n(o._18),void o.then(function(t){i(a,t)},n))}var l=o.then;if("function"===typeof l){return void new r(l.bind(o)).then(function(t){i(a,t)},n)}}e[a]=o,0===--s&&t(e)}if(0===e.length)return t([]);for(var s=e.length,a=0;a<e.length;a++)i(a,e[a])})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){t.forEach(function(t){r.resolve(t).then(e,n)})})},r.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function s(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function o(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function l(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function u(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m.arrayBuffer&&m.blob&&y(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!b(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var t=s(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(o)}),this.text=function(){var t=s(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function g(t){var e=new r;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e}function v(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(m.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(t){return t&&DataView.prototype.isPrototypeOf(t)},b=ArrayBuffer.isView||function(t){return t&&_.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t),i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,i){this.map[e(t)]=n(i)},r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},h.call(d.prototype),h.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];v.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=d,t.Response=v,t.fetch=function(t,e){return new Promise(function(n,i){var r=new d(t,e),s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:g(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;n(new v(e,t))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.open(r.method,r.url,!0),"include"===r.credentials&&(s.withCredentials=!0),"responseType"in s&&m.blob&&(s.responseType="blob"),r.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"===typeof r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n.n(i),s=n(6),a=n.n(s),o=n(44),l=n(123),u=(n.n(l),n(124));a.a.render(r.a.createElement(o.a,null),document.getElementById("root")),Object(u.a)()},function(t,e,n){"use strict";function i(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function r(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||w}function s(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||w}function a(){}function o(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||w}function l(t,e,n){var i,r={},s=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)k.call(e,i)&&!P.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps)void 0===r[i]&&(r[i]=o[i]);return{$$typeof:T,type:t,key:s,ref:a,props:r,_owner:S.current}}function u(t){return"object"===typeof t&&null!==t&&t.$$typeof===T}function c(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function h(t,e,n,i){if(M.length){var r=M.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function f(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>M.length&&M.push(t)}function d(t,e,n,r){var s=typeof t;if("undefined"!==s&&"boolean"!==s||(t=null),null===t||"string"===s||"number"===s||"object"===s&&t.$$typeof===O||"object"===s&&t.$$typeof===I)return n(r,t,""===e?"."+p(t,0):e),1;var a=0;if(e=""===e?".":e+":",Array.isArray(t))for(var o=0;o<t.length;o++){s=t[o];var l=e+p(s,o);a+=d(s,l,n,r)}else if("function"===typeof(l=E&&t[E]||t["@@iterator"]))for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=e+p(s,o++),a+=d(s,l,n,r);else"object"===s&&(n=""+t,i("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function p(t,e){return"object"===typeof t&&null!==t&&null!=t.key?c(t.key):e.toString(36)}function g(t,e){t.func.call(t.context,e,t.count++)}function v(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?m(t,i,n,b.thatReturnsArgument):null!=t&&(u(t)&&(e=r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(A,"$&/")+"/")+n,t={$$typeof:T,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),i.push(t))}function m(t,e,n,i,r){var s="";null!=n&&(s=(""+n).replace(A,"$&/")+"/"),e=h(e,s,i,r),null==t||d(t,"",v,e),f(e)}var _=n(2),y=n(15),b=n(4),w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&i("85"),this.updater.enqueueSetState(this,t,e,"setState")},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},a.prototype=r.prototype;var x=s.prototype=new a;x.constructor=s,_(x,r.prototype),x.isPureReactComponent=!0;var C=o.prototype=new a;C.constructor=o,_(C,r.prototype),C.unstable_isAsyncReactComponent=!0,C.render=function(){return this.props.children};var S={current:null},k=Object.prototype.hasOwnProperty,T="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,P={key:!0,ref:!0,__self:!0,__source:!0},E="function"===typeof Symbol&&Symbol.iterator,O="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,I="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.portal")||60106,A=/\/+/g,M=[];"function"===typeof Symbol&&Symbol.for&&Symbol.for("react.fragment");var N={Children:{map:function(t,e,n){if(null==t)return t;var i=[];return m(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;e=h(null,null,e,n),null==t||d(t,"",g,e),f(e)},count:function(t){return null==t?0:d(t,"",b.thatReturnsNull,null)},toArray:function(t){var e=[];return m(t,e,null,b.thatReturnsArgument),e},only:function(t){return u(t)||i("143"),t}},Component:r,PureComponent:s,unstable_AsyncComponent:o,createElement:l,cloneElement:function(t,e,n){var i=_({},t.props),r=t.key,s=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,a=S.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)k.call(e,l)&&!P.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==o?o[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}return{$$typeof:T,type:t.type,key:r,ref:s,props:i,_owner:a}},createFactory:function(t){var e=l.bind(null,t);return e.type=t,e},isValidElement:u,version:"16.1.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:_}},L=Object.freeze({default:N}),z=L&&N||L;t.exports=z.default?z.default:z},function(t,e,n){"use strict";function i(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function r(t,e){return(t&e)===e}function s(t,e){if(En.hasOwnProperty(t)||2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))return!1;if(null===e)return!0;switch(typeof e){case"boolean":return En.hasOwnProperty(t)?t=!0:(e=a(t))?t=e.hasBooleanValue||e.hasStringBooleanValue||e.hasOverloadedBooleanValue:(t=t.toLowerCase().slice(0,5),t="data-"===t||"aria-"===t),t;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function a(t){return In.hasOwnProperty(t)?In[t]:null}function o(t){return t[1].toUpperCase()}function l(t,e,n,i,r,s,a,o,l){qn._hasCaughtError=!1,qn._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){qn._caughtError=t,qn._hasCaughtError=!0}}function u(){if(qn._hasRethrowError){var t=qn._rethrowError;throw qn._rethrowError=null,qn._hasRethrowError=!1,t}}function c(){if(Hn)for(var t in Wn){var e=Wn[t],n=Hn.indexOf(t);if(-1<n||i("96",t),!$n[n]){e.extractEvents||i("97",t),$n[n]=e,n=e.eventTypes;for(var r in n){var s=void 0,a=n[r],o=e,l=r;Zn.hasOwnProperty(l)&&i("99",l),Zn[l]=a;var u=a.phasedRegistrationNames;if(u){for(s in u)u.hasOwnProperty(s)&&h(u[s],o,l);s=!0}else a.registrationName?(h(a.registrationName,o,l),s=!0):s=!1;s||i("98",r,t)}}}}function h(t,e,n){Gn[t]&&i("100",t),Gn[t]=e,Kn[t]=e.eventTypes[n].dependencies}function f(t){Hn&&i("101"),Hn=Array.prototype.slice.call(t),c()}function d(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];Wn.hasOwnProperty(e)&&Wn[e]===r||(Wn[e]&&i("102",e),Wn[e]=r,n=!0)}n&&c()}function p(t,e,n,i){e=t.type||"unknown-event",t.currentTarget=Jn(i),qn.invokeGuardedCallbackAndCatchFirstError(e,n,void 0,t),t.currentTarget=null}function g(t,e){return null==e&&i("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function v(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function m(t,e){if(t){var n=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)p(t,e,n[r],i[r]);else n&&p(t,e,n,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function _(t){return m(t,!0)}function y(t){return m(t,!1)}function b(t,e){var n=t.stateNode;if(!n)return null;var r=Xn(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(t=t.type,r=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&i("231",e,typeof n),n)}function w(t,e,n,i){for(var r,s=0;s<$n.length;s++){var a=$n[s];a&&(a=a.extractEvents(t,e,n,i))&&(r=g(r,a))}return r}function x(t){t&&(ti=g(ti,t))}function C(t){var e=ti;ti=null,t?v(e,_):v(e,y),ti&&i("95"),qn.rethrowCaughtError()}function S(t){if(t[ri])return t[ri];for(var e=[];!t[ri];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}var n=void 0,i=t[ri];if(5===i.tag||6===i.tag)return i;for(;t&&(i=t[ri]);t=e.pop())n=i;return n}function k(t){if(5===t.tag||6===t.tag)return t.stateNode;i("33")}function T(t){return t[si]||null}function P(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function E(t,e,n){for(var i=[];t;)i.push(t),t=P(t);for(t=i.length;0<t--;)e(i[t],"captured",n);for(t=0;t<i.length;t++)e(i[t],"bubbled",n)}function O(t,e,n){(e=b(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=g(n._dispatchListeners,e),n._dispatchInstances=g(n._dispatchInstances,t))}function I(t){t&&t.dispatchConfig.phasedRegistrationNames&&E(t._targetInst,O,t)}function A(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;e=e?P(e):null,E(e,O,t)}}function M(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=b(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=g(n._dispatchListeners,e),n._dispatchInstances=g(n._dispatchInstances,t))}function N(t){t&&t.dispatchConfig.registrationName&&M(t._targetInst,null,t)}function L(t){v(t,I)}function z(t,e,n,i){if(n&&i)t:{for(var r=n,s=i,a=0,o=r;o;o=P(o))a++;o=0;for(var l=s;l;l=P(l))o++;for(;0<a-o;)r=P(r),a--;for(;0<o-a;)s=P(s),o--;for(;a--;){if(r===s||r===s.alternate)break t;r=P(r),s=P(s)}r=null}else r=null;for(s=r,r=[];n&&n!==s&&(null===(a=n.alternate)||a!==s);)r.push(n),n=P(n);for(n=[];i&&i!==s&&(null===(a=i.alternate)||a!==s);)n.push(i),i=P(i);for(i=0;i<r.length;i++)M(r[i],"bubbled",t);for(t=n.length;0<t--;)M(n[t],"captured",e)}function R(){return!li&&yn.canUseDOM&&(li="textContent"in document.documentElement?"textContent":"innerText"),li}function j(){if(ui._fallbackText)return ui._fallbackText;var t,e,n=ui._startText,i=n.length,r=D(),s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var a=i-t;for(e=1;e<=a&&n[i-e]===r[s-e];e++);return ui._fallbackText=r.slice(t,1<e?1-e:void 0),ui._fallbackText}function D(){return"value"in ui._root?ui._root.value:ui._root[R()]}function F(t,e,n,i){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var r in t)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?wn.thatReturnsTrue:wn.thatReturnsFalse,this.isPropagationStopped=wn.thatReturnsFalse,this}function B(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function V(t){t instanceof this||i("223"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function U(t){t.eventPool=[],t.getPooled=B,t.release=V}function q(t,e,n,i){return F.call(this,t,e,n,i)}function H(t,e,n,i){return F.call(this,t,e,n,i)}function W(t,e){switch(t){case"topKeyUp":return-1!==fi.indexOf(e.keyCode);case"topKeyDown":return 229!==e.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function $(t){return t=t.detail,"object"===typeof t&&"data"in t?t.data:null}function Z(t,e){switch(t){case"topCompositionEnd":return $(e);case"topKeyPress":return 32!==e.which?null:(xi=!0,bi);case"topTextInput":return t=e.data,t===bi&&xi?null:t;default:return null}}function G(t,e){if(Ci)return"topCompositionEnd"===t||!di&&W(t,e)?(t=j(),ui._root=null,ui._startText=null,ui._fallbackText=null,Ci=!1,t):null;switch(t){case"topPaste":return null;case"topKeyPress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"topCompositionEnd":return yi?null:e.data;default:return null}}function K(t){if(t=Qn(t)){ki&&"function"===typeof ki.restoreControlledState||i("194");var e=Xn(t.stateNode);ki.restoreControlledState(t.stateNode,t.type,e)}}function Y(t){Ti?Pi?Pi.push(t):Pi=[t]:Ti=t}function X(){if(Ti){var t=Ti,e=Pi;if(Pi=Ti=null,K(t),e)for(t=0;t<e.length;t++)K(e[t])}}function Q(t,e){return t(e)}function J(t,e){if(Ii)return Q(t,e);Ii=!0;try{return Q(t,e)}finally{Ii=!1,X()}}function tt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ai[t.type]:"textarea"===e}function et(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function nt(t,e){if(!yn.canUseDOM||e&&!("addEventListener"in document))return!1;e="on"+t;var n=e in document;return n||(n=document.createElement("div"),n.setAttribute(e,"return;"),n="function"===typeof n[e]),!n&&mi&&"wheel"===t&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function it(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function rt(t){var e=it(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"function"===typeof n.get&&"function"===typeof n.set)return Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(t){i=""+t,n.set.call(this,t)}}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}function st(t){t._valueTracker||(t._valueTracker=rt(t))}function at(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=it(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function ot(t,e,n){return t=F.getPooled(Mi.change,t,e,n),t.type="change",Y(n),L(t),t}function lt(t){x(t),C(!1)}function ut(t){if(at(k(t)))return t}function ct(t,e){if("topChange"===t)return e}function ht(){Ni&&(Ni.detachEvent("onpropertychange",ft),Li=Ni=null)}function ft(t){"value"===t.propertyName&&ut(Li)&&(t=ot(Li,t,et(t)),J(lt,t))}function dt(t,e,n){"topFocus"===t?(ht(),Ni=e,Li=n,Ni.attachEvent("onpropertychange",ft)):"topBlur"===t&&ht()}function pt(t){if("topSelectionChange"===t||"topKeyUp"===t||"topKeyDown"===t)return ut(Li)}function gt(t,e){if("topClick"===t)return ut(e)}function vt(t,e){if("topInput"===t||"topChange"===t)return ut(e)}function mt(t,e,n,i){return F.call(this,t,e,n,i)}function _t(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=ji[t])&&!!e[t]}function yt(){return _t}function bt(t,e,n,i){return F.call(this,t,e,n,i)}function wt(t){return t=t.type,"string"===typeof t?t:"function"===typeof t?t.displayName||t.name:null}function xt(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(e=e.return,0!==(2&e.effectTag))return 1}return 3===e.tag?2:3}function Ct(t){return!!(t=t._reactInternalFiber)&&2===xt(t)}function St(t){2!==xt(t)&&i("188")}function kt(t){var e=t.alternate;if(!e)return e=xt(t),3===e&&i("188"),1===e?null:t;for(var n=t,r=e;;){var s=n.return,a=s?s.alternate:null;if(!s||!a)break;if(s.child===a.child){for(var o=s.child;o;){if(o===n)return St(s),t;if(o===r)return St(s),e;o=o.sibling}i("188")}if(n.return!==r.return)n=s,r=a;else{o=!1;for(var l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}o||i("189")}}n.alternate!==r&&i("190")}return 3!==n.tag&&i("188"),n.stateNode.current===n?t:e}function Tt(t){if(!(t=kt(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Pt(t){if(!(t=kt(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Et(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var n;for(n=e;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;t.ancestors.push(e),e=S(n)}while(e);for(n=0;n<t.ancestors.length;n++)e=t.ancestors[n],qi(t.topLevelType,e,t.nativeEvent,et(t.nativeEvent))}function Ot(t){Ui=!!t}function It(t,e,n){return n?xn.listen(n,e,Mt.bind(null,t)):null}function At(t,e,n){return n?xn.capture(n,e,Mt.bind(null,t)):null}function Mt(t,e){if(Ui){var n=et(e);if(n=S(n),null===n||"number"!==typeof n.tag||2===xt(n)||(n=null),Vi.length){var i=Vi.pop();i.topLevelType=t,i.nativeEvent=e,i.targetInst=n,t=i}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{J(Et,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Vi.length&&Vi.push(t)}}}function Nt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function Lt(t){if($i[t])return $i[t];if(!Wi[t])return t;var e,n=Wi[t];for(e in n)if(n.hasOwnProperty(e)&&e in Zi)return $i[t]=n[e];return""}function zt(t){return Object.prototype.hasOwnProperty.call(t,Xi)||(t[Xi]=Yi++,Ki[t[Xi]]={}),Ki[t[Xi]]}function Rt(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jt(t,e){var n=Rt(t);t=0;for(var i;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Rt(n)}}function Dt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)}function Ft(t,e){if(ir||null==tr||tr!==Cn())return null;var n=tr;return"selectionStart"in n&&Dt(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,nr&&Sn(nr,n)?null:(nr=n,t=F.getPooled(Ji.select,er,t,e),t.type="select",t.target=tr,L(t),t)}function Bt(t,e,n,i){return F.call(this,t,e,n,i)}function Vt(t,e,n,i){return F.call(this,t,e,n,i)}function Ut(t,e,n,i){return F.call(this,t,e,n,i)}function qt(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,32<=t||13===t?t:0}function Ht(t,e,n,i){return F.call(this,t,e,n,i)}function Wt(t,e,n,i){return F.call(this,t,e,n,i)}function $t(t,e,n,i){return F.call(this,t,e,n,i)}function Zt(t,e,n,i){return F.call(this,t,e,n,i)}function Gt(t,e,n,i){return F.call(this,t,e,n,i)}function Kt(t){0>hr||(t.current=cr[hr],cr[hr]=null,hr--)}function Yt(t,e){hr++,cr[hr]=t.current,t.current=e}function Xt(t){return Jt(t)?_r:vr.current}function Qt(t,e){var n=t.type.contextTypes;if(!n)return Pn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Jt(t){return 2===t.tag&&null!=t.type.childContextTypes}function te(t){Jt(t)&&(Kt(mr,t),Kt(vr,t))}function ee(t,e,n){null!=vr.cursor&&i("168"),Yt(vr,e,t),Yt(mr,n,t)}function ne(t,e){var n=t.stateNode,r=t.type.childContextTypes;if("function"!==typeof n.getChildContext)return e;n=n.getChildContext();for(var s in n)s in r||i("108",wt(t)||"Unknown",s);return bn({},e,n)}function ie(t){if(!Jt(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Pn,_r=vr.current,Yt(vr,e,t),Yt(mr,mr.current,t),!0}function re(t,e){var n=t.stateNode;if(n||i("169"),e){var r=ne(t,_r);n.__reactInternalMemoizedMergedChildContext=r,Kt(mr,t),Kt(vr,t),Yt(vr,r,t)}else Kt(mr,t);Yt(mr,e,t)}function se(t,e,n){this.tag=t,this.key=e,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function ae(t,e,n){var i=t.alternate;return null===i?(i=new se(t.tag,t.key,t.internalContextTag),i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.expirationTime=n,i.pendingProps=e,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function oe(t,e,n){var r=void 0,s=t.type,a=t.key;return"function"===typeof s?(r=s.prototype&&s.prototype.isReactComponent?new se(2,a,e):new se(0,a,e),r.type=s,r.pendingProps=t.props):"string"===typeof s?(r=new se(5,a,e),r.type=s,r.pendingProps=t.props):"object"===typeof s&&null!==s&&"number"===typeof s.tag?(r=s,r.pendingProps=t.props):i("130",null==s?s:typeof s,""),r.expirationTime=n,r}function le(t,e,n,i){return e=new se(10,i,e),e.pendingProps=t,e.expirationTime=n,e}function ue(t,e,n){return e=new se(6,null,e),e.pendingProps=t,e.expirationTime=n,e}function ce(t,e,n){return e=new se(7,t.key,e),e.type=t.handler,e.pendingProps=t,e.expirationTime=n,e}function he(t,e,n){return t=new se(9,null,e),t.expirationTime=n,t}function fe(t,e,n){return e=new se(4,t.key,e),e.pendingProps=t.children||[],e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function de(t){return function(e){try{return t(e)}catch(t){}}}function pe(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);yr=de(function(t){return e.onCommitFiberRoot(n,t)}),br=de(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}function ge(t){"function"===typeof yr&&yr(t)}function ve(t){"function"===typeof br&&br(t)}function me(t){return{baseState:t,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function _e(t,e){null===t.last?t.first=t.last=e:(t.last.next=e,t.last=e),(0===t.expirationTime||t.expirationTime>e.expirationTime)&&(t.expirationTime=e.expirationTime)}function ye(t,e){var n=t.alternate,i=t.updateQueue;null===i&&(i=t.updateQueue=me(null)),null!==n?null===(t=n.updateQueue)&&(t=n.updateQueue=me(null)):t=null,t=t!==i?t:null,null===t?_e(i,e):null===i.last||null===t.last?(_e(i,e),_e(t,e)):(_e(i,e),t.last=e)}function be(t,e,n,i){return t=t.partialState,"function"===typeof t?t.call(e,n,i):t}function we(t,e,n,i,r,s){null!==t&&t.updateQueue===n&&(n=e.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?t=n.baseState:(t=n.baseState=e.memoizedState,n.isInitialized=!0);for(var a=!0,o=n.first,l=!1;null!==o;){var u=o.expirationTime;if(u>s){var c=n.expirationTime;(0===c||c>u)&&(n.expirationTime=u),l||(l=!0,n.baseState=t)}else l||(n.first=o.next,null===n.first&&(n.last=null)),o.isReplace?(t=be(o,i,t,r),a=!0):(u=be(o,i,t,r))&&(t=a?bn({},t,u):bn(t,u),a=!1),o.isForced&&(n.hasForceUpdate=!0),null!==o.callback&&(u=n.callbackList,null===u&&(u=n.callbackList=[]),u.push(o));o=o.next}return null!==n.callbackList?e.effectTag|=32:null!==n.first||n.hasForceUpdate||(e.updateQueue=null),l||(n.baseState=t),t}function xe(t,e){var n=t.callbackList;if(null!==n)for(t.callbackList=null,t=0;t<n.length;t++){var r=n[t],s=r.callback;r.callback=null,"function"!==typeof s&&i("191",s),s.call(e)}}function Ce(t,e,n,r){function s(t,e){e.updater=a,t.stateNode=e,e._reactInternalFiber=t}var a={isMounted:Ct,enqueueSetState:function(n,i,r){n=n._reactInternalFiber,r=void 0===r?null:r;var s=e(n);ye(n,{expirationTime:s,partialState:i,callback:r,isReplace:!1,isForced:!1,nextCallback:null,next:null}),t(n,s)},enqueueReplaceState:function(n,i,r){n=n._reactInternalFiber,r=void 0===r?null:r;var s=e(n);ye(n,{expirationTime:s,partialState:i,callback:r,isReplace:!0,isForced:!1,nextCallback:null,next:null}),t(n,s)},enqueueForceUpdate:function(n,i){n=n._reactInternalFiber,i=void 0===i?null:i;var r=e(n);ye(n,{expirationTime:r,partialState:null,callback:i,isReplace:!1,isForced:!0,nextCallback:null,next:null}),t(n,r)}};return{adoptClassInstance:s,constructClassInstance:function(t,e){var n=t.type,i=Xt(t),r=2===t.tag&&null!=t.type.contextTypes,a=r?Qt(t,i):Pn;return e=new n(e,a),s(t,e),r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e},mountClassInstance:function(t,e){var n=t.alternate,r=t.stateNode,s=r.state||null,o=t.pendingProps;o||i("158");var l=Xt(t);r.props=o,r.state=t.memoizedState=s,r.refs=Pn,r.context=Qt(t,l),null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent&&(t.internalContextTag|=1),"function"===typeof r.componentWillMount&&(s=r.state,r.componentWillMount(),s!==r.state&&a.enqueueReplaceState(r,r.state,null),null!==(s=t.updateQueue)&&(r.state=we(n,t,s,r,o,e))),"function"===typeof r.componentDidMount&&(t.effectTag|=4)},updateClassInstance:function(t,e,s){var o=e.stateNode;o.props=e.memoizedProps,o.state=e.memoizedState;var l=e.memoizedProps,u=e.pendingProps;u||null==(u=l)&&i("159");var c=o.context,h=Xt(e);if(h=Qt(e,h),"function"!==typeof o.componentWillReceiveProps||l===u&&c===h||(c=o.state,o.componentWillReceiveProps(u,h),o.state!==c&&a.enqueueReplaceState(o,o.state,null)),c=e.memoizedState,s=null!==e.updateQueue?we(t,e,e.updateQueue,o,u,s):c,!(l!==u||c!==s||mr.current||null!==e.updateQueue&&e.updateQueue.hasForceUpdate))return"function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),!1;var f=u;if(null===l||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)f=!0;else{var d=e.stateNode,p=e.type;f="function"===typeof d.shouldComponentUpdate?d.shouldComponentUpdate(f,s,h):!p.prototype||!p.prototype.isPureReactComponent||(!Sn(l,f)||!Sn(c,s))}return f?("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(u,s,h),"function"===typeof o.componentDidUpdate&&(e.effectTag|=4)):("function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),n(e,u),r(e,s)),o.props=u,o.state=s,o.context=h,f}}}function Se(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wr,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}function ke(t){return null===t||"undefined"===typeof t?null:(t=Cr&&t[Cr]||t["@@iterator"],"function"===typeof t?t:null)}function Te(t,e){var n=e.ref;if(null!==n&&"function"!==typeof n){if(e._owner){e=e._owner;var r=void 0;e&&(2!==e.tag&&i("110"),r=e.stateNode),r||i("147",n);var s=""+n;return null!==t&&null!==t.ref&&t.ref._stringRef===s?t.ref:(t=function(t){var e=r.refs===Pn?r.refs={}:r.refs;null===t?delete e[s]:e[s]=t},t._stringRef=s,t)}"string"!==typeof n&&i("148"),e._owner||i("149",n)}return n}function Pe(t,e){"textarea"!==t.type&&i("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function Ee(t,e){function n(n,i){if(e){if(!t){if(null===i.alternate)return;i=i.alternate}var r=n.lastEffect;null!==r?(r.nextEffect=i,n.lastEffect=i):n.firstEffect=n.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function r(t,i){if(!e)return null;for(;null!==i;)n(t,i),i=i.sibling;return null}function s(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,n,i){return t?(e=ae(e,n,i),e.index=0,e.sibling=null,e):(e.expirationTime=i,e.effectTag=0,e.index=0,e.sibling=null,e.pendingProps=n,e)}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index,i<n?(t.effectTag=2,n):i):(t.effectTag=2,n):n}function l(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(t,e,n,i){return null===e||6!==e.tag?(e=ue(n,t.internalContextTag,i),e.return=t,e):(e=a(e,n,i),e.return=t,e)}function c(t,e,n,i){return null!==e&&e.type===n.type?(i=a(e,n.props,i),i.ref=Te(e,n),i.return=t,i):(i=oe(n,t.internalContextTag,i),i.ref=Te(e,n),i.return=t,i)}function h(t,e,n,i){return null===e||7!==e.tag?(e=ce(n,t.internalContextTag,i),e.return=t,e):(e=a(e,n,i),e.return=t,e)}function f(t,e,n,i){return null===e||9!==e.tag?(e=he(n,t.internalContextTag,i),e.type=n.value,e.return=t,e):(e=a(e,null,i),e.type=n.value,e.return=t,e)}function d(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=fe(n,t.internalContextTag,i),e.return=t,e):(e=a(e,n.children||[],i),e.return=t,e)}function p(t,e,n,i,r){return null===e||10!==e.tag?(e=le(n,t.internalContextTag,i,r),e.return=t,e):(e=a(e,n,i),e.return=t,e)}function g(t,e,n){if("string"===typeof e||"number"===typeof e)return e=ue(""+e,t.internalContextTag,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case fr:return e.type===gr?(e=le(e.props.children,t.internalContextTag,n,e.key),e.return=t,e):(n=oe(e,t.internalContextTag,n),n.ref=Te(null,e),n.return=t,n);case dr:return e=ce(e,t.internalContextTag,n),e.return=t,e;case pr:return n=he(e,t.internalContextTag,n),n.type=e.value,n.return=t,n;case wr:return e=fe(e,t.internalContextTag,n),e.return=t,e}if(xr(e)||ke(e))return e=le(e,t.internalContextTag,n,null),e.return=t,e;Pe(t,e)}return null}function v(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case fr:return n.key===r?n.type===gr?p(t,e,n.props.children,i,r):c(t,e,n,i):null;case dr:return n.key===r?h(t,e,n,i):null;case pr:return null===r?f(t,e,n,i):null;case wr:return n.key===r?d(t,e,n,i):null}if(xr(n)||ke(n))return null!==r?null:p(t,e,n,i,null);Pe(t,n)}return null}function m(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return t=t.get(n)||null,u(e,t,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case fr:return t=t.get(null===i.key?n:i.key)||null,i.type===gr?p(e,t,i.props.children,r,i.key):c(e,t,i,r);case dr:return t=t.get(null===i.key?n:i.key)||null,h(e,t,i,r);case pr:return t=t.get(n)||null,f(e,t,i,r);case wr:return t=t.get(null===i.key?n:i.key)||null,d(e,t,i,r)}if(xr(i)||ke(i))return t=t.get(n)||null,p(e,t,i,r,null);Pe(e,i)}return null}function _(t,i,a,l){for(var u=null,c=null,h=i,f=i=0,d=null;null!==h&&f<a.length;f++){h.index>f?(d=h,h=null):d=h.sibling;var p=v(t,h,a[f],l);if(null===p){null===h&&(h=d);break}e&&h&&null===p.alternate&&n(t,h),i=o(p,i,f),null===c?u=p:c.sibling=p,c=p,h=d}if(f===a.length)return r(t,h),u;if(null===h){for(;f<a.length;f++)(h=g(t,a[f],l))&&(i=o(h,i,f),null===c?u=h:c.sibling=h,c=h);return u}for(h=s(t,h);f<a.length;f++)(d=m(h,t,f,a[f],l))&&(e&&null!==d.alternate&&h.delete(null===d.key?f:d.key),i=o(d,i,f),null===c?u=d:c.sibling=d,c=d);return e&&h.forEach(function(e){return n(t,e)}),u}function y(t,a,l,u){var c=ke(l);"function"!==typeof c&&i("150"),null==(l=c.call(l))&&i("151");for(var h=c=null,f=a,d=a=0,p=null,_=l.next();null!==f&&!_.done;d++,_=l.next()){f.index>d?(p=f,f=null):p=f.sibling;var y=v(t,f,_.value,u);if(null===y){f||(f=p);break}e&&f&&null===y.alternate&&n(t,f),a=o(y,a,d),null===h?c=y:h.sibling=y,h=y,f=p}if(_.done)return r(t,f),c;if(null===f){for(;!_.done;d++,_=l.next())null!==(_=g(t,_.value,u))&&(a=o(_,a,d),null===h?c=_:h.sibling=_,h=_);return c}for(f=s(t,f);!_.done;d++,_=l.next())null!==(_=m(f,t,d,_.value,u))&&(e&&null!==_.alternate&&f.delete(null===_.key?d:_.key),a=o(_,a,d),null===h?c=_:h.sibling=_,h=_);return e&&f.forEach(function(e){return n(t,e)}),c}return function(t,e,s,o){var u="object"===typeof s&&null!==s;if(u)switch(s.$$typeof){case fr:t:{var c=s.key;for(u=e;null!==u;){if(u.key===c){if(10===u.tag?s.type===gr:u.type===s.type){r(t,u.sibling),e=a(u,s.type===gr?s.props.children:s.props,o),e.ref=Te(u,s),e.return=t,t=e;break t}r(t,u);break}n(t,u),u=u.sibling}s.type===gr?(s=le(s.props.children,t.internalContextTag,o,s.key),s.return=t,t=s):(o=oe(s,t.internalContextTag,o),o.ref=Te(e,s),o.return=t,t=o)}return l(t);case dr:t:{for(u=s.key;null!==e;){if(e.key===u){if(7===e.tag){r(t,e.sibling),s=a(e,s,o),s.return=t,t=s;break t}r(t,e);break}n(t,e),e=e.sibling}s=ce(s,t.internalContextTag,o),s.return=t,t=s}return l(t);case pr:t:{if(null!==e){if(9===e.tag){r(t,e.sibling),e=a(e,null,o),e.type=s.value,e.return=t,t=e;break t}r(t,e)}e=he(s,t.internalContextTag,o),e.type=s.value,e.return=t,t=e}return l(t);case wr:t:{for(u=s.key;null!==e;){if(e.key===u){if(4===e.tag&&e.stateNode.containerInfo===s.containerInfo&&e.stateNode.implementation===s.implementation){r(t,e.sibling),s=a(e,s.children||[],o),s.return=t,t=s;break t}r(t,e);break}n(t,e),e=e.sibling}s=fe(s,t.internalContextTag,o),s.return=t,t=s}return l(t)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==e&&6===e.tag?(r(t,e.sibling),s=a(e,s,o)):(r(t,e),s=ue(s,t.internalContextTag,o)),s.return=t,t=s,l(t);if(xr(s))return _(t,e,s,o);if(ke(s))return y(t,e,s,o);if(u&&Pe(t,s),"undefined"===typeof s)switch(t.tag){case 2:case 1:s=t.type,i("152",s.displayName||s.name||"Component")}return r(t,e)}}function Oe(t,e,n,r,s){function a(t,e,n){o(t,e,n,e.expirationTime)}function o(t,e,n,i){e.child=null===t?Tr(e,e.child,n,i):t.child===e.child?Sr(e,e.child,n,i):kr(e,e.child,n,i)}function l(t,e){var n=e.ref;null===n||t&&t.ref===n||(e.effectTag|=128)}function u(t,e,n,i){if(l(t,e),!n)return i&&re(e,!1),h(t,e);n=e.stateNode,Bi.current=e;var r=n.render();return e.effectTag|=1,a(t,e,r),e.memoizedState=n.state,e.memoizedProps=n.props,i&&re(e,!0),e.child}function c(t){var e=t.stateNode;e.pendingContext?ee(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ee(t,e.context,!1),m(t,e.containerInfo)}function h(t,e){if(null!==t&&e.child!==t.child&&i("153"),null!==e.child){t=e.child;var n=ae(t,t.pendingProps,t.expirationTime);for(e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=ae(t,t.pendingProps,t.expirationTime),n.return=e;n.sibling=null}return e.child}function f(t,e){switch(e.tag){case 3:c(e);break;case 2:ie(e);break;case 4:m(e,e.stateNode.containerInfo)}return null}var d=t.shouldSetTextContent,p=t.useSyncScheduling,g=t.shouldDeprioritizeSubtree,v=e.pushHostContext,m=e.pushHostContainer,_=n.enterHydrationState,y=n.resetHydrationState,b=n.tryToClaimNextHydratableInstance;t=Ce(r,s,function(t,e){t.memoizedProps=e},function(t,e){t.memoizedState=e});var w=t.adoptClassInstance,x=t.constructClassInstance,C=t.mountClassInstance,S=t.updateClassInstance;return{beginWork:function(t,e,n){if(0===e.expirationTime||e.expirationTime>n)return f(t,e);switch(e.tag){case 0:null!==t&&i("155");var r=e.type,s=e.pendingProps,o=Xt(e);return o=Qt(e,o),r=r(s,o),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render?(e.tag=2,s=ie(e),w(e,r),C(e,n),e=u(t,e,!0,s)):(e.tag=1,a(t,e,r),e.memoizedProps=s,e=e.child),e;case 1:t:{if(s=e.type,n=e.pendingProps,r=e.memoizedProps,mr.current)null===n&&(n=r);else if(null===n||r===n){e=h(t,e);break t}r=Xt(e),r=Qt(e,r),s=s(n,r),e.effectTag|=1,a(t,e,s),e.memoizedProps=n,e=e.child}return e;case 2:return s=ie(e),r=void 0,null===t?e.stateNode?i("153"):(x(e,e.pendingProps),C(e,n),r=!0):r=S(t,e,n),u(t,e,r,s);case 3:return c(e),s=e.updateQueue,null!==s?(r=e.memoizedState,s=we(t,e,s,null,null,n),r===s?(y(),e=h(t,e)):(r=s.element,o=e.stateNode,(null===t||null===t.child)&&o.hydrate&&_(e)?(e.effectTag|=2,e.child=Tr(e,e.child,r,n)):(y(),a(t,e,r)),e.memoizedState=s,e=e.child)):(y(),e=h(t,e)),e;case 5:v(e),null===t&&b(e),s=e.type;var k=e.memoizedProps;return r=e.pendingProps,null===r&&null===(r=k)&&i("154"),o=null!==t?t.memoizedProps:null,mr.current||null!==r&&k!==r?(k=r.children,d(s,r)?k=null:o&&d(s,o)&&(e.effectTag|=16),l(t,e),2147483647!==n&&!p&&g(s,r)?(e.expirationTime=2147483647,e=null):(a(t,e,k),e.memoizedProps=r,e=e.child)):e=h(t,e),e;case 6:return null===t&&b(e),t=e.pendingProps,null===t&&(t=e.memoizedProps),e.memoizedProps=t,null;case 8:e.tag=7;case 7:return s=e.pendingProps,mr.current?null===s&&null===(s=t&&t.memoizedProps)&&i("154"):null!==s&&e.memoizedProps!==s||(s=e.memoizedProps),r=s.children,e.stateNode=null===t?Tr(e,e.stateNode,r,n):t.child===e.child?Sr(e,e.stateNode,r,n):kr(e,e.stateNode,r,n),e.memoizedProps=s,e.stateNode;case 9:return null;case 4:t:{if(m(e,e.stateNode.containerInfo),s=e.pendingProps,mr.current)null===s&&null==(s=t&&t.memoizedProps)&&i("154");else if(null===s||e.memoizedProps===s){e=h(t,e);break t}null===t?e.child=kr(e,e.child,s,n):a(t,e,s),e.memoizedProps=s,e=e.child}return e;case 10:t:{if(n=e.pendingProps,mr.current)null===n&&(n=e.memoizedProps);else if(null===n||e.memoizedProps===n){e=h(t,e);break t}a(t,e,n),e.memoizedProps=n,e=e.child}return e;default:i("156")}},beginFailedWork:function(t,e,n){switch(e.tag){case 2:ie(e);break;case 3:c(e);break;default:i("157")}return e.effectTag|=64,null===t?e.child=null:e.child!==t.child&&(e.child=t.child),0===e.expirationTime||e.expirationTime>n?f(t,e):(e.firstEffect=null,e.lastEffect=null,o(t,e,null,n),2===e.tag&&(t=e.stateNode,e.memoizedProps=t.props,e.memoizedState=t.state),e.child)}}}function Ie(t,e,n){function r(t){t.effectTag|=4}var s=t.createInstance,a=t.createTextInstance,o=t.appendInitialChild,l=t.finalizeInitialChildren,u=t.prepareUpdate,c=t.persistence,h=e.getRootHostContainer,f=e.popHostContext,d=e.getHostContext,p=e.popHostContainer,g=n.prepareToHydrateHostInstance,v=n.prepareToHydrateHostTextInstance,m=n.popHydrationState,_=void 0,y=void 0,b=void 0;return t.mutation?(_=function(){},y=function(t,e,n){(e.updateQueue=n)&&r(e)},b=function(t,e,n,i){n!==i&&r(e)}):i(c?"235":"236"),{completeWork:function(t,e,n){var c=e.pendingProps;switch(null===c?c=e.memoizedProps:2147483647===e.expirationTime&&2147483647!==n||(e.pendingProps=null),e.tag){case 1:return null;case 2:return te(e),null;case 3:return p(e),Kt(mr,e),Kt(vr,e),c=e.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==t&&null!==t.child||(m(e),e.effectTag&=-3),_(e),null;case 5:f(e),n=h();var w=e.type;if(null!==t&&null!=e.stateNode){var x=t.memoizedProps,C=e.stateNode,S=d();C=u(C,w,x,c,n,S),y(t,e,C,w,x,c,n),t.ref!==e.ref&&(e.effectTag|=128)}else{if(!c)return null===e.stateNode&&i("166"),null;if(t=d(),m(e))g(e,n,t)&&r(e);else{t=s(w,c,n,t,e);t:for(x=e.child;null!==x;){if(5===x.tag||6===x.tag)o(t,x.stateNode);else if(4!==x.tag&&null!==x.child){x.child.return=x,x=x.child;continue}if(x===e)break;for(;null===x.sibling;){if(null===x.return||x.return===e)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}l(t,w,c,n)&&r(e),e.stateNode=t}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)b(t,e,t.memoizedProps,c);else{if("string"!==typeof c)return null===e.stateNode&&i("166"),null;t=h(),n=d(),m(e)?v(e)&&r(e):e.stateNode=a(c,t,n,e)}return null;case 7:(c=e.memoizedProps)||i("165"),e.tag=8,w=[];t:for((x=e.stateNode)&&(x.return=e);null!==x;){if(5===x.tag||6===x.tag||4===x.tag)i("247");else if(9===x.tag)w.push(x.type);else if(null!==x.child){x.child.return=x,x=x.child;continue}for(;null===x.sibling;){if(null===x.return||x.return===e)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}return x=c.handler,c=x(c.props,w),e.child=Sr(e,null!==t?t.child:null,c,n),e.child;case 8:return e.tag=7,null;case 9:case 10:return null;case 4:return p(e),_(e),null;case 0:i("167");default:i("156")}}}}function Ae(t,e){function n(t){var n=t.ref;if(null!==n)try{n(null)}catch(n){e(t,n)}}function r(t){switch("function"===typeof ve&&ve(t),t.tag){case 2:n(t);var i=t.stateNode;if("function"===typeof i.componentWillUnmount)try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(n){e(t,n)}break;case 5:n(t);break;case 7:s(t.stateNode);break;case 4:u&&o(t)}}function s(t){for(var e=t;;)if(r(e),null===e.child||u&&4===e.tag){if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}else e.child.return=e,e=e.child}function a(t){return 5===t.tag||3===t.tag||4===t.tag}function o(t){for(var e=t,n=!1,a=void 0,o=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&i("160"),n.tag){case 5:a=n.stateNode,o=!1;break t;case 3:case 4:a=n.stateNode.containerInfo,o=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag)s(e),o?y(a,e.stateNode):_(a,e.stateNode);else if(4===e.tag?a=e.stateNode.containerInfo:r(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return,4===e.tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}var l=t.getPublicInstance,u=t.mutation;t=t.persistence,u||i(t?"235":"236");var c=u.commitMount,h=u.commitUpdate,f=u.resetTextContent,d=u.commitTextUpdate,p=u.appendChild,g=u.appendChildToContainer,v=u.insertBefore,m=u.insertInContainerBefore,_=u.removeChild,y=u.removeChildFromContainer;return{commitResetTextContent:function(t){f(t.stateNode)},commitPlacement:function(t){t:{for(var e=t.return;null!==e;){if(a(e)){var n=e;break t}e=e.return}i("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:i("161")}16&n.effectTag&&(f(e),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||a(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var s=t;;){if(5===s.tag||6===s.tag)n?r?m(e,s.stateNode,n):v(e,s.stateNode,n):r?g(e,s.stateNode):p(e,s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},commitDeletion:function(t){o(t),t.return=null,t.child=null,t.alternate&&(t.alternate.child=null,t.alternate.return=null)},commitWork:function(t,e){switch(e.tag){case 2:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var s=e.type,a=e.updateQueue;e.updateQueue=null,null!==a&&h(n,a,s,t,r,e)}break;case 6:null===e.stateNode&&i("162"),n=e.memoizedProps,d(e.stateNode,null!==t?t.memoizedProps:n,n);break;case 3:break;default:i("163")}},commitLifeCycles:function(t,e){switch(e.tag){case 2:var n=e.stateNode;if(4&e.effectTag)if(null===t)n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidMount();else{var r=t.memoizedProps;t=t.memoizedState,n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidUpdate(r,t)}e=e.updateQueue,null!==e&&xe(e,n);break;case 3:n=e.updateQueue,null!==n&&xe(n,null!==e.child?e.child.stateNode:null);break;case 5:n=e.stateNode,null===t&&4&e.effectTag&&c(n,e.type,e.memoizedProps,e);break;case 6:case 4:break;default:i("163")}},commitAttachRef:function(t){var e=t.ref;if(null!==e){var n=t.stateNode;switch(t.tag){case 5:e(l(n));break;default:e(n)}}},commitDetachRef:function(t){null!==(t=t.ref)&&t(null)}}}function Me(t){function e(t){return t===Pr&&i("174"),t}var n=t.getChildHostContext,r=t.getRootHostContext,s={current:Pr},a={current:Pr},o={current:Pr};return{getHostContext:function(){return e(s.current)},getRootHostContainer:function(){return e(o.current)},popHostContainer:function(t){Kt(s,t),Kt(a,t),Kt(o,t)},popHostContext:function(t){a.current===t&&(Kt(s,t),Kt(a,t))},pushHostContainer:function(t,e){Yt(o,e,t),e=r(e),Yt(a,t,t),Yt(s,e,t)},pushHostContext:function(t){var i=e(o.current),r=e(s.current);i=n(r,t.type,i),r!==i&&(Yt(a,t,t),Yt(s,i,t))},resetHostContainer:function(){s.current=Pr,o.current=Pr}}}function Ne(t){function e(t,e){var n=new se(5,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function n(t,e){switch(t.tag){case 5:return null!==(e=a(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=o(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function r(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;f=t}var s=t.shouldSetTextContent;if(!(t=t.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){i("175")},prepareToHydrateHostTextInstance:function(){i("176")},popHydrationState:function(){return!1}};var a=t.canHydrateInstance,o=t.canHydrateTextInstance,l=t.getNextHydratableSibling,u=t.getFirstHydratableChild,c=t.hydrateInstance,h=t.hydrateTextInstance,f=null,d=null,p=!1;return{enterHydrationState:function(t){return d=u(t.stateNode.containerInfo),f=t,p=!0},resetHydrationState:function(){d=f=null,p=!1},tryToClaimNextHydratableInstance:function(t){if(p){var i=d;if(i){if(!n(t,i)){if(!(i=l(i))||!n(t,i))return t.effectTag|=2,p=!1,void(f=t);e(f,d)}f=t,d=u(i)}else t.effectTag|=2,p=!1,f=t}},prepareToHydrateHostInstance:function(t,e,n){return e=c(t.stateNode,t.type,t.memoizedProps,e,n,t),t.updateQueue=e,null!==e},prepareToHydrateHostTextInstance:function(t){return h(t.stateNode,t.memoizedProps,t)},popHydrationState:function(t){if(t!==f)return!1;if(!p)return r(t),p=!0,!1;var n=t.type;if(5!==t.tag||"head"!==n&&"body"!==n&&!s(n,t.memoizedProps))for(n=d;n;)e(t,n),n=l(n);return r(t),d=f?l(t.stateNode):null,!0}}}function Le(t){function e(t){it=Z=!0;var e=t.stateNode;if(e.current===t&&i("177"),e.isReadyForCommit=!1,Bi.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var n=t.firstEffect}else n=t;else n=t.firstEffect;for(U(),X=n;null!==X;){var r=!1,s=void 0;try{for(;null!==X;){var a=X.effectTag;if(16&a&&M(X),128&a){var o=X.alternate;null!==o&&D(o)}switch(-242&a){case 2:N(X),X.effectTag&=-3;break;case 6:N(X),X.effectTag&=-3,z(X.alternate,X);break;case 4:z(X.alternate,X);break;case 8:rt=!0,L(X),rt=!1}X=X.nextEffect}}catch(t){r=!0,s=t}r&&(null===X&&i("178"),l(X,s),null!==X&&(X=X.nextEffect))}for(q(),e.current=t,X=n;null!==X;){n=!1,r=void 0;try{for(;null!==X;){var u=X.effectTag;if(36&u&&R(X.alternate,X),128&u&&j(X),64&u)switch(s=X,a=void 0,null!==Q&&(a=Q.get(s),Q.delete(s),null==a&&null!==s.alternate&&(s=s.alternate,a=Q.get(s),Q.delete(s))),null==a&&i("184"),s.tag){case 2:s.stateNode.componentDidCatch(a.error,{componentStack:a.componentStack});break;case 3:null===et&&(et=a.error);break;default:i("157")}var c=X.nextEffect;X.nextEffect=null,X=c}}catch(t){n=!0,r=t}n&&(null===X&&i("178"),l(X,r),null!==X&&(X=X.nextEffect))}return Z=it=!1,"function"===typeof ge&&ge(t.stateNode),tt&&(tt.forEach(g),tt=null),null!==et&&(t=et,et=null,x(t)),e=e.current.expirationTime,0===e&&(J=Q=null),e}function n(t){for(;;){var e=A(t.alternate,t,Y),n=t.return,i=t.sibling,r=t;if(2147483647===Y||2147483647!==r.expirationTime){if(2!==r.tag&&3!==r.tag)var s=0;else s=r.updateQueue,s=null===s?0:s.expirationTime;for(var a=r.child;null!==a;)0!==a.expirationTime&&(0===s||s>a.expirationTime)&&(s=a.expirationTime),a=a.sibling;r.expirationTime=s}if(null!==e)return e;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t)),null!==i)return i;if(null===n){t.stateNode.isReadyForCommit=!0;break}t=n}return null}function r(t){var e=O(t.alternate,t,Y);return null===e&&(e=n(t)),Bi.current=null,e}function s(t){var e=I(t.alternate,t,Y);return null===e&&(e=n(t)),Bi.current=null,e}function a(t){if(null!==Q){if(!(0===Y||Y>t))if(Y<=W)for(;null!==G;)G=u(G)?s(G):r(G);else for(;null!==G&&!w();)G=u(G)?s(G):r(G)}else if(!(0===Y||Y>t))if(Y<=W)for(;null!==G;)G=r(G);else for(;null!==G&&!w();)G=r(G)}function o(t,e){if(Z&&i("243"),Z=!0,t.isReadyForCommit=!1,t!==K||e!==Y||null===G){for(;-1<hr;)cr[hr]=null,hr--;_r=Pn,vr.current=Pn,mr.current=!1,P(),K=t,Y=e,G=ae(K.current,null,e)}var n=!1,r=null;try{a(e)}catch(t){n=!0,r=t}for(;n;){if(nt){et=r;break}var o=G;if(null===o)nt=!0;else{var u=l(o,r);if(null===u&&i("183"),!nt){try{for(n=u,r=e,u=n;null!==o;){switch(o.tag){case 2:te(o);break;case 5:T(o);break;case 3:k(o);break;case 4:k(o)}if(o===u||o.alternate===u)break;o=o.return}G=s(n),a(r)}catch(t){n=!0,r=t;continue}break}}}return e=et,nt=Z=!1,et=null,null!==e&&x(e),t.isReadyForCommit?t.current.alternate:null}function l(t,e){var n=Bi.current=null,i=!1,r=!1,s=null;if(3===t.tag)n=t,c(t)&&(nt=!0);else for(var a=t.return;null!==a&&null===n;){if(2===a.tag?"function"===typeof a.stateNode.componentDidCatch&&(i=!0,s=wt(a),n=a,r=!0):3===a.tag&&(n=a),c(a)){if(rt||null!==tt&&(tt.has(a)||null!==a.alternate&&tt.has(a.alternate)))return null;n=null,r=!1}a=a.return}if(null!==n){null===J&&(J=new Set),J.add(n);var o="";a=t;do{t:switch(a.tag){case 0:case 1:case 2:case 5:var l=a._debugOwner,u=a._debugSource,h=wt(a),f=null;l&&(f=wt(l)),l=u,h="\n    in "+(h||"Unknown")+(l?" (at "+l.fileName.replace(/^.*[\\\/]/,"")+":"+l.lineNumber+")":f?" (created by "+f+")":"");break t;default:h=""}o+=h,a=a.return}while(a);a=o,t=wt(t),null===Q&&(Q=new Map),e={componentName:t,componentStack:a,error:e,errorBoundary:i?n.stateNode:null,errorBoundaryFound:i,errorBoundaryName:s,willRetry:r},Q.set(n,e);try{console.error(e.error)}catch(t){console.error(t)}return it?(null===tt&&(tt=new Set),tt.add(n)):g(n),n}return null===et&&(et=e),null}function u(t){return null!==Q&&(Q.has(t)||null!==t.alternate&&Q.has(t.alternate))}function c(t){return null!==J&&(J.has(t)||null!==t.alternate&&J.has(t.alternate))}function h(){return 20*(1+((v()+100)/20|0))}function f(t){return 0!==$?$:Z?it?1:Y:!V||1&t.internalContextTag?h():1}function d(t,e){return p(t,e,!1)}function p(t,e){for(;null!==t;){if((0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>e)&&(t.alternate.expirationTime=e),null===t.return){if(3!==t.tag)break;var n=t.stateNode;!Z&&n===K&&e<=Y&&(G=K=null,Y=0);var r=e;if(_t>mt&&i("185"),null===n.nextScheduledRoot)n.remainingExpirationTime=r,null===at?(st=at=n,n.nextScheduledRoot=n):(at=at.nextScheduledRoot=n,at.nextScheduledRoot=st);else{var s=n.remainingExpirationTime;(0===s||r<s)&&(n.remainingExpirationTime=r)}lt||(gt?vt&&b(n,1):1===r?y(1,null):ot||(ot=!0,B(_)))}t=t.return}}function g(t){p(t,1,!0)}function v(){return W=2+((F()-H)/10|0)}function m(){var t=0,e=null;if(null!==at)for(var n=at,r=st;null!==r;){var s=r.remainingExpirationTime;if(0===s){if((null===n||null===at)&&i("244"),r===r.nextScheduledRoot){st=at=r.nextScheduledRoot=null;break}if(r===st)st=s=r.nextScheduledRoot,at.nextScheduledRoot=s,r.nextScheduledRoot=null;else{if(r===at){at=n,at.nextScheduledRoot=st,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===t||s<t)&&(t=s,e=r),r===at)break;n=r,r=r.nextScheduledRoot}}n=ut,null!==n&&n===e?_t++:_t=0,ut=e,ct=t}function _(t){y(0,t)}function y(t,e){for(pt=e,m();null!==ut&&0!==ct&&(0===t||ct<=t)&&!ht;)b(ut,ct),m();if(null!==pt&&(ot=!1),null===ut||ot||(ot=!0,B(_)),pt=null,ht=!1,_t=0,ft)throw t=dt,dt=null,ft=!1,t}function b(t,n){if(lt&&i("245"),lt=!0,n<=v()){var r=t.finishedWork;null!==r?(t.finishedWork=null,t.remainingExpirationTime=e(r)):(t.finishedWork=null,null!==(r=o(t,n))&&(t.remainingExpirationTime=e(r)))}else r=t.finishedWork,null!==r?(t.finishedWork=null,t.remainingExpirationTime=e(r)):(t.finishedWork=null,null!==(r=o(t,n))&&(w()?t.finishedWork=r:t.remainingExpirationTime=e(r)));lt=!1}function w(){return!(null===pt||pt.timeRemaining()>yt)&&(ht=!0)}function x(t){null===ut&&i("246"),ut.remainingExpirationTime=0,ft||(ft=!0,dt=t)}var C=Me(t),S=Ne(t),k=C.popHostContainer,T=C.popHostContext,P=C.resetHostContainer,E=Oe(t,C,S,d,f),O=E.beginWork,I=E.beginFailedWork,A=Ie(t,C,S).completeWork;C=Ae(t,l);var M=C.commitResetTextContent,N=C.commitPlacement,L=C.commitDeletion,z=C.commitWork,R=C.commitLifeCycles,j=C.commitAttachRef,D=C.commitDetachRef,F=t.now,B=t.scheduleDeferredCallback,V=t.useSyncScheduling,U=t.prepareForCommit,q=t.resetAfterCommit,H=F(),W=2,$=0,Z=!1,G=null,K=null,Y=0,X=null,Q=null,J=null,tt=null,et=null,nt=!1,it=!1,rt=!1,st=null,at=null,ot=!1,lt=!1,ut=null,ct=0,ht=!1,ft=!1,dt=null,pt=null,gt=!1,vt=!1,mt=1e3,_t=0,yt=1;return{computeAsyncExpiration:h,computeExpirationForFiber:f,scheduleWork:d,batchedUpdates:function(t,e){var n=gt;gt=!0;try{return t(e)}finally{(gt=n)||lt||y(1,null)}},unbatchedUpdates:function(t){if(gt&&!vt){vt=!0;try{return t()}finally{vt=!1}}return t()},flushSync:function(t){var e=gt;gt=!0;try{t:{var n=$;$=1;try{var r=t();break t}finally{$=n}r=void 0}return r}finally{gt=e,lt&&i("187"),y(1,null)}},deferredUpdates:function(t){var e=$;$=h();try{return t()}finally{$=e}}}}function ze(t){function e(t){return t=Tt(t),null===t?null:t.stateNode}var n=t.getPublicInstance;t=Le(t);var r=t.computeAsyncExpiration,s=t.computeExpirationForFiber,a=t.scheduleWork;return{createContainer:function(t,e){var n=new se(3,null,0);return t={current:n,containerInfo:t,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:e,nextScheduledRoot:null},n.stateNode=t},updateContainer:function(t,e,n,o){var l=e.current;if(n){n=n._reactInternalFiber;var u;t:{for(2===xt(n)&&2===n.tag||i("170"),u=n;3!==u.tag;){if(Jt(u)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}(u=u.return)||i("171")}u=u.stateNode.context}n=Jt(n)?ne(n,u):u}else n=Pn;null===e.context?e.context=n:e.pendingContext=n,e=o,e=void 0===e?null:e,o=null!=t&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent?r():s(l),ye(l,{expirationTime:o,partialState:{element:t},callback:e,isReplace:!1,isForced:!1,nextCallback:null,next:null}),a(l,o)},batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,flushSync:t.flushSync,getPublicRootInstance:function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return n(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:e,findHostInstanceWithNoPortals:function(t){return t=Pt(t),null===t?null:t.stateNode},injectIntoDevTools:function(t){var n=t.findFiberByHostInstance;return pe(bn({},t,{findHostInstanceByFiber:function(t){return e(t)},findFiberByHostInstance:function(t){return n?n(t):null}}))}}}function Re(t){return!!Wr.hasOwnProperty(t)||!Hr.hasOwnProperty(t)&&(qr.test(t)?Wr[t]=!0:(Hr[t]=!0,!1))}function je(t,e,n){var i=a(e);if(i&&s(e,n)){var r=i.mutationMethod;r?r(t,n):null==n||i.hasBooleanValue&&!n||i.hasNumericValue&&isNaN(n)||i.hasPositiveNumericValue&&1>n||i.hasOverloadedBooleanValue&&!1===n?Fe(t,e):i.mustUseProperty?t[i.propertyName]=n:(e=i.attributeName,(r=i.attributeNamespace)?t.setAttributeNS(r,e,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&!0===n?t.setAttribute(e,""):t.setAttribute(e,""+n))}else De(t,e,s(e,n)?n:null)}function De(t,e,n){Re(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))}function Fe(t,e){var n=a(e);n?(e=n.mutationMethod)?e(t,void 0):n.mustUseProperty?t[n.propertyName]=!n.hasBooleanValue&&"":t.removeAttribute(n.attributeName):t.removeAttribute(e)}function Be(t,e){var n=e.value,i=e.checked;return bn({type:void 0,step:void 0,min:void 0,max:void 0},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=i?i:t._wrapperState.initialChecked})}function Ve(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ue(t,e){var n=e.checked;null!=n&&je(t,"checked",n||!1),n=e.value,null!=n?0===n&&""===t.value?t.value="0":"number"===e.type?(e=parseFloat(t.value)||0,(n!=e||n==e&&t.value!=n)&&(t.value=""+n)):t.value!==""+n&&(t.value=""+n):(null==e.value&&null!=e.defaultValue&&t.defaultValue!==""+e.defaultValue&&(t.defaultValue=""+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked))}function qe(t,e){switch(e.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":t.value="",t.value=t.defaultValue;break;default:t.value=t.value}e=t.name,""!==e&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==e&&(t.name=e)}function He(t){var e="";return _n.Children.forEach(t,function(t){null==t||"string"!==typeof t&&"number"!==typeof t||(e+=t)}),e}function We(t,e){return t=bn({children:void 0},e),(e=He(e.children))&&(t.children=e),t}function $e(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+n,e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Ze(t,e){var n=e.value;t._wrapperState={initialValue:null!=n?n:e.defaultValue,wasMultiple:!!e.multiple}}function Ge(t,e){return null!=e.dangerouslySetInnerHTML&&i("91"),bn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ke(t,e){var n=e.value,r=n;null==n&&(n=e.defaultValue,e=e.children,null!=e&&(null!=n&&i("92"),Array.isArray(e)&&(1>=e.length||i("93"),e=e[0]),n=""+e),null==n&&(n=""),r=n),t._wrapperState={initialValue:""+r}}function Ye(t,e){var n=e.value;null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&(t.defaultValue=n)),null!=e.defaultValue&&(t.defaultValue=e.defaultValue)}function Xe(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}function Qe(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Qe(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function tn(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function en(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=n,s=e[n];r=null==s||"boolean"===typeof s||""===s?"":i||"number"!==typeof s||0===s||Xr.hasOwnProperty(r)&&Xr[r]?(""+s).trim():s+"px","float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}function nn(t,e,n){e&&(Jr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&i("137",t,n()),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&i("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||i("61")),null!=e.style&&"object"!==typeof e.style&&i("62",n()))}function rn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function sn(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=zt(t);e=Kn[e];for(var i=0;i<e.length;i++){var r=e[i];n.hasOwnProperty(r)&&n[r]||("topWheel"===r?nt("wheel")?It("topWheel","wheel",t):nt("mousewheel")?It("topWheel","mousewheel",t):It("topWheel","DOMMouseScroll",t):"topScroll"===r?At("topScroll","scroll",t):"topFocus"===r||"topBlur"===r?(At("topFocus","focus",t),At("topBlur","blur",t),n.topBlur=!0,n.topFocus=!0):"topCancel"===r?(nt("cancel",!0)&&At("topCancel","cancel",t),n.topCancel=!0):"topClose"===r?(nt("close",!0)&&At("topClose","close",t),n.topClose=!0):Gi.hasOwnProperty(r)&&It(r,Gi[r],t),n[r]=!0)}}function an(t,e,n,i){return n=9===n.nodeType?n:n.ownerDocument,i===ts&&(i=Qe(t)),i===ts?"script"===t?(t=n.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):t="string"===typeof e.is?n.createElement(t,{is:e.is}):n.createElement(t):t=n.createElementNS(i,t),t}function on(t,e){return(9===e.nodeType?e:e.ownerDocument).createTextNode(t)}function ln(t,e,n,i){var r=rn(e,n);switch(e){case"iframe":case"object":It("topLoad","load",t);var s=n;break;case"video":case"audio":for(s in ns)ns.hasOwnProperty(s)&&It(s,ns[s],t);s=n;break;case"source":It("topError","error",t),s=n;break;case"img":case"image":It("topError","error",t),It("topLoad","load",t),s=n;break;case"form":It("topReset","reset",t),It("topSubmit","submit",t),s=n;break;case"details":It("topToggle","toggle",t),s=n;break;case"input":Ve(t,n),s=Be(t,n),It("topInvalid","invalid",t),sn(i,"onChange");break;case"option":s=We(t,n);break;case"select":Ze(t,n),s=bn({},n,{value:void 0}),It("topInvalid","invalid",t),sn(i,"onChange");break;case"textarea":Ke(t,n),s=Ge(t,n),It("topInvalid","invalid",t),sn(i,"onChange");break;default:s=n}nn(e,s,es);var a,o=s;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];"style"===a?en(t,l,es):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&Gr(t,l):"children"===a?"string"===typeof l?("textarea"!==e||""!==l)&&Yr(t,l):"number"===typeof l&&Yr(t,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Gn.hasOwnProperty(a)?null!=l&&sn(i,a):r?De(t,a,l):null!=l&&je(t,a,l))}switch(e){case"input":st(t),qe(t,n);break;case"textarea":st(t),Xe(t,n);break;case"option":null!=n.value&&t.setAttribute("value",n.value);break;case"select":t.multiple=!!n.multiple,e=n.value,null!=e?$e(t,!!n.multiple,e,!1):null!=n.defaultValue&&$e(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof s.onClick&&(t.onclick=wn)}}function un(t,e,n,i,r){var s=null;switch(e){case"input":n=Be(t,n),i=Be(t,i),s=[];break;case"option":n=We(t,n),i=We(t,i),s=[];break;case"select":n=bn({},n,{value:void 0}),i=bn({},i,{value:void 0}),s=[];break;case"textarea":n=Ge(t,n),i=Ge(t,i),s=[];break;default:"function"!==typeof n.onClick&&"function"===typeof i.onClick&&(t.onclick=wn)}nn(e,i,es);var a,o;t=null;for(a in n)if(!i.hasOwnProperty(a)&&n.hasOwnProperty(a)&&null!=n[a])if("style"===a)for(o in e=n[a])e.hasOwnProperty(o)&&(t||(t={}),t[o]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Gn.hasOwnProperty(a)?s||(s=[]):(s=s||[]).push(a,null));for(a in i){var l=i[a];if(e=null!=n?n[a]:void 0,i.hasOwnProperty(a)&&l!==e&&(null!=l||null!=e))if("style"===a)if(e){for(o in e)!e.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&e[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(a,t)),t=l;else"dangerouslySetInnerHTML"===a?(l=l?l.__html:void 0,e=e?e.__html:void 0,null!=l&&e!==l&&(s=s||[]).push(a,""+l)):"children"===a?e===l||"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(a,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(Gn.hasOwnProperty(a)?(null!=l&&sn(r,a),s||e===l||(s=[])):(s=s||[]).push(a,l))}return t&&(s=s||[]).push("style",t),s}function cn(t,e,n,i,r){rn(n,i),i=rn(n,r);for(var s=0;s<e.length;s+=2){var a=e[s],o=e[s+1];"style"===a?en(t,o,es):"dangerouslySetInnerHTML"===a?Gr(t,o):"children"===a?Yr(t,o):i?null!=o?De(t,a,o):t.removeAttribute(a):null!=o?je(t,a,o):Fe(t,a)}switch(n){case"input":Ue(t,r),at(t);break;case"textarea":Ye(t,r);break;case"select":t._wrapperState.initialValue=void 0,e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,n=r.value,null!=n?$e(t,!!r.multiple,n,!1):e!==!!r.multiple&&(null!=r.defaultValue?$e(t,!!r.multiple,r.defaultValue,!0):$e(t,!!r.multiple,r.multiple?[]:"",!1))}}function hn(t,e,n,i,r){switch(e){case"iframe":case"object":It("topLoad","load",t);break;case"video":case"audio":for(var s in ns)ns.hasOwnProperty(s)&&It(s,ns[s],t);break;case"source":It("topError","error",t);break;case"img":case"image":It("topError","error",t),It("topLoad","load",t);break;case"form":It("topReset","reset",t),It("topSubmit","submit",t);break;case"details":It("topToggle","toggle",t);break;case"input":Ve(t,n),It("topInvalid","invalid",t),sn(r,"onChange");break;case"select":Ze(t,n),It("topInvalid","invalid",t),sn(r,"onChange");break;case"textarea":Ke(t,n),It("topInvalid","invalid",t),sn(r,"onChange")}nn(e,n,es),i=null;for(var a in n)n.hasOwnProperty(a)&&(s=n[a],"children"===a?"string"===typeof s?t.textContent!==s&&(i=["children",s]):"number"===typeof s&&t.textContent!==""+s&&(i=["children",""+s]):Gn.hasOwnProperty(a)&&null!=s&&sn(r,a));switch(e){case"input":st(t),qe(t,n);break;case"textarea":st(t),Xe(t,n);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(t.onclick=wn)}return i}function fn(t,e){return t.nodeValue!==e}function dn(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function pn(t){return!(!(t=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))}function gn(t,e,n,r,s){dn(n)||i("200");var a=n._reactRootContainer;if(a)as.updateContainer(e,a,t,s);else{if(!(r=r||pn(n)))for(a=void 0;a=n.lastChild;)n.removeChild(a);var o=as.createContainer(n,r);a=n._reactRootContainer=o,as.unbatchedUpdates(function(){as.updateContainer(e,o,t,s)})}return as.getPublicRootInstance(a)}function vn(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return dn(e)||i("200"),Se(t,e,null,n)}function mn(t,e){this._reactRootContainer=as.createContainer(t,e)}var _n=n(0),yn=n(37),bn=n(2),wn=n(4),xn=n(38),Cn=n(39),Sn=n(16),kn=n(40),Tn=n(43),Pn=n(15);_n||i("227");var En={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},On={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=On,n=t.Properties||{},s=t.DOMAttributeNamespaces||{},a=t.DOMAttributeNames||{};t=t.DOMMutationMethods||{};for(var o in n){In.hasOwnProperty(o)&&i("48",o);var l=o.toLowerCase(),u=n[o];l={attributeName:l,attributeNamespace:null,propertyName:o,mutationMethod:null,mustUseProperty:r(u,e.MUST_USE_PROPERTY),hasBooleanValue:r(u,e.HAS_BOOLEAN_VALUE),hasNumericValue:r(u,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(u,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(u,e.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:r(u,e.HAS_STRING_BOOLEAN_VALUE)},1>=l.hasBooleanValue+l.hasNumericValue+l.hasOverloadedBooleanValue||i("50",o),a.hasOwnProperty(o)&&(l.attributeName=a[o]),s.hasOwnProperty(o)&&(l.attributeNamespace=s[o]),t.hasOwnProperty(o)&&(l.mutationMethod=t[o]),In[o]=l}}},In={},An=On,Mn=An.MUST_USE_PROPERTY,Nn=An.HAS_BOOLEAN_VALUE,Ln=An.HAS_NUMERIC_VALUE,zn=An.HAS_POSITIVE_NUMERIC_VALUE,Rn=An.HAS_OVERLOADED_BOOLEAN_VALUE,jn=An.HAS_STRING_BOOLEAN_VALUE,Dn={Properties:{allowFullScreen:Nn,async:Nn,autoFocus:Nn,autoPlay:Nn,capture:Rn,checked:Mn|Nn,cols:zn,contentEditable:jn,controls:Nn,default:Nn,defer:Nn,disabled:Nn,download:Rn,draggable:jn,formNoValidate:Nn,hidden:Nn,loop:Nn,multiple:Mn|Nn,muted:Mn|Nn,noValidate:Nn,open:Nn,playsInline:Nn,readOnly:Nn,required:Nn,reversed:Nn,rows:zn,rowSpan:Ln,scoped:Nn,seamless:Nn,selected:Mn|Nn,size:zn,start:Ln,span:zn,spellCheck:jn,style:0,tabIndex:0,itemScope:Nn,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:jn},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(t,e){if(null==e)return t.removeAttribute("value");"number"!==t.type||!1===t.hasAttribute("value")?t.setAttribute("value",""+e):t.validity&&!t.validity.badInput&&t.ownerDocument.activeElement!==t&&t.setAttribute("value",""+e)}}},Fn=An.HAS_STRING_BOOLEAN_VALUE,Bn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Vn={Properties:{autoReverse:Fn,externalResourcesRequired:Fn,preserveAlpha:Fn},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:Bn.xlink,xlinkArcrole:Bn.xlink,xlinkHref:Bn.xlink,xlinkRole:Bn.xlink,xlinkShow:Bn.xlink,xlinkTitle:Bn.xlink,xlinkType:Bn.xlink,xmlBase:Bn.xml,xmlLang:Bn.xml,xmlSpace:Bn.xml}},Un=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(t){var e=t.replace(Un,o);Vn.Properties[e]=0,Vn.DOMAttributeNames[e]=t}),An.injectDOMPropertyConfig(Dn),An.injectDOMPropertyConfig(Vn);var qn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(t){"function"!==typeof t.invokeGuardedCallback&&i("197"),l=t.invokeGuardedCallback}},invokeGuardedCallback:function(t,e,n,i,r,s,a,o,u){l.apply(qn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,n,i,r,s,a,o,l){if(qn.invokeGuardedCallback.apply(this,arguments),qn.hasCaughtError()){var u=qn.clearCaughtError();qn._hasRethrowError||(qn._hasRethrowError=!0,qn._rethrowError=u)}},rethrowCaughtError:function(){return u.apply(qn,arguments)},hasCaughtError:function(){return qn._hasCaughtError},clearCaughtError:function(){if(qn._hasCaughtError){var t=qn._caughtError;return qn._caughtError=null,qn._hasCaughtError=!1,t}i("198")}},Hn=null,Wn={},$n=[],Zn={},Gn={},Kn={},Yn=Object.freeze({plugins:$n,eventNameDispatchConfigs:Zn,registrationNameModules:Gn,registrationNameDependencies:Kn,possibleRegistrationNames:null,injectEventPluginOrder:f,injectEventPluginsByName:d}),Xn=null,Qn=null,Jn=null,ti=null,ei={injectEventPluginOrder:f,injectEventPluginsByName:d},ni=Object.freeze({injection:ei,getListener:b,extractEvents:w,enqueueEvents:x,processEventQueue:C}),ii=Math.random().toString(36).slice(2),ri="__reactInternalInstance$"+ii,si="__reactEventHandlers$"+ii,ai=Object.freeze({precacheFiberNode:function(t,e){e[ri]=t},getClosestInstanceFromNode:S,getInstanceFromNode:function(t){return t=t[ri],!t||5!==t.tag&&6!==t.tag?null:t},getNodeFromInstance:k,getFiberCurrentPropsFromNode:T,updateFiberProps:function(t,e){t[si]=e}}),oi=Object.freeze({accumulateTwoPhaseDispatches:L,accumulateTwoPhaseDispatchesSkipTarget:function(t){v(t,A)},accumulateEnterLeaveDispatches:z,accumulateDirectDispatches:function(t){v(t,N)}}),li=null,ui={_root:null,_startText:null,_fallbackText:null},ci="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),hi={type:null,target:null,currentTarget:wn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};bn(F.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=wn.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=wn.thatReturnsTrue)},persist:function(){this.isPersistent=wn.thatReturnsTrue},isPersistent:wn.thatReturnsFalse,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;for(e=0;e<ci.length;e++)this[ci[e]]=null}}),F.Interface=hi,F.augmentClass=function(t,e){function n(){}n.prototype=this.prototype;var i=new n;bn(i,t.prototype),t.prototype=i,t.prototype.constructor=t,t.Interface=bn({},this.Interface,e),t.augmentClass=this.augmentClass,U(t)},U(F),F.augmentClass(q,{data:null}),F.augmentClass(H,{data:null});var fi=[9,13,27,32],di=yn.canUseDOM&&"CompositionEvent"in window,pi=null;yn.canUseDOM&&"documentMode"in document&&(pi=document.documentMode);var gi;if(gi=yn.canUseDOM&&"TextEvent"in window&&!pi){var vi=window.opera;gi=!("object"===typeof vi&&"function"===typeof vi.version&&12>=parseInt(vi.version(),10))}var mi,_i=gi,yi=yn.canUseDOM&&(!di||pi&&8<pi&&11>=pi),bi=String.fromCharCode(32),wi={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},xi=!1,Ci=!1,Si={eventTypes:wi,extractEvents:function(t,e,n,i){var r;if(di)t:{switch(t){case"topCompositionStart":var s=wi.compositionStart;break t;case"topCompositionEnd":s=wi.compositionEnd;break t;case"topCompositionUpdate":s=wi.compositionUpdate;break t}s=void 0}else Ci?W(t,n)&&(s=wi.compositionEnd):"topKeyDown"===t&&229===n.keyCode&&(s=wi.compositionStart);return s?(yi&&(Ci||s!==wi.compositionStart?s===wi.compositionEnd&&Ci&&(r=j()):(ui._root=i,ui._startText=D(),Ci=!0)),s=q.getPooled(s,e,n,i),r?s.data=r:null!==(r=$(n))&&(s.data=r),L(s),r=s):r=null,(t=_i?Z(t,n):G(t,n))?(e=H.getPooled(wi.beforeInput,e,n,i),e.data=t,L(e)):e=null,[r,e]}},ki=null,Ti=null,Pi=null,Ei={injectFiberControlledHostComponent:function(t){ki=t}},Oi=Object.freeze({injection:Ei,enqueueStateRestore:Y,restoreStateIfNeeded:X}),Ii=!1,Ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};yn.canUseDOM&&(mi=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Mi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ni=null,Li=null,zi=!1;yn.canUseDOM&&(zi=nt("input")&&(!document.documentMode||9<document.documentMode));var Ri={eventTypes:Mi,_isInputEventSupported:zi,extractEvents:function(t,e,n,i){var r=e?k(e):window,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type)var a=ct;else if(tt(r))if(zi)a=vt;else{a=pt;var o=dt}else!(s=r.nodeName)||"input"!==s.toLowerCase()||"checkbox"!==r.type&&"radio"!==r.type||(a=gt);if(a&&(a=a(t,e)))return ot(a,n,i);o&&o(t,r,e),"topBlur"===t&&null!=e&&(t=e._wrapperState||r._wrapperState)&&t.controlled&&"number"===r.type&&(t=""+r.value,r.getAttribute("value")!==t&&r.setAttribute("value",t))}};F.augmentClass(mt,{view:null,detail:null});var ji={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};mt.augmentClass(bt,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:yt,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}});var Di={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Fi={eventTypes:Di,extractEvents:function(t,e,n,i){if("topMouseOver"===t&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==t&&"topMouseOver"!==t)return null;var r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window;if("topMouseOut"===t?(t=e,e=(e=n.relatedTarget||n.toElement)?S(e):null):t=null,t===e)return null;var s=null==t?r:k(t);r=null==e?r:k(e);var a=bt.getPooled(Di.mouseLeave,t,n,i);return a.type="mouseleave",a.target=s,a.relatedTarget=r,n=bt.getPooled(Di.mouseEnter,e,n,i),n.type="mouseenter",n.target=r,n.relatedTarget=s,z(a,n,t,e),[a,n]}},Bi=_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vi=[],Ui=!0,qi=void 0,Hi=Object.freeze({get _enabled(){return Ui},get _handleTopLevel(){return qi},setHandleTopLevel:function(t){qi=t},setEnabled:Ot,isEnabled:function(){return Ui},trapBubbledEvent:It,trapCapturedEvent:At,dispatchEvent:Mt}),Wi={animationend:Nt("Animation","AnimationEnd"),animationiteration:Nt("Animation","AnimationIteration"),animationstart:Nt("Animation","AnimationStart"),transitionend:Nt("Transition","TransitionEnd")},$i={},Zi={};yn.canUseDOM&&(Zi=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);var Gi={topAbort:"abort",topAnimationEnd:Lt("animationend")||"animationend",topAnimationIteration:Lt("animationiteration")||"animationiteration",topAnimationStart:Lt("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Lt("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Ki={},Yi=0,Xi="_reactListenersID"+(""+Math.random()).slice(2),Qi=yn.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Ji={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},tr=null,er=null,nr=null,ir=!1,rr={eventTypes:Ji,extractEvents:function(t,e,n,i){var r,s=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!s)){t:{s=zt(s),r=Kn.onSelect;for(var a=0;a<r.length;a++){var o=r[a];if(!s.hasOwnProperty(o)||!s[o]){s=!1;break t}}s=!0}r=!s}if(r)return null;switch(s=e?k(e):window,t){case"topFocus":(tt(s)||"true"===s.contentEditable)&&(tr=s,er=e,nr=null);break;case"topBlur":nr=er=tr=null;break;case"topMouseDown":ir=!0;break;case"topContextMenu":case"topMouseUp":return ir=!1,Ft(n,i);case"topSelectionChange":if(Qi)break;case"topKeyDown":case"topKeyUp":return Ft(n,i)}return null}};F.augmentClass(Bt,{animationName:null,elapsedTime:null,pseudoElement:null}),F.augmentClass(Vt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mt.augmentClass(Ut,{relatedTarget:null});var sr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ar={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};mt.augmentClass(Ht,{key:function(t){if(t.key){var e=sr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=qt(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?ar[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:yt,charCode:function(t){return"keypress"===t.type?qt(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?qt(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),bt.augmentClass(Wt,{dataTransfer:null}),mt.augmentClass($t,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:yt}),F.augmentClass(Zt,{propertyName:null,elapsedTime:null,pseudoElement:null}),bt.augmentClass(Gt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null});var or={},lr={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(t){var e=t[0].toUpperCase()+t.slice(1),n="on"+e;e="top"+e,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[e]},or[t]=n,lr[e]=n});var ur={eventTypes:or,extractEvents:function(t,e,n,i){var r=lr[t];if(!r)return null;switch(t){case"topKeyPress":if(0===qt(n))return null;case"topKeyDown":case"topKeyUp":t=Ht;break;case"topBlur":case"topFocus":t=Ut;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":t=bt;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":t=Wt;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":t=$t;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":t=Bt;break;case"topTransitionEnd":t=Zt;break;case"topScroll":t=mt;break;case"topWheel":t=Gt;break;case"topCopy":case"topCut":case"topPaste":t=Vt;break;default:t=F}return e=t.getPooled(r,e,n,i),L(e),e}};qi=function(t,e,n,i){t=w(t,e,n,i),x(t),C(!1)},ei.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Xn=ai.getFiberCurrentPropsFromNode,Qn=ai.getInstanceFromNode,Jn=ai.getNodeFromInstance,ei.injectEventPluginsByName({SimpleEventPlugin:ur,EnterLeaveEventPlugin:Fi,ChangeEventPlugin:Ri,SelectEventPlugin:rr,BeforeInputEventPlugin:Si});var cr=[],hr=-1;new Set;var fr,dr,pr,gr,vr={current:Pn},mr={current:!1},_r=Pn,yr=null,br=null,wr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.portal")||60106,xr=Array.isArray,Cr="function"===typeof Symbol&&Symbol.iterator;"function"===typeof Symbol&&Symbol.for?(fr=Symbol.for("react.element"),dr=Symbol.for("react.call"),pr=Symbol.for("react.return"),gr=Symbol.for("react.fragment")):(fr=60103,dr=60104,pr=60105,gr=60107);var Sr=Ee(!0,!0),kr=Ee(!1,!0),Tr=Ee(!1,!1),Pr={},Er=Object.freeze({default:ze}),Or=Er&&ze||Er,Ir=Or.default?Or.default:Or,Ar="object"===typeof performance&&"function"===typeof performance.now,Mr=void 0;Mr=Ar?function(){return performance.now()}:function(){return Date.now()};var Nr=void 0;if(yn.canUseDOM)if("function"!==typeof requestIdleCallback){var Lr,zr=null,Rr=!1,jr=!1,Dr=0,Fr=33,Br=33;Lr=Ar?{timeRemaining:function(){return Dr-performance.now()}}:{timeRemaining:function(){return Dr-Date.now()}};var Vr="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){t.source===window&&t.data===Vr&&(Rr=!1,t=zr,zr=null,null!==t&&t(Lr))},!1);var Ur=function(t){jr=!1;var e=t-Dr+Br;e<Br&&Fr<Br?(8>e&&(e=8),Br=e<Fr?Fr:e):Fr=e,Dr=t+Br,Rr||(Rr=!0,window.postMessage(Vr,"*"))};Nr=function(t){return zr=t,jr||(jr=!0,requestAnimationFrame(Ur)),0}}else Nr=requestIdleCallback;else Nr=function(t){return setTimeout(function(){t({timeRemaining:function(){return 1/0}})}),0};var qr=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hr={},Wr={},$r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Zr=void 0,Gr=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==$r.svg||"innerHTML"in t)t.innerHTML=e;else{for(Zr=Zr||document.createElement("div"),Zr.innerHTML="<svg>"+e+"</svg>",e=Zr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}),Kr=/["'&<>]/;yn.canUseDOM&&("textContent"in document.documentElement||(tn=function(t,e){if(3===t.nodeType)t.nodeValue=e;else{if("boolean"===typeof e||"number"===typeof e)e=""+e;else{e=""+e;var n=Kr.exec(e);if(n){var i,r="",s=0;for(i=n.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==i&&(r+=e.substring(s,i)),s=i+1,r+=n}e=s!==i?r+e.substring(s,i):r}}Gr(t,e)}}));var Yr=tn,Xr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(t){Qr.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xr[e]=Xr[t]})});var Jr=bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ts=$r.html,es=wn.thatReturns(""),ns={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},is=Object.freeze({createElement:an,createTextNode:on,setInitialProperties:ln,diffProperties:un,updateProperties:cn,diffHydratedProperties:hn,diffHydratedText:fn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,n){switch(e){case"input":if(Ue(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=T(r);s||i("90"),Ue(r,s)}}}break;case"textarea":Ye(t,n);break;case"select":null!=(e=n.value)&&$e(t,!!n.multiple,e,!1)}}});Ei.injectFiberControlledHostComponent(is);var rs=null,ss=null,as=Ir({getRootHostContext:function(t){var e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Je(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Je(t,e)}return t},getChildHostContext:function(t,e){return Je(t,e)},getPublicInstance:function(t){return t},prepareForCommit:function(){rs=Ui;var t=Cn();if(Dt(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){e=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{e.nodeType,r.nodeType}catch(t){e=null;break t}var s=0,a=-1,o=-1,l=0,u=0,c=t,h=null;e:for(;;){for(var f;c!==e||0!==i&&3!==c.nodeType||(a=s+i),c!==r||0!==n&&3!==c.nodeType||(o=s+n),3===c.nodeType&&(s+=c.nodeValue.length),null!==(f=c.firstChild);)h=c,c=f;for(;;){if(c===t)break e;if(h===e&&++l===i&&(a=s),h===r&&++u===n&&(o=s),null!==(f=c.nextSibling))break;c=h,h=c.parentNode}c=f}e=-1===a||-1===o?null:{start:a,end:o}}else e=null}e=e||{start:0,end:0}}else e=null;ss={focusedElem:t,selectionRange:e},Ot(!1)},resetAfterCommit:function(){var t=ss,e=Cn(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&kn(document.documentElement,n)){if(Dt(n))if(e=i.start,t=i.end,void 0===t&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(window.getSelection){e=window.getSelection();var r=n[R()].length;t=Math.min(i.start,r),i=void 0===i.end?t:Math.min(i.end,r),!e.extend&&t>i&&(r=i,i=t,t=r),r=jt(n,t);var s=jt(n,i);if(r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)){var a=document.createRange();a.setStart(r.node,r.offset),e.removeAllRanges(),t>i?(e.addRange(a),e.extend(s.node,s.offset)):(a.setEnd(s.node,s.offset),e.addRange(a))}}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(Tn(n),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}ss=null,Ot(rs),rs=null},createInstance:function(t,e,n,i,r){return t=an(t,e,n,i),t[ri]=r,t[si]=e,t},appendInitialChild:function(t,e){t.appendChild(e)},finalizeInitialChildren:function(t,e,n,i){ln(t,e,n,i);t:{switch(e){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break t}t=!1}return t},prepareUpdate:function(t,e,n,i,r){return un(t,e,n,i,r)},shouldSetTextContent:function(t,e){return"textarea"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&"string"===typeof e.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(t,e){return!!e.hidden},createTextInstance:function(t,e,n,i){return t=on(t,e),t[ri]=i,t},now:Mr,mutation:{commitMount:function(t){t.focus()},commitUpdate:function(t,e,n,i,r){t[si]=r,cn(t,e,n,i,r)},resetTextContent:function(t){t.textContent=""},commitTextUpdate:function(t,e,n){t.nodeValue=n},appendChild:function(t,e){t.appendChild(e)},appendChildToContainer:function(t,e){8===t.nodeType?t.parentNode.insertBefore(e,t):t.appendChild(e)},insertBefore:function(t,e,n){t.insertBefore(e,n)},insertInContainerBefore:function(t,e,n){8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},removeChildFromContainer:function(t,e){8===t.nodeType?t.parentNode.removeChild(e):t.removeChild(e)}},hydration:{canHydrateInstance:function(t,e){return 1!==t.nodeType||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t},canHydrateTextInstance:function(t,e){return""===e||3!==t.nodeType?null:t},getNextHydratableSibling:function(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},getFirstHydratableChild:function(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},hydrateInstance:function(t,e,n,i,r,s){return t[ri]=s,t[si]=n,hn(t,e,n,r,i)},hydrateTextInstance:function(t,e,n){return t[ri]=n,fn(t,e)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Nr,useSyncScheduling:!0});Q=as.batchedUpdates,mn.prototype.render=function(t,e){as.updateContainer(t,this._reactRootContainer,null,e)},mn.prototype.unmount=function(t){as.updateContainer(null,this._reactRootContainer,null,t)};var os={createPortal:vn,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(e)return as.findHostInstance(e);"function"===typeof t.render?i("188"):i("213",Object.keys(t))},hydrate:function(t,e,n){return gn(null,t,e,!0,n)},render:function(t,e,n){return gn(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return(null==t||void 0===t._reactInternalFiber)&&i("38"),gn(t,e,n,!1,r)},unmountComponentAtNode:function(t){return dn(t)||i("40"),!!t._reactRootContainer&&(as.unbatchedUpdates(function(){gn(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:vn,unstable_batchedUpdates:J,unstable_deferredUpdates:as.deferredUpdates,flushSync:as.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:ni,EventPluginRegistry:Yn,EventPropagators:oi,ReactControlledComponent:Oi,ReactDOMComponentTree:ai,ReactDOMEventListener:Hi}};as.injectIntoDevTools({findFiberByHostInstance:S,bundleType:0,version:"16.1.1",rendererPackageName:"react-dom"});var ls=Object.freeze({default:os}),us=ls&&os||ls;t.exports=us.default?us.default:us},function(t,e,n){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};t.exports=r},function(t,e,n){"use strict";var i=n(4),r={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:i}},registerDefault:function(){}};t.exports=r},function(t,e,n){"use strict";function i(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}t.exports=i},function(t,e,n){"use strict";function i(t,e){return!(!t||!e)&&(t===e||!r(t)&&(r(e)?i(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var r=n(41);t.exports=i},function(t,e,n){"use strict";function i(t){return r(t)&&3==t.nodeType}var r=n(42);t.exports=i},function(t,e,n){"use strict";function i(t){var e=t?t.ownerDocument||t:document,n=e.defaultView||window;return!(!t||!("function"===typeof n.Node?t instanceof n.Node:"object"===typeof t&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName))}t.exports=i},function(t,e,n){"use strict";function i(t){try{t.focus()}catch(t){}}t.exports=i},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),o=n.n(a),l=n(45),u=n(117),c=(n.n(u),n(118)),h=(n.n(c),n(119)),f=n.n(h),d=n(120),p=n.n(d),g=n(121),v=n.n(g),m=n(122),_=n.n(m),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),b={480:p.a,720:v.a,1080:_.a},w=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.resizeWindow=function(){n._request||(n._request=requestAnimationFrame(n.resizePaper))},n.resizePaper=function(){n.forceUpdate(),n._request=null},n.setImageSize=function(t){var e=t.size;n.setState({imageSize:e})},n.state={imageSize:720,mounted:!1},n._box=null,n._request=null,n}return s(e,t),y(e,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),window.addEventListener("resize",this.resizeWindow)}},{key:"componentWillUnmount",value:function(){this._request&&(cancelAnimationFrame(this._request),this._request=null),window.removeEventListener("resize",this.resizeWindow)}},{key:"render",value:function(){var t=this,e=this.state,n=e.imageSize,i=e.mounted,r=this._box&&this._box.getBoundingClientRect();return o.a.createElement("div",{className:"App",ref:function(e){return t._box=e}},i&&o.a.createElement(l.a,{initialData:f.a,image:b[n],imageWidth:1920,imageHeight:870,imageSize:n,width:r.width,height:r.height,setImageSize:this.setImageSize}))}}]),e}(a.Component);e.a=w},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(0),l=n.n(o),u=n(1),c=n.n(u),h=n(49),f=n(2),d=n.n(f),p=n(55),g=n.n(p),v=n(56),m=n(68),_=n(70),y=n(84),b=n(95),w=n(102),x=n(105),C=n(106),S=n(107),k=n(108),T=n(109),P=n(113),E=n(114),O=n(115),I=n(116),A=(n.n(I),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),M=function(t){function e(t){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.save=function(){var t=n._view._scope.project.exportJSON(),e=n._view._scope.project.exportSVG({embedImages:!1});console.log(t),console.log(e)},n.toggleLayers=function(){n.setState({showLayers:!n.state.showLayers})},n.imageLoaded=function(t){n._loaded=!0,n.props.fitImage(t),n.setState({imageLoaded:!0,loaded:!0})},n.state={imageLoaded:!1,loaded:!1,showLayers:!0},n._view=null,n}return a(e,t),A(e,[{key:"componentWillUpdate",value:function(t){this.props.image!==t.image&&this.setState({imageLoaded:!1})}},{key:"render",value:function(){var t=this,e=this.props,n=e.activeTool,r=e.activeLayer,s=e.image,a=e.data,o=e.selectedItem,u=e.setTool,c=e.width,h=e.height,f=this.state,p=f.loaded,w=f.imageLoaded,x=f.showLayers,C=d()(g()(this.props,["activeTool","animate","fullscreen","imageSize","canUndo","canRedo","undo","redo","clearHistory","setTool","setImageSize","toggleAnimation","toggleFullscreen"]),{showLayers:x,save:this.save,toggleLayers:this.toggleLayers}),S={data:a,activeLayer:r,selectedItem:o,selectItem:this.props.selectItem},k={activeTool:n,setTool:u,x:c/2,y:h-60,tools:[{tool:"delete",icon:"delete",title:"Delete Tool (D)"},{tool:"pen",icon:"create",title:"Pen Tool (P)"},{tool:"select",icon:"touch_app",title:"Select Tool (A)"},{tool:"move",icon:"pan_tool",title:"Move Tool (V)"},{tool:"circle",icon:"add_circle",title:"Circle Tool (C)"},{tool:"rectangle",icon:"add_box",title:"Rectangle Tool (R)"}]},T=d()(g()(this.props,["activeTool","activeLayer","width","height"]),{ref:function(e){return t._view=e},onWheel:this.props.moveToolMouseWheel,matrix:g()(this.props,["sx","sy","tx","ty","x","y","zoom"])});return l.a.createElement("div",{className:"Paper tool-"+n},l.a.createElement(_.a,C),p&&l.a.createElement(y.a,k),!w&&l.a.createElement(m.a,{color:"orange"}),p&&x&&l.a.createElement(b.a,S),l.a.createElement(v.d,T,l.a.createElement(v.a,null,l.a.createElement(v.b,{locked:!0,source:s,onLoad:this.imageLoaded})),a.map(function(t){var e=t.id,s=t.type,a=t.children;return l.a.createElement(v.a,{key:e,data:{id:e,type:s},visible:w,active:e===r},a.map(function(t){var r=t.id,s=t.type,a=i(t,["id","type"]);return l.a.createElement(s,Object.assign({key:r},a,{data:{id:r,type:s},selected:"select"===n&&(r===o||e===o)}))}))}),l.a.createElement(v.c,{active:"select"===n,name:"select",onKeyDown:this.props.selectToolKeyDown,onKeyUp:this.props.selectToolKeyUp,onMouseDown:this.props.selectToolMouseDown,onMouseDrag:this.props.selectToolMouseDrag,onMouseUp:this.props.selectToolMouseUp}),l.a.createElement(v.c,{active:"move"===n,name:"move",onMouseDown:this.props.moveToolMouseDown,onMouseDrag:this.props.moveToolMouseDrag,onMouseUp:this.props.moveToolMouseUp}),l.a.createElement(v.c,{active:"pen"===n,name:"pen",onMouseDown:this.props.penToolMouseDown,onMouseDrag:this.props.penToolMouseDrag,onMouseUp:this.props.penToolMouseUp}),l.a.createElement(v.c,{active:"circle"===n,name:"circle",onMouseDown:this.props.circleToolMouseDown}),l.a.createElement(v.c,{active:"rectangle"===n,name:"rectangle",onMouseDown:this.props.rectangleToolMouseDown}),l.a.createElement(v.c,{active:"delete"===n,name:"delete",onMouseDown:this.props.deleteToolMouseDown})))}}]),e}(o.Component);M.propTypes={image:c.a.any.isRequired,imageWidth:c.a.number.isRequired,imageHeight:c.a.number.isRequired,imageSize:c.a.number.isRequired,initialData:c.a.any.isRequired,width:c.a.number.isRequired,height:c.a.number.isRequired,setImageSize:c.a.func.isRequired},e.a=Object(h.a)(w.a,x.a,C.a,S.a,k.a,T.a,P.a,E.a,O.a)(M)},function(t,e,n){"use strict";var i=n(4),r=n(47),s=n(48);t.exports=function(){function t(t,e,n,i,a,o){o!==s&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){"use strict";function i(t,e,n,i,s,a,o,l){if(r(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,s,a,o,l],h=0;u=new Error(e.replace(/%s/g,function(){return c[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(t){};t.exports=i},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}n.d(e,"a",function(){return i});var r=n(0),s=(n.n(r),n(16)),a=(n.n(s),n(50)),o=(n.n(a),n(51)),l=(n.n(o),n(52)),u=n.n(l),c=("function"===typeof Symbol&&Symbol.iterator,function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),h=(Object.assign,function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}),f=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},d=(Object.keys,function(t){function e(){return c(this,e),f(this,t.apply(this,arguments))}return h(e,t),e.prototype.render=function(){return null},e}(r.Component));d.displayName="Nothing";var p={fromESObservable:null,toESObservable:null},g={fromESObservable:function(t){return"function"===typeof p.fromESObservable?p.fromESObservable(t):t},toESObservable:function(t){return"function"===typeof p.toESObservable?p.toESObservable(t):t}}},function(t,e,n){"use strict";var i={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},s="function"===typeof Object.getOwnPropertySymbols;t.exports=function(t,e,n){if("string"!==typeof e){var a=Object.getOwnPropertyNames(e);s&&(a=a.concat(Object.getOwnPropertySymbols(e)));for(var o=0;o<a.length;++o)if(!i[a[o]]&&!r[a[o]]&&(!n||!n[a[o]]))try{t[a[o]]=e[a[o]]}catch(t){}}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.createChangeEmitter=function(){function t(){r===i&&(r=i.slice())}function e(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.");var n=!0;return t(),r.push(e),function(){if(n){n=!1,t();var i=r.indexOf(e);r.splice(i,1)}}}function n(){i=r;for(var t=i,e=0;e<t.length;e++)t[e].apply(t,arguments)}var i=[],r=i;return{listen:e,emit:n}}},function(t,e,n){t.exports=n(53)},function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0});var r,s=n(54),a=function(t){return t&&t.__esModule?t:{default:t}}(s);r="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:i;var o=(0,a.default)(r);e.default=o}).call(e,n(3),n(17)(t))},function(t,e,n){"use strict";function i(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){(function(e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e){for(var n=-1,i=t?t.length:0,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function r(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function s(t,e,n,i,a){var o=-1,u=t.length;for(n||(n=l),a||(a=[]);++o<u;){var c=t[o];e>0&&n(c)?e>1?s(c,e-1,n,i,a):r(a,c):i||(a[a.length]=c)}return a}function a(t,e){return t=Object(t),o(t,e,function(e,n){return n in t})}function o(t,e,n){for(var i=-1,r=e.length,s={};++i<r;){var a=e[i],o=t[a];n(o,a)&&(s[a]=o)}return s}function l(t){return L(t)||c(t)||!!(M&&t&&t[M])}function u(t){if("string"==typeof t||m(t))return t;var e=t+"";return"0"==e&&1/t==-_?"-0":e}function c(t){return f(t)&&E.call(t,"callee")&&(!A.call(t,"callee")||O.call(t)==b)}function h(t){return null!=t&&p(t.length)&&!d(t)}function f(t){return v(t)&&h(t)}function d(t){var e=g(t)?O.call(t):"";return e==w||e==x}function p(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){return!!t&&"object"==typeof t}function m(t){return"symbol"==typeof t||v(t)&&O.call(t)==C}var _=1/0,y=9007199254740991,b="[object Arguments]",w="[object Function]",x="[object GeneratorFunction]",C="[object Symbol]",S="object"==typeof e&&e&&e.Object===Object&&e,k="object"==typeof self&&self&&self.Object===Object&&self,T=S||k||Function("return this")(),P=Object.prototype,E=P.hasOwnProperty,O=P.toString,I=T.Symbol,A=P.propertyIsEnumerable,M=I?I.isConcatSpreadable:void 0,N=Math.max,L=Array.isArray,z=function(t,e){return e=N(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=N(i.length-e,0),a=Array(s);++r<s;)a[r]=i[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=i[r];return o[e]=a,n(t,this,o)}}(function(t,e){return null==t?{}:a(t,i(s(e,1),u))});t.exports=z}).call(e,n(3))},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o});var i=n(18),r=n(57);n.d(e,"d",function(){return r.a});var s=(i.a.CIRCLE,i.a.ELLIPSE,i.a.GROUP,i.a.LAYER),a=(i.a.LINE,i.a.PATH,i.a.POINTTEXT,i.a.RASTER),o=(i.a.RECTANGLE,i.a.TOOL)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(19),o=n.n(a),l=n(59),u=n.n(l),c=n(23),h=(n.n(c),n(64)),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),d=function(t){function e(){var t,n,s,a;i(this,e);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=s=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),s.paper=null,s.canvas=null,s.onWheel=function(t){s.props.onWheel&&s.props.onWheel(t,s.paper)},s.onDoubleClick=function(t){s.props.onDoubleClick&&s.props.onDoubleClick(t,s.paper)},a=n,r(s,a)}return s(e,t),f(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.activeLayer,n=t.activeTool,i=t.children,r=t.width,s=t.height,a=t.matrix,o=a.x,l=a.y,u=a.zoom;this.paper=new c.PaperScope,this.paper.setup(this.canvas);var f=this.paper,d=f.project,p=f.tools,g=f.view;if(g.viewSize=new c.Size(r,s),this.mountNode=h.a.createContainer(this.paper),h.a.updateContainer(i,this.mountNode,this),"number"===typeof u&&(g.zoom=u),"number"===typeof o&&"number"===typeof l&&g.translate(o,l),"number"===typeof e){var v=d.layers.find(function(t){return t.data.id===e});v&&v.activate()}if("string"===typeof n){var m=p.find(function(t){return t.name===n});m&&m.activate()}}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,i=n.children,r=(n.locked,n.width),s=n.height,a=n.matrix,o=a.sx,l=a.sy,u=a.tx,f=a.ty,d=a.x,p=a.y,g=a.zoom,v=this.paper.view;if(r!==t.width||s!==t.height){var m=v.center;v.viewSize=new c.Size(r,s),v.translate(v.center.subtract(m))}t.locked,g!==t.matrix.zoom&&v.scale(g/t.matrix.zoom,[o,l]),d===t.matrix.x&&p===t.matrix.y||v.translate(u,f),h.a.updateContainer(i,this.mountNode,this)}},{key:"componentWillUnmount",value:function(){h.a.updateContainer(null,this.mountNode,this)}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,i=e.canvasProps;return o.a.createElement("canvas",Object.assign({ref:function(e){return t.canvas=e}},i,{className:n,onWheel:this.onWheel,onDoubleClick:this.onDoubleClick,__source:{fileName:"src/View.js",lineNumber:128},__self:this}))}}]),e}(a.Component);d.propTypes={activeLayer:u.a.number,activeTool:u.a.string,canvasProps:u.a.object,className:u.a.string,width:u.a.number.isRequired,height:u.a.number.isRequired,matrix:u.a.shape({sx:u.a.number.isRequired,sy:u.a.number.isRequired,tx:u.a.number.isRequired,ty:u.a.number.isRequired,x:u.a.number.isRequired,y:u.a.number.isRequired,zoom:u.a.number.isRequired})},e.a=d},function(t,e,n){"use strict";function i(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function r(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||w}function s(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||w}function a(){}function o(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||w}function l(t,e,n){var i,r={},s=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)k.call(e,i)&&!P.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps)void 0===r[i]&&(r[i]=o[i]);return{$$typeof:T,type:t,key:s,ref:a,props:r,_owner:S.current}}function u(t){return"object"===typeof t&&null!==t&&t.$$typeof===T}function c(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function h(t,e,n,i){if(M.length){var r=M.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function f(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>M.length&&M.push(t)}function d(t,e,n,r){var s=typeof t;if("undefined"!==s&&"boolean"!==s||(t=null),null===t||"string"===s||"number"===s||"object"===s&&t.$$typeof===O||"object"===s&&t.$$typeof===I)return n(r,t,""===e?"."+p(t,0):e),1;var a=0;if(e=""===e?".":e+":",Array.isArray(t))for(var o=0;o<t.length;o++){s=t[o];var l=e+p(s,o);a+=d(s,l,n,r)}else if("function"===typeof(l=E&&t[E]||t["@@iterator"]))for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=e+p(s,o++),a+=d(s,l,n,r);else"object"===s&&(n=""+t,i("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function p(t,e){return"object"===typeof t&&null!==t&&null!=t.key?c(t.key):e.toString(36)}function g(t,e){t.func.call(t.context,e,t.count++)}function v(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?m(t,i,n,b.thatReturnsArgument):null!=t&&(u(t)&&(e=r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(A,"$&/")+"/")+n,t={$$typeof:T,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),i.push(t))}function m(t,e,n,i,r){var s="";null!=n&&(s=(""+n).replace(A,"$&/")+"/"),e=h(e,s,i,r),null==t||d(t,"",v,e),f(e)}var _=n(20),y=n(7),b=n(21),w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&i("85"),this.updater.enqueueSetState(this,t,e,"setState")},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},a.prototype=r.prototype;var x=s.prototype=new a;x.constructor=s,_(x,r.prototype),x.isPureReactComponent=!0;var C=o.prototype=new a;C.constructor=o,_(C,r.prototype),C.unstable_isAsyncReactComponent=!0,C.render=function(){return this.props.children};var S={current:null},k=Object.prototype.hasOwnProperty,T="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,P={key:!0,ref:!0,__self:!0,__source:!0},E="function"===typeof Symbol&&Symbol.iterator,O="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,I="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.portal")||60106,A=/\/+/g,M=[];"function"===typeof Symbol&&Symbol.for&&Symbol.for("react.fragment");var N={Children:{map:function(t,e,n){if(null==t)return t;var i=[];return m(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;e=h(null,null,e,n),null==t||d(t,"",g,e),f(e)},count:function(t){return null==t?0:d(t,"",b.thatReturnsNull,null)},toArray:function(t){var e=[];return m(t,e,null,b.thatReturnsArgument),e},only:function(t){return u(t)||i("143"),t}},Component:r,PureComponent:s,unstable_AsyncComponent:o,createElement:l,cloneElement:function(t,e,n){var i=_({},t.props),r=t.key,s=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,a=S.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)k.call(e,l)&&!P.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==o?o[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}return{$$typeof:T,type:t.type,key:r,ref:s,props:i,_owner:a}},createFactory:function(t){var e=l.bind(null,t);return e.type=t,e},isValidElement:u,version:"16.1.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:_}},L=Object.freeze({default:N}),z=L&&N||L;t.exports=z.default?z.default:z},function(t,e,n){t.exports=n(60)()},function(t,e,n){"use strict";var i=n(21),r=n(22),s=n(61);t.exports=function(){function t(t,e,n,i,a,o){o!==s&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){},function(t,e){},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.blendMode!==n.blendMode&&(t.blendMode=e.blendMode),e.clipMask!==n.clipMask&&(t.clipMask=e.clipMask),e.opacity!==n.opacity&&(t.opacity=e.opacity),e.selected!==n.selected&&(t.selected=e.selected),e.visible!==n.visible&&(t.visible=e.visible)}function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(t,e,n),e.center!==n.center&&t.translate([e.center[0]-n.center[0],e.center[1]-n.center[1]]),e.rotation!==n.rotation&&t.rotate(e.rotation-n.rotation),e.strokeColor!==n.strokeColor&&(t.strokeColor=e.strokeColor)}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(t,e,n),e.active!==n.active&&!0===e.active&&t.activate(),e.locked!==n.locked&&(t.locked=e.locked),e.strokeColor!==n.strokeColor&&(t.strokeColor=e.strokeColor,t.children.forEach(function(t){t instanceof b.Path&&(t.strokeColor=e.strokeColor)}))}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(t,e,n),e.center!==n.center&&t.translate([e.center[0]-n.center[0],e.center[1]-n.center[1]]),e.closed!==n.closed&&(t.closed=e.closed),e.dashArray!==n.dashArray&&(t.dashArray=e.dashArray),e.dashOffset!==n.dashOffset&&(t.dashOffset=e.dashOffset),e.fillColor!==n.fillColor&&(t.fillColor=e.fillColor),e.pathData!==n.pathData&&(t.pathData=e.pathData),e.point!==n.point&&t.translate([e.point[0]-n.point[0],e.point[1]-n.point[1]]),e.rotation!==n.rotation&&t.rotate(e.rotation-n.rotation),e.strokeCap!==n.strokeCap&&(t.strokeCap=e.strokeCap),e.strokeColor!==n.strokeColor&&(t.strokeColor=e.strokeColor),e.strokeJoin!==n.strokeJoin&&(t.strokeJoin=e.strokeJoin),e.strokeScaling!==n.strokeScaling&&(t.strokeScaling=e.strokeScaling),e.strokeWidth!==n.strokeWidth&&(t.strokeWidth=e.strokeWidth)}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(t,e,n),e.size!==n.size&&t.scale(e.size[0]/n.size[0],e.size[1]/n.size[1])}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(t,e,n),e.radius!==n.radius&&t.scale(e.radius/n.radius)}function c(t,e){l(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(t,e,n),e.source!==n.source&&(t.source=e.source),e.onLoad!==n.onLoad&&(t.onLoad=e.onLoad)}function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.content!==n.content&&(t.content=e.content),e.fillColor!==n.fillColor&&(t.fillColor=e.fillColor),e.fontFamily!==n.fontFamily&&(t.fontFamily=e.fontFamily),e.fontSize!==n.fontSize&&(t.fontSize=e.fontSize),e.fontWeight!==n.fontWeight&&(t.fontWeight=e.fontWeight),e.point!==n.point&&t.translate([e.point[0]-n.point[0],e.point[1]-n.point[1]])}function d(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.active!==n.active&&!0===e.active&&t.activate(),e.onMouseDown!==n.onMouseDown&&(t.onMouseDown=e.onMouseDown),e.onMouseDrag!==n.onMouseDrag&&(t.onMouseDrag=e.onMouseDrag),e.onMouseMove!==n.onMouseMove&&(t.onMouseMove=e.onMouseMove),e.onMouseUp!==n.onMouseUp&&(t.onMouseUp=e.onMouseUp),e.onKeyUp!==n.onKeyUp&&(t.onKeyUp=e.onKeyUp),e.onKeyDown!==n.onKeyDown&&(t.onKeyDown=e.onKeyDown)}var p=n(65),g=n.n(p),v=n(22),m=n.n(v),_=n(7),y=n.n(_),b=n(23),w=(n.n(b),n(18)),x=g()({appendInitialChild:function(t,e){if("string"===typeof e)return void m()(!1,"Text children should already be flattened.");t instanceof b.Group&&e instanceof b.Item&&e.addTo(t)},createInstance:function(t,e,n){var r=(e.children,i(e,["children"])),p=void 0;switch(t){case w.a.TOOL:p=new b.Tool(r),p._applyProps=d;break;case w.a.CIRCLE:p=new b.Path.Circle(r),p._applyProps=u;break;case w.a.ELLIPSE:p=new b.Path.Ellipse(r),p._applyProps=c;break;case w.a.GROUP:p=new b.Group(r),p._applyProps=s;break;case w.a.LAYER:p=new b.Layer(r),p._applyProps=a;break;case w.a.LINE:p=new b.Path.Line(r),p._applyProps=o;break;case w.a.PATH:p=new b.Path(r),p._applyProps=o;break;case w.a.POINTTEXT:p=new b.PointText(r),p._applyProps=f;break;case w.a.RECTANGLE:p=new b.Path.Rectangle(r),p._applyProps=l;break;case w.a.RASTER:var g=r.onLoad,v=i(r,["onLoad"]);p=new b.Raster(v),p._applyProps=h,"function"===typeof g&&(p.onLoad=function(){return g(p)});break;default:m()(p,'PaperReact does not support the type "%s"',t)}return p.data&&!p.data.type&&(p.data.type=t),m()(p,'PaperReact does not support the type "%s"',t),p},createTextInstance:function(t,e,n){return t},finalizeInitialChildren:function(t,e,n){return!1},getPublicInstance:function(t){return t},prepareForCommit:function(){},prepareUpdate:function(t,e,n,i){return!0},resetAfterCommit:function(){},resetTextContent:function(t){},shouldDeprioritizeSubtree:function(t,e){return!1},getRootHostContext:function(){return y.a},getChildHostContext:function(){return y.a},scheduleDeferredCallback:window.requestIdleCallback,shouldSetTextContent:function(t,e){return"string"===typeof e.children||"number"===typeof e.children},useSyncScheduling:!0,now:Date.now,mutation:{appendChild:function(t,e){e.parentNode===t&&e.remove(),t instanceof b.Group&&e instanceof b.Item&&e.addTo(t)},appendChildToContainer:function(t,e){e.parentNode===t&&e.remove(),t instanceof b.Group&&e instanceof b.Item&&e.addTo(t)},insertBefore:function(t,e,n){m()(e!==n,"PaperReact: Can not insert node before itself"),t instanceof b.Group&&e instanceof b.Path&&n instanceof b.Path&&e.insertAbove(n)},insertInContainerBefore:function(t,e,n){m()(e!==n,"PaperReact: Can not insert node before itself"),t instanceof b.Group&&e instanceof b.Path&&n instanceof b.Path&&e.insertAbove(n)},removeChild:function(t,e){e.remove()},removeChildFromContainer:function(t,e){e.remove()},commitTextUpdate:function(t,e,n){},commitMount:function(t,e,n){},commitUpdate:function(t,e,n,i,r,s){t._applyProps(t,r,i)}}});e.a=x},function(t,e,n){"use strict";t.exports=n(66)},function(t,e,n){var i;t.exports=function(e){"use strict";function r(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function s(t){return t=t.type,"string"===typeof t?t:"function"===typeof t?t.displayName||t.name:null}function a(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(e=e.return,0!==(2&e.effectTag))return 1}return 3===e.tag?2:3}function o(t){return!!(t=t._reactInternalFiber)&&2===a(t)}function l(t){2!==a(t)&&r("188")}function u(t){var e=t.alternate;if(!e)return e=a(t),3===e&&r("188"),1===e?null:t;for(var n=t,i=e;;){var s=n.return,o=s?s.alternate:null;if(!s||!o)break;if(s.child===o.child){for(var u=s.child;u;){if(u===n)return l(s),t;if(u===i)return l(s),e;u=u.sibling}r("188")}if(n.return!==i.return)n=s,i=o;else{u=!1;for(var c=s.child;c;){if(c===n){u=!0,n=s,i=o;break}if(c===i){u=!0,i=s,n=o;break}c=c.sibling}if(!u){for(c=o.child;c;){if(c===n){u=!0,n=o,i=s;break}if(c===i){u=!0,i=o,n=s;break}c=c.sibling}u||r("189")}}n.alternate!==i&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?t:e}function c(t){if(!(t=u(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function h(t){if(!(t=u(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function f(t){0>rt||(t.current=it[rt],it[rt]=null,rt--)}function d(t,e){rt++,it[rt]=t.current,t.current=e}function p(t){return v(t)?ht:ut.current}function g(t,e){var n=t.type.contextTypes;if(!n)return tt;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function v(t){return 2===t.tag&&null!=t.type.childContextTypes}function m(t){v(t)&&(f(ct,t),f(ut,t))}function _(t,e,n){null!=ut.cursor&&r("168"),d(ut,e,t),d(ct,n,t)}function y(t,e){var n=t.stateNode,i=t.type.childContextTypes;if("function"!==typeof n.getChildContext)return e;n=n.getChildContext();for(var a in n)a in i||r("108",s(t)||"Unknown",a);return Q({},e,n)}function b(t){if(!v(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||tt,ht=ut.current,d(ut,e,t),d(ct,ct.current,t),!0}function w(t,e){var n=t.stateNode;if(n||r("169"),e){var i=y(t,ht);n.__reactInternalMemoizedMergedChildContext=i,f(ct,t),f(ut,t),d(ut,i,t)}else f(ct,t);d(ct,e,t)}function x(t,e,n){this.tag=t,this.key=e,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function C(t,e,n){var i=t.alternate;return null===i?(i=new x(t.tag,t.key,t.internalContextTag),i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.expirationTime=n,i.pendingProps=e,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function S(t,e,n){var i=void 0,s=t.type,a=t.key;return"function"===typeof s?(i=s.prototype&&s.prototype.isReactComponent?new x(2,a,e):new x(0,a,e),i.type=s,i.pendingProps=t.props):"string"===typeof s?(i=new x(5,a,e),i.type=s,i.pendingProps=t.props):"object"===typeof s&&null!==s&&"number"===typeof s.tag?(i=s,i.pendingProps=t.props):r("130",null==s?s:typeof s,""),i.expirationTime=n,i}function k(t,e,n,i){return e=new x(10,i,e),e.pendingProps=t,e.expirationTime=n,e}function T(t,e,n){return e=new x(6,null,e),e.pendingProps=t,e.expirationTime=n,e}function P(t,e,n){return e=new x(7,t.key,e),e.type=t.handler,e.pendingProps=t,e.expirationTime=n,e}function E(t,e,n){return t=new x(9,null,e),t.expirationTime=n,t}function O(t,e,n){return e=new x(4,t.key,e),e.pendingProps=t.children||[],e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I(t){return function(e){try{return t(e)}catch(t){}}}function A(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);ft=I(function(t){return e.onCommitFiberRoot(n,t)}),dt=I(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}function M(t){"function"===typeof ft&&ft(t)}function N(t){"function"===typeof dt&&dt(t)}function L(t){return{baseState:t,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function z(t,e){null===t.last?t.first=t.last=e:(t.last.next=e,t.last=e),(0===t.expirationTime||t.expirationTime>e.expirationTime)&&(t.expirationTime=e.expirationTime)}function R(t,e){var n=t.alternate,i=t.updateQueue;null===i&&(i=t.updateQueue=L(null)),null!==n?null===(t=n.updateQueue)&&(t=n.updateQueue=L(null)):t=null,t=t!==i?t:null,null===t?z(i,e):null===i.last||null===t.last?(z(i,e),z(t,e)):(z(i,e),t.last=e)}function j(t,e,n,i){return t=t.partialState,"function"===typeof t?t.call(e,n,i):t}function D(t,e,n,i,r,s){null!==t&&t.updateQueue===n&&(n=e.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?t=n.baseState:(t=n.baseState=e.memoizedState,n.isInitialized=!0);for(var a=!0,o=n.first,l=!1;null!==o;){var u=o.expirationTime;if(u>s){var c=n.expirationTime;(0===c||c>u)&&(n.expirationTime=u),l||(l=!0,n.baseState=t)}else l||(n.first=o.next,null===n.first&&(n.last=null)),o.isReplace?(t=j(o,i,t,r),a=!0):(u=j(o,i,t,r))&&(t=a?Q({},t,u):Q(t,u),a=!1),o.isForced&&(n.hasForceUpdate=!0),null!==o.callback&&(u=n.callbackList,null===u&&(u=n.callbackList=[]),u.push(o));o=o.next}return null!==n.callbackList?e.effectTag|=32:null!==n.first||n.hasForceUpdate||(e.updateQueue=null),l||(n.baseState=t),t}function F(t,e){var n=t.callbackList;if(null!==n)for(t.callbackList=null,t=0;t<n.length;t++){var i=n[t],s=i.callback;i.callback=null,"function"!==typeof s&&r("191",s),s.call(e)}}function B(t,e,n,i){function s(t,e){e.updater=a,t.stateNode=e,e._reactInternalFiber=t}var a={isMounted:o,enqueueSetState:function(n,i,r){n=n._reactInternalFiber,r=void 0===r?null:r;var s=e(n);R(n,{expirationTime:s,partialState:i,callback:r,isReplace:!1,isForced:!1,nextCallback:null,next:null}),t(n,s)},enqueueReplaceState:function(n,i,r){n=n._reactInternalFiber,r=void 0===r?null:r;var s=e(n);R(n,{expirationTime:s,partialState:i,callback:r,isReplace:!0,isForced:!1,nextCallback:null,next:null}),t(n,s)},enqueueForceUpdate:function(n,i){n=n._reactInternalFiber,i=void 0===i?null:i;var r=e(n);R(n,{expirationTime:r,partialState:null,callback:i,isReplace:!1,isForced:!0,nextCallback:null,next:null}),t(n,r)}};return{adoptClassInstance:s,constructClassInstance:function(t,e){var n=t.type,i=p(t),r=2===t.tag&&null!=t.type.contextTypes,a=r?g(t,i):tt;return e=new n(e,a),s(t,e),r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e},mountClassInstance:function(t,e){var n=t.alternate,i=t.stateNode,s=i.state||null,o=t.pendingProps;o||r("158");var l=p(t);i.props=o,i.state=t.memoizedState=s,i.refs=tt,i.context=g(t,l),null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent&&(t.internalContextTag|=1),"function"===typeof i.componentWillMount&&(s=i.state,i.componentWillMount(),s!==i.state&&a.enqueueReplaceState(i,i.state,null),null!==(s=t.updateQueue)&&(i.state=D(n,t,s,i,o,e))),"function"===typeof i.componentDidMount&&(t.effectTag|=4)},updateClassInstance:function(t,e,s){var o=e.stateNode;o.props=e.memoizedProps,o.state=e.memoizedState;var l=e.memoizedProps,u=e.pendingProps;u||null==(u=l)&&r("159");var c=o.context,h=p(e);if(h=g(e,h),"function"!==typeof o.componentWillReceiveProps||l===u&&c===h||(c=o.state,o.componentWillReceiveProps(u,h),o.state!==c&&a.enqueueReplaceState(o,o.state,null)),c=e.memoizedState,s=null!==e.updateQueue?D(t,e,e.updateQueue,o,u,s):c,!(l!==u||c!==s||ct.current||null!==e.updateQueue&&e.updateQueue.hasForceUpdate))return"function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),!1;var f=u;if(null===l||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)f=!0;else{var d=e.stateNode,v=e.type;f="function"===typeof d.shouldComponentUpdate?d.shouldComponentUpdate(f,s,h):!v.prototype||!v.prototype.isPureReactComponent||(!et(l,f)||!et(c,s))}return f?("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(u,s,h),"function"===typeof o.componentDidUpdate&&(e.effectTag|=4)):("function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),n(e,u),i(e,s)),o.props=u,o.state=s,o.context=h,f}}}function V(t){return null===t||"undefined"===typeof t?null:(t=vt&&t[vt]||t["@@iterator"],"function"===typeof t?t:null)}function U(t,e){var n=e.ref;if(null!==n&&"function"!==typeof n){if(e._owner){e=e._owner;var i=void 0;e&&(2!==e.tag&&r("110"),i=e.stateNode),i||r("147",n);var s=""+n;return null!==t&&null!==t.ref&&t.ref._stringRef===s?t.ref:(t=function(t){var e=i.refs===tt?i.refs={}:i.refs;null===t?delete e[s]:e[s]=t},t._stringRef=s,t)}"string"!==typeof n&&r("148"),e._owner||r("149",n)}return n}function q(t,e){"textarea"!==t.type&&r("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function H(t,e){function n(n,i){if(e){if(!t){if(null===i.alternate)return;i=i.alternate}var r=n.lastEffect;null!==r?(r.nextEffect=i,n.lastEffect=i):n.firstEffect=n.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(t,i){if(!e)return null;for(;null!==i;)n(t,i),i=i.sibling;return null}function s(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,n,i){return t?(e=C(e,n,i),e.index=0,e.sibling=null,e):(e.expirationTime=i,e.effectTag=0,e.index=0,e.sibling=null,e.pendingProps=n,e)}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index,i<n?(t.effectTag=2,n):i):(t.effectTag=2,n):n}function l(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(t,e,n,i){return null===e||6!==e.tag?(e=T(n,t.internalContextTag,i),e.return=t,e):(e=a(e,n,i),e.return=t,e)}function c(t,e,n,i){return null!==e&&e.type===n.type?(i=a(e,n.props,i),i.ref=U(e,n),i.return=t,i):(i=S(n,t.internalContextTag,i),i.ref=U(e,n),i.return=t,i)}function h(t,e,n,i){return null===e||7!==e.tag?(e=P(n,t.internalContextTag,i),e.return=t,e):(e=a(e,n,i),e.return=t,e)}function f(t,e,n,i){return null===e||9!==e.tag?(e=E(n,t.internalContextTag,i),e.type=n.value,e.return=t,e):(e=a(e,null,i),e.type=n.value,e.return=t,e)}function d(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=O(n,t.internalContextTag,i),e.return=t,e):(e=a(e,n.children||[],i),e.return=t,e)}function p(t,e,n,i,r){return null===e||10!==e.tag?(e=k(n,t.internalContextTag,i,r),e.return=t,e):(e=a(e,n,i),e.return=t,e)}function g(t,e,n){if("string"===typeof e||"number"===typeof e)return e=T(""+e,t.internalContextTag,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case st:return e.type===lt?(e=k(e.props.children,t.internalContextTag,n,e.key),e.return=t,e):(n=S(e,t.internalContextTag,n),n.ref=U(null,e),n.return=t,n);case at:return e=P(e,t.internalContextTag,n),e.return=t,e;case ot:return n=E(e,t.internalContextTag,n),n.type=e.value,n.return=t,n;case pt:return e=O(e,t.internalContextTag,n),e.return=t,e}if(gt(e)||V(e))return e=k(e,t.internalContextTag,n,null),e.return=t,e;q(t,e)}return null}function v(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case st:return n.key===r?n.type===lt?p(t,e,n.props.children,i,r):c(t,e,n,i):null;case at:return n.key===r?h(t,e,n,i):null;case ot:return null===r?f(t,e,n,i):null;case pt:return n.key===r?d(t,e,n,i):null}if(gt(n)||V(n))return null!==r?null:p(t,e,n,i,null);q(t,n)}return null}function m(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return t=t.get(n)||null,u(e,t,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case st:return t=t.get(null===i.key?n:i.key)||null,i.type===lt?p(e,t,i.props.children,r,i.key):c(e,t,i,r);case at:return t=t.get(null===i.key?n:i.key)||null,h(e,t,i,r);case ot:return t=t.get(n)||null,f(e,t,i,r);case pt:return t=t.get(null===i.key?n:i.key)||null,d(e,t,i,r)}if(gt(i)||V(i))return t=t.get(n)||null,p(e,t,i,r,null);q(e,i)}return null}function _(t,r,a,l){for(var u=null,c=null,h=r,f=r=0,d=null;null!==h&&f<a.length;f++){h.index>f?(d=h,h=null):d=h.sibling;var p=v(t,h,a[f],l);if(null===p){null===h&&(h=d);break}e&&h&&null===p.alternate&&n(t,h),r=o(p,r,f),null===c?u=p:c.sibling=p,c=p,h=d}if(f===a.length)return i(t,h),u;if(null===h){for(;f<a.length;f++)(h=g(t,a[f],l))&&(r=o(h,r,f),null===c?u=h:c.sibling=h,c=h);return u}for(h=s(t,h);f<a.length;f++)(d=m(h,t,f,a[f],l))&&(e&&null!==d.alternate&&h.delete(null===d.key?f:d.key),r=o(d,r,f),null===c?u=d:c.sibling=d,c=d);return e&&h.forEach(function(e){return n(t,e)}),u}function y(t,a,l,u){var c=V(l);"function"!==typeof c&&r("150"),null==(l=c.call(l))&&r("151");for(var h=c=null,f=a,d=a=0,p=null,_=l.next();null!==f&&!_.done;d++,_=l.next()){f.index>d?(p=f,f=null):p=f.sibling;var y=v(t,f,_.value,u);if(null===y){f||(f=p);break}e&&f&&null===y.alternate&&n(t,f),a=o(y,a,d),null===h?c=y:h.sibling=y,h=y,f=p}if(_.done)return i(t,f),c;if(null===f){for(;!_.done;d++,_=l.next())null!==(_=g(t,_.value,u))&&(a=o(_,a,d),null===h?c=_:h.sibling=_,h=_);return c}for(f=s(t,f);!_.done;d++,_=l.next())null!==(_=m(f,t,d,_.value,u))&&(e&&null!==_.alternate&&f.delete(null===_.key?d:_.key),a=o(_,a,d),null===h?c=_:h.sibling=_,h=_);return e&&f.forEach(function(e){return n(t,e)}),c}return function(t,e,s,o){var u="object"===typeof s&&null!==s;if(u)switch(s.$$typeof){case st:t:{var c=s.key;for(u=e;null!==u;){if(u.key===c){if(10===u.tag?s.type===lt:u.type===s.type){i(t,u.sibling),e=a(u,s.type===lt?s.props.children:s.props,o),e.ref=U(u,s),e.return=t,t=e;break t}i(t,u);break}n(t,u),u=u.sibling}s.type===lt?(s=k(s.props.children,t.internalContextTag,o,s.key),s.return=t,t=s):(o=S(s,t.internalContextTag,o),o.ref=U(e,s),o.return=t,t=o)}return l(t);case at:t:{for(u=s.key;null!==e;){if(e.key===u){if(7===e.tag){i(t,e.sibling),s=a(e,s,o),s.return=t,t=s;break t}i(t,e);break}n(t,e),e=e.sibling}s=P(s,t.internalContextTag,o),s.return=t,t=s}return l(t);case ot:t:{if(null!==e){if(9===e.tag){i(t,e.sibling),e=a(e,null,o),e.type=s.value,e.return=t,t=e;break t}i(t,e)}e=E(s,t.internalContextTag,o),e.type=s.value,e.return=t,t=e}return l(t);case pt:t:{for(u=s.key;null!==e;){if(e.key===u){if(4===e.tag&&e.stateNode.containerInfo===s.containerInfo&&e.stateNode.implementation===s.implementation){i(t,e.sibling),s=a(e,s.children||[],o),s.return=t,t=s;break t}i(t,e);break}n(t,e),e=e.sibling}s=O(s,t.internalContextTag,o),s.return=t,t=s}return l(t)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==e&&6===e.tag?(i(t,e.sibling),s=a(e,s,o)):(i(t,e),s=T(s,t.internalContextTag,o)),s.return=t,t=s,l(t);if(gt(s))return _(t,e,s,o);if(V(s))return y(t,e,s,o);if(u&&q(t,s),"undefined"===typeof s)switch(t.tag){case 2:case 1:s=t.type,r("152",s.displayName||s.name||"Component")}return i(t,e)}}function W(t,e,n,i,s){function a(t,e,n){o(t,e,n,e.expirationTime)}function o(t,e,n,i){e.child=null===t?yt(e,e.child,n,i):t.child===e.child?mt(e,e.child,n,i):_t(e,e.child,n,i)}function l(t,e){var n=e.ref;null===n||t&&t.ref===n||(e.effectTag|=128)}function u(t,e,n,i){if(l(t,e),!n)return i&&w(e,!1),h(t,e);n=e.stateNode,nt.current=e;var r=n.render();return e.effectTag|=1,a(t,e,r),e.memoizedState=n.state,e.memoizedProps=n.props,i&&w(e,!0),e.child}function c(t){var e=t.stateNode;e.pendingContext?_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_(t,e.context,!1),x(t,e.containerInfo)}function h(t,e){if(null!==t&&e.child!==t.child&&r("153"),null!==e.child){t=e.child;var n=C(t,t.pendingProps,t.expirationTime);for(e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=C(t,t.pendingProps,t.expirationTime),n.return=e;n.sibling=null}return e.child}function f(t,e){switch(e.tag){case 3:c(e);break;case 2:b(e);break;case 4:x(e,e.stateNode.containerInfo)}return null}var d=t.shouldSetTextContent,v=t.useSyncScheduling,m=t.shouldDeprioritizeSubtree,y=e.pushHostContext,x=e.pushHostContainer,S=n.enterHydrationState,k=n.resetHydrationState,T=n.tryToClaimNextHydratableInstance;t=B(i,s,function(t,e){t.memoizedProps=e},function(t,e){t.memoizedState=e});var P=t.adoptClassInstance,E=t.constructClassInstance,O=t.mountClassInstance,I=t.updateClassInstance;return{beginWork:function(t,e,n){if(0===e.expirationTime||e.expirationTime>n)return f(t,e);switch(e.tag){case 0:null!==t&&r("155");var i=e.type,s=e.pendingProps,o=p(e);return o=g(e,o),i=i(s,o),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render?(e.tag=2,s=b(e),P(e,i),O(e,n),e=u(t,e,!0,s)):(e.tag=1,a(t,e,i),e.memoizedProps=s,e=e.child),e;case 1:t:{if(s=e.type,n=e.pendingProps,i=e.memoizedProps,ct.current)null===n&&(n=i);else if(null===n||i===n){e=h(t,e);break t}i=p(e),i=g(e,i),s=s(n,i),e.effectTag|=1,a(t,e,s),e.memoizedProps=n,e=e.child}return e;case 2:return s=b(e),i=void 0,null===t?e.stateNode?r("153"):(E(e,e.pendingProps),O(e,n),i=!0):i=I(t,e,n),u(t,e,i,s);case 3:return c(e),s=e.updateQueue,null!==s?(i=e.memoizedState,s=D(t,e,s,null,null,n),i===s?(k(),e=h(t,e)):(i=s.element,o=e.stateNode,(null===t||null===t.child)&&o.hydrate&&S(e)?(e.effectTag|=2,e.child=yt(e,e.child,i,n)):(k(),a(t,e,i)),e.memoizedState=s,e=e.child)):(k(),e=h(t,e)),e;case 5:y(e),null===t&&T(e),s=e.type;var _=e.memoizedProps;return i=e.pendingProps,null===i&&null===(i=_)&&r("154"),o=null!==t?t.memoizedProps:null,ct.current||null!==i&&_!==i?(_=i.children,d(s,i)?_=null:o&&d(s,o)&&(e.effectTag|=16),l(t,e),2147483647!==n&&!v&&m(s,i)?(e.expirationTime=2147483647,e=null):(a(t,e,_),e.memoizedProps=i,e=e.child)):e=h(t,e),e;case 6:return null===t&&T(e),t=e.pendingProps,null===t&&(t=e.memoizedProps),e.memoizedProps=t,null;case 8:e.tag=7;case 7:return s=e.pendingProps,ct.current?null===s&&null===(s=t&&t.memoizedProps)&&r("154"):null!==s&&e.memoizedProps!==s||(s=e.memoizedProps),i=s.children,e.stateNode=null===t?yt(e,e.stateNode,i,n):t.child===e.child?mt(e,e.stateNode,i,n):_t(e,e.stateNode,i,n),e.memoizedProps=s,e.stateNode;case 9:return null;case 4:t:{if(x(e,e.stateNode.containerInfo),s=e.pendingProps,ct.current)null===s&&null==(s=t&&t.memoizedProps)&&r("154");else if(null===s||e.memoizedProps===s){e=h(t,e);break t}null===t?e.child=_t(e,e.child,s,n):a(t,e,s),e.memoizedProps=s,e=e.child}return e;case 10:t:{if(n=e.pendingProps,ct.current)null===n&&(n=e.memoizedProps);else if(null===n||e.memoizedProps===n){e=h(t,e);break t}a(t,e,n),e.memoizedProps=n,e=e.child}return e;default:r("156")}},beginFailedWork:function(t,e,n){switch(e.tag){case 2:b(e);break;case 3:c(e);break;default:r("157")}return e.effectTag|=64,null===t?e.child=null:e.child!==t.child&&(e.child=t.child),0===e.expirationTime||e.expirationTime>n?f(t,e):(e.firstEffect=null,e.lastEffect=null,o(t,e,null,n),2===e.tag&&(t=e.stateNode,e.memoizedProps=t.props,e.memoizedState=t.state),e.child)}}}function $(t,e,n){function i(t){t.effectTag|=4}var s=t.createInstance,a=t.createTextInstance,o=t.appendInitialChild,l=t.finalizeInitialChildren,u=t.prepareUpdate,c=t.persistence,h=e.getRootHostContainer,d=e.popHostContext,p=e.getHostContext,g=e.popHostContainer,v=n.prepareToHydrateHostInstance,_=n.prepareToHydrateHostTextInstance,y=n.popHydrationState,b=void 0,w=void 0,x=void 0;return t.mutation?(b=function(){},w=function(t,e,n){(e.updateQueue=n)&&i(e)},x=function(t,e,n,r){n!==r&&i(e)}):r(c?"235":"236"),{completeWork:function(t,e,n){var c=e.pendingProps;switch(null===c?c=e.memoizedProps:2147483647===e.expirationTime&&2147483647!==n||(e.pendingProps=null),e.tag){case 1:return null;case 2:return m(e),null;case 3:return g(e),f(ct,e),f(ut,e),c=e.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==t&&null!==t.child||(y(e),e.effectTag&=-3),b(e),null;case 5:d(e),n=h();var C=e.type;if(null!==t&&null!=e.stateNode){var S=t.memoizedProps,k=e.stateNode,T=p();k=u(k,C,S,c,n,T),w(t,e,k,C,S,c,n),t.ref!==e.ref&&(e.effectTag|=128)}else{if(!c)return null===e.stateNode&&r("166"),null;if(t=p(),y(e))v(e,n,t)&&i(e);else{t=s(C,c,n,t,e);t:for(S=e.child;null!==S;){if(5===S.tag||6===S.tag)o(t,S.stateNode);else if(4!==S.tag&&null!==S.child){S.child.return=S,S=S.child;continue}if(S===e)break;for(;null===S.sibling;){if(null===S.return||S.return===e)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}l(t,C,c,n)&&i(e),e.stateNode=t}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)x(t,e,t.memoizedProps,c);else{if("string"!==typeof c)return null===e.stateNode&&r("166"),null;t=h(),n=p(),y(e)?_(e)&&i(e):e.stateNode=a(c,t,n,e)}return null;case 7:(c=e.memoizedProps)||r("165"),e.tag=8,C=[];t:for((S=e.stateNode)&&(S.return=e);null!==S;){if(5===S.tag||6===S.tag||4===S.tag)r("247");else if(9===S.tag)C.push(S.type);else if(null!==S.child){S.child.return=S,S=S.child;continue}for(;null===S.sibling;){if(null===S.return||S.return===e)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}return S=c.handler,c=S(c.props,C),e.child=mt(e,null!==t?t.child:null,c,n),e.child;case 8:return e.tag=7,null;case 9:case 10:return null;case 4:return g(e),b(e),null;case 0:r("167");default:r("156")}}}}function Z(t,e){function n(t){var n=t.ref;if(null!==n)try{n(null)}catch(n){e(t,n)}}function i(t){switch("function"===typeof N&&N(t),t.tag){case 2:n(t);var i=t.stateNode;if("function"===typeof i.componentWillUnmount)try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(n){e(t,n)}break;case 5:n(t);break;case 7:s(t.stateNode);break;case 4:u&&o(t)}}function s(t){for(var e=t;;)if(i(e),null===e.child||u&&4===e.tag){if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}else e.child.return=e,e=e.child}function a(t){return 5===t.tag||3===t.tag||4===t.tag}function o(t){for(var e=t,n=!1,a=void 0,o=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&r("160"),n.tag){case 5:a=n.stateNode,o=!1;break t;case 3:case 4:a=n.stateNode.containerInfo,o=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag)s(e),o?y(a,e.stateNode):_(a,e.stateNode);else if(4===e.tag?a=e.stateNode.containerInfo:i(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return,4===e.tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}var l=t.getPublicInstance,u=t.mutation;t=t.persistence,u||r(t?"235":"236");var c=u.commitMount,h=u.commitUpdate,f=u.resetTextContent,d=u.commitTextUpdate,p=u.appendChild,g=u.appendChildToContainer,v=u.insertBefore,m=u.insertInContainerBefore,_=u.removeChild,y=u.removeChildFromContainer;return{commitResetTextContent:function(t){f(t.stateNode)},commitPlacement:function(t){t:{for(var e=t.return;null!==e;){if(a(e)){var n=e;break t}e=e.return}r("160"),n=void 0}var i=e=void 0;switch(n.tag){case 5:e=n.stateNode,i=!1;break;case 3:case 4:e=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(f(e),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||a(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var s=t;;){if(5===s.tag||6===s.tag)n?i?m(e,s.stateNode,n):v(e,s.stateNode,n):i?g(e,s.stateNode):p(e,s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},commitDeletion:function(t){o(t),t.return=null,t.child=null,t.alternate&&(t.alternate.child=null,t.alternate.return=null)},commitWork:function(t,e){switch(e.tag){case 2:break;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps;t=null!==t?t.memoizedProps:i;var s=e.type,a=e.updateQueue;e.updateQueue=null,null!==a&&h(n,a,s,t,i,e)}break;case 6:null===e.stateNode&&r("162"),n=e.memoizedProps,d(e.stateNode,null!==t?t.memoizedProps:n,n);break;case 3:break;default:r("163")}},commitLifeCycles:function(t,e){switch(e.tag){case 2:var n=e.stateNode;if(4&e.effectTag)if(null===t)n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidMount();else{var i=t.memoizedProps;t=t.memoizedState,n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidUpdate(i,t)}e=e.updateQueue,null!==e&&F(e,n);break;case 3:n=e.updateQueue,null!==n&&F(n,null!==e.child?e.child.stateNode:null);break;case 5:n=e.stateNode,null===t&&4&e.effectTag&&c(n,e.type,e.memoizedProps,e);break;case 6:case 4:break;default:r("163")}},commitAttachRef:function(t){var e=t.ref;if(null!==e){var n=t.stateNode;switch(t.tag){case 5:e(l(n));break;default:e(n)}}},commitDetachRef:function(t){null!==(t=t.ref)&&t(null)}}}function G(t){function e(t){return t===bt&&r("174"),t}var n=t.getChildHostContext,i=t.getRootHostContext,s={current:bt},a={current:bt},o={current:bt};return{getHostContext:function(){return e(s.current)},getRootHostContainer:function(){return e(o.current)},popHostContainer:function(t){f(s,t),f(a,t),f(o,t)},popHostContext:function(t){a.current===t&&(f(s,t),f(a,t))},pushHostContainer:function(t,e){d(o,e,t),e=i(e),d(a,t,t),d(s,e,t)},pushHostContext:function(t){var i=e(o.current),r=e(s.current);i=n(r,t.type,i),r!==i&&(d(a,t,t),d(s,i,t))},resetHostContainer:function(){s.current=bt,o.current=bt}}}function K(t){function e(t,e){var n=new x(5,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function n(t,e){switch(t.tag){case 5:return null!==(e=a(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=o(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function i(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;f=t}var s=t.shouldSetTextContent;if(!(t=t.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var a=t.canHydrateInstance,o=t.canHydrateTextInstance,l=t.getNextHydratableSibling,u=t.getFirstHydratableChild,c=t.hydrateInstance,h=t.hydrateTextInstance,f=null,d=null,p=!1;return{enterHydrationState:function(t){return d=u(t.stateNode.containerInfo),f=t,p=!0},resetHydrationState:function(){d=f=null,p=!1},tryToClaimNextHydratableInstance:function(t){if(p){var i=d;if(i){if(!n(t,i)){if(!(i=l(i))||!n(t,i))return t.effectTag|=2,p=!1,void(f=t);e(f,d)}f=t,d=u(i)}else t.effectTag|=2,p=!1,f=t}},prepareToHydrateHostInstance:function(t,e,n){return e=c(t.stateNode,t.type,t.memoizedProps,e,n,t),t.updateQueue=e,null!==e},prepareToHydrateHostTextInstance:function(t){return h(t.stateNode,t.memoizedProps,t)},popHydrationState:function(t){if(t!==f)return!1;if(!p)return i(t),p=!0,!1;var n=t.type;if(5!==t.tag||"head"!==n&&"body"!==n&&!s(n,t.memoizedProps))for(n=d;n;)e(t,n),n=l(n);return i(t),d=f?l(t.stateNode):null,!0}}}function Y(t){function e(t){yt=at=!0;var e=t.stateNode;if(e.current===t&&r("177"),e.isReadyForCommit=!1,nt.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var n=t.firstEffect}else n=t;else n=t.firstEffect;for(X(),dt=n;null!==dt;){var i=!1,s=void 0;try{for(;null!==dt;){var a=dt.effectTag;if(16&a&&R(dt),128&a){var o=dt.alternate;null!==o&&U(o)}switch(-242&a){case 2:j(dt),dt.effectTag&=-3;break;case 6:j(dt),dt.effectTag&=-3,F(dt.alternate,dt);break;case 4:F(dt.alternate,dt);break;case 8:bt=!0,D(dt),bt=!1}dt=dt.nextEffect}}catch(t){i=!0,s=t}i&&(null===dt&&r("178"),u(dt,s),null!==dt&&(dt=dt.nextEffect))}for(Q(),e.current=t,dt=n;null!==dt;){n=!1,i=void 0;try{for(;null!==dt;){var l=dt.effectTag;if(36&l&&B(dt.alternate,dt),128&l&&V(dt),64&l)switch(s=dt,a=void 0,null!==pt&&(a=pt.get(s),pt.delete(s),null==a&&null!==s.alternate&&(s=s.alternate,a=pt.get(s),pt.delete(s))),null==a&&r("184"),s.tag){case 2:s.stateNode.componentDidCatch(a.error,{componentStack:a.componentStack});break;case 3:null===mt&&(mt=a.error);break;default:r("157")}var c=dt.nextEffect;dt.nextEffect=null,dt=c}}catch(t){n=!0,i=t}n&&(null===dt&&r("178"),u(dt,i),null!==dt&&(dt=dt.nextEffect))}return at=yt=!1,"function"===typeof M&&M(t.stateNode),vt&&(vt.forEach(v),vt=null),null!==mt&&(t=mt,mt=null,k(t)),e=e.current.expirationTime,0===e&&(gt=pt=null),e}function n(t){for(;;){var e=z(t.alternate,t,ft),n=t.return,i=t.sibling,r=t;if(2147483647===ft||2147483647!==r.expirationTime){if(2!==r.tag&&3!==r.tag)var s=0;else s=r.updateQueue,s=null===s?0:s.expirationTime;for(var a=r.child;null!==a;)0!==a.expirationTime&&(0===s||s>a.expirationTime)&&(s=a.expirationTime),a=a.sibling;r.expirationTime=s}if(null!==e)return e;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t)),null!==i)return i;if(null===n){t.stateNode.isReadyForCommit=!0;break}t=n}return null}function i(t){var e=N(t.alternate,t,ft);return null===e&&(e=n(t)),nt.current=null,e}function a(t){var e=L(t.alternate,t,ft);return null===e&&(e=n(t)),nt.current=null,e}function o(t){if(null!==pt){if(!(0===ft||ft>t))if(ft<=et)for(;null!==ot;)ot=c(ot)?a(ot):i(ot);else for(;null!==ot&&!S();)ot=c(ot)?a(ot):i(ot)}else if(!(0===ft||ft>t))if(ft<=et)for(;null!==ot;)ot=i(ot);else for(;null!==ot&&!S();)ot=i(ot)}function l(t,e){if(at&&r("243"),at=!0,t.isReadyForCommit=!1,t!==lt||e!==ft||null===ot){for(;-1<rt;)it[rt]=null,rt--;ht=tt,ut.current=tt,ct.current=!1,I(),lt=t,ft=e,ot=C(lt.current,null,e)}var n=!1,i=null;try{o(e)}catch(t){n=!0,i=t}for(;n;){if(_t){mt=i;break}var s=ot;if(null===s)_t=!0;else{var l=u(s,i);if(null===l&&r("183"),!_t){try{for(n=l,i=e,l=n;null!==s;){switch(s.tag){case 2:m(s);break;case 5:O(s);break;case 3:E(s);break;case 4:E(s)}if(s===l||s.alternate===l)break;s=s.return}ot=a(n),o(i)}catch(t){n=!0,i=t;continue}break}}}return e=mt,_t=at=!1,mt=null,null!==e&&k(e),t.isReadyForCommit?t.current.alternate:null}function u(t,e){var n=nt.current=null,i=!1,r=!1,a=null;if(3===t.tag)n=t,h(t)&&(_t=!0);else for(var o=t.return;null!==o&&null===n;){if(2===o.tag?"function"===typeof o.stateNode.componentDidCatch&&(i=!0,a=s(o),n=o,r=!0):3===o.tag&&(n=o),h(o)){if(bt||null!==vt&&(vt.has(o)||null!==o.alternate&&vt.has(o.alternate)))return null;n=null,r=!1}o=o.return}if(null!==n){null===gt&&(gt=new Set),gt.add(n);var l="";o=t;do{t:switch(o.tag){case 0:case 1:case 2:case 5:var u=o._debugOwner,c=o._debugSource,f=s(o),d=null;u&&(d=s(u)),u=c,f="\n    in "+(f||"Unknown")+(u?" (at "+u.fileName.replace(/^.*[\\\/]/,"")+":"+u.lineNumber+")":d?" (created by "+d+")":"");break t;default:f=""}l+=f,o=o.return}while(o);o=l,t=s(t),null===pt&&(pt=new Map),e={componentName:t,componentStack:o,error:e,errorBoundary:i?n.stateNode:null,errorBoundaryFound:i,errorBoundaryName:a,willRetry:r},pt.set(n,e);try{console.error(e.error)}catch(t){console.error(t)}return yt?(null===vt&&(vt=new Set),vt.add(n)):v(n),n}return null===mt&&(mt=e),null}function c(t){return null!==pt&&(pt.has(t)||null!==t.alternate&&pt.has(t.alternate))}function h(t){return null!==gt&&(gt.has(t)||null!==t.alternate&&gt.has(t.alternate))}function f(){return 20*(1+((_()+100)/20|0))}function d(t){return 0!==st?st:at?yt?1:ft:!Y||1&t.internalContextTag?f():1}function p(t,e){return g(t,e,!1)}function g(t,e){for(;null!==t;){if((0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>e)&&(t.alternate.expirationTime=e),null===t.return){if(3!==t.tag)break;var n=t.stateNode;!at&&n===lt&&e<=ft&&(ot=lt=null,ft=0);var i=e;if(Lt>Nt&&r("185"),null===n.nextScheduledRoot)n.remainingExpirationTime=i,null===xt?(wt=xt=n,n.nextScheduledRoot=n):(xt=xt.nextScheduledRoot=n,xt.nextScheduledRoot=wt);else{var s=n.remainingExpirationTime;(0===s||i<s)&&(n.remainingExpirationTime=i)}St||(At?Mt&&x(n,1):1===i?w(1,null):Ct||(Ct=!0,H(b)))}t=t.return}}function v(t){g(t,1,!0)}function _(){return et=2+((q()-J)/10|0)}function y(){var t=0,e=null;if(null!==xt)for(var n=xt,i=wt;null!==i;){var s=i.remainingExpirationTime;if(0===s){if((null===n||null===xt)&&r("244"),i===i.nextScheduledRoot){wt=xt=i.nextScheduledRoot=null;break}if(i===wt)wt=s=i.nextScheduledRoot,xt.nextScheduledRoot=s,i.nextScheduledRoot=null;else{if(i===xt){xt=n,xt.nextScheduledRoot=wt,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===t||s<t)&&(t=s,e=i),i===xt)break;n=i,i=i.nextScheduledRoot}}n=kt,null!==n&&n===e?Lt++:Lt=0,kt=e,Tt=t}function b(t){w(0,t)}function w(t,e){for(It=e,y();null!==kt&&0!==Tt&&(0===t||Tt<=t)&&!Pt;)x(kt,Tt),y();if(null!==It&&(Ct=!1),null===kt||Ct||(Ct=!0,H(b)),It=null,Pt=!1,Lt=0,Et)throw t=Ot,Ot=null,Et=!1,t}function x(t,n){if(St&&r("245"),St=!0,n<=_()){var i=t.finishedWork;null!==i?(t.finishedWork=null,t.remainingExpirationTime=e(i)):(t.finishedWork=null,null!==(i=l(t,n))&&(t.remainingExpirationTime=e(i)))}else i=t.finishedWork,null!==i?(t.finishedWork=null,t.remainingExpirationTime=e(i)):(t.finishedWork=null,null!==(i=l(t,n))&&(S()?t.finishedWork=i:t.remainingExpirationTime=e(i)));St=!1}function S(){return!(null===It||It.timeRemaining()>zt)&&(Pt=!0)}function k(t){null===kt&&r("246"),kt.remainingExpirationTime=0,Et||(Et=!0,Ot=t)}var T=G(t),P=K(t),E=T.popHostContainer,O=T.popHostContext,I=T.resetHostContainer,A=W(t,T,P,p,d),N=A.beginWork,L=A.beginFailedWork,z=$(t,T,P).completeWork;T=Z(t,u);var R=T.commitResetTextContent,j=T.commitPlacement,D=T.commitDeletion,F=T.commitWork,B=T.commitLifeCycles,V=T.commitAttachRef,U=T.commitDetachRef,q=t.now,H=t.scheduleDeferredCallback,Y=t.useSyncScheduling,X=t.prepareForCommit,Q=t.resetAfterCommit,J=q(),et=2,st=0,at=!1,ot=null,lt=null,ft=0,dt=null,pt=null,gt=null,vt=null,mt=null,_t=!1,yt=!1,bt=!1,wt=null,xt=null,Ct=!1,St=!1,kt=null,Tt=0,Pt=!1,Et=!1,Ot=null,It=null,At=!1,Mt=!1,Nt=1e3,Lt=0,zt=1;return{computeAsyncExpiration:f,computeExpirationForFiber:d,scheduleWork:p,batchedUpdates:function(t,e){var n=At;At=!0;try{return t(e)}finally{(At=n)||St||w(1,null)}},unbatchedUpdates:function(t){if(At&&!Mt){Mt=!0;try{return t()}finally{Mt=!1}}return t()},flushSync:function(t){var e=At;At=!0;try{t:{var n=st;st=1;try{var i=t();break t}finally{st=n}i=void 0}return i}finally{At=e,St&&r("187"),w(1,null)}},deferredUpdates:function(t){var e=st;st=f();try{return t()}finally{st=e}}}}function X(t){function e(t){return t=c(t),null===t?null:t.stateNode}var n=t.getPublicInstance;t=Y(t);var i=t.computeAsyncExpiration,s=t.computeExpirationForFiber,o=t.scheduleWork;return{createContainer:function(t,e){var n=new x(3,null,0);return t={current:n,containerInfo:t,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:e,nextScheduledRoot:null},n.stateNode=t},updateContainer:function(t,e,n,l){var u=e.current;if(n){n=n._reactInternalFiber;var c;t:{for(2===a(n)&&2===n.tag||r("170"),c=n;3!==c.tag;){if(v(c)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}(c=c.return)||r("171")}c=c.stateNode.context}n=v(n)?y(n,c):c}else n=tt;null===e.context?e.context=n:e.pendingContext=n,e=l,e=void 0===e?null:e,l=null!=t&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent?i():s(u),R(u,{expirationTime:l,partialState:{element:t},callback:e,isReplace:!1,isForced:!1,nextCallback:null,next:null}),o(u,l)},batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,flushSync:t.flushSync,getPublicRootInstance:function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return n(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:e,findHostInstanceWithNoPortals:function(t){return t=h(t),null===t?null:t.stateNode},injectIntoDevTools:function(t){var n=t.findFiberByHostInstance;return A(Q({},t,{findHostInstanceByFiber:function(t){return e(t)},findFiberByHostInstance:function(t){return n?n(t):null}}))}}}var Q=n(20),J=n(19),tt=n(7),et=n(67),nt=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,it=[],rt=-1;new Set;var st,at,ot,lt,ut={current:tt},ct={current:!1},ht=tt,ft=null,dt=null,pt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.portal")||60106,gt=Array.isArray,vt="function"===typeof Symbol&&Symbol.iterator;"function"===typeof Symbol&&Symbol.for?(st=Symbol.for("react.element"),at=Symbol.for("react.call"),ot=Symbol.for("react.return"),lt=Symbol.for("react.fragment")):(st=60103,at=60104,ot=60105,lt=60107);var mt=H(!0,!0),_t=H(!1,!0),yt=H(!1,!1),bt={},wt=Object.freeze({default:X}),xt=wt&&X||wt;return t.exports=xt.default?xt.default:xt,(i||(i=t.exports))(e)}},function(t,e,n){"use strict";function i(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function r(t,e){if(i(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!s.call(e,n[a])||!i(t[n[a]],e[n[a]]))return!1;return!0}var s=Object.prototype.hasOwnProperty;t.exports=r},function(t,e,n){"use strict";var i=n(0),r=n.n(i),s=n(1),a=n.n(s),o=n(2),l=n.n(o),u=n(69),c=(n.n(u),function(t){var e=t.color,n=t.size,i=l()({},e&&{backgroundColor:e},n&&{width:n,height:n});return r.a.createElement("div",{className:"Loader"},r.a.createElement("div",{style:i}),r.a.createElement("div",{style:i}),r.a.createElement("div",{style:i}))});c.propTypes={color:a.a.string,size:a.a.number},e.a=c},function(t,e){},function(t,e,n){"use strict";var i=n(0),r=n.n(i),s=n(1),a=n.n(s),o=n(71),l=n(73),u=n(81),c=n(83),h=(n.n(c),function(t){var e=t.activeTool,n=t.fullscreen,i=t.imageSize,s=t.showLayers;return r.a.createElement("div",{className:"Toolbar"},r.a.createElement("div",null,r.a.createElement(o.a,{tool:"move",title:"Move Tool (V)",active:"move"===e,setTool:t.setTool},r.a.createElement("i",{className:"material-icons"},"pan_tool")),r.a.createElement(o.a,{tool:"select",title:"Select Tool (A)",active:"select"===e,setTool:t.setTool},r.a.createElement("i",{className:"material-icons"},"touch_app")),r.a.createElement(o.a,{tool:"pen",title:"Pen Tool (P)",active:"pen"===e,setTool:t.setTool},r.a.createElement("i",{className:"material-icons"},"create")),r.a.createElement(o.a,{tool:"circle",title:"Circle Tool (C)",active:"circle"===e,setTool:t.setTool},r.a.createElement("i",{className:"material-icons"},"add_circle")),r.a.createElement(o.a,{tool:"rectangle",title:"Rectangle Tool (R)",active:"rectangle"===e,setTool:t.setTool},r.a.createElement("i",{className:"material-icons"},"add_box")),r.a.createElement(o.a,{tool:"delete",title:"Delete Tool (D)",active:"delete"===e,setTool:t.setTool},r.a.createElement("i",{className:"material-icons"},"delete"))),r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement(o.a,{tool:"undo",title:"Undo",active:"undo"===e,disabled:!t.canUndo,onClick:t.undo},r.a.createElement("i",{className:"material-icons"},"undo")),r.a.createElement(o.a,{tool:"redo",title:"Redo",active:"redo"===e,disabled:!t.canRedo,onClick:t.redo},r.a.createElement("i",{className:"material-icons"},"redo")),r.a.createElement(o.a,{tool:"reset",title:"Reset View",onClick:t.clearHistory,disabled:!t.canRedo&&!t.canUndo},r.a.createElement("i",{className:"material-icons"},"clear"))),r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement(l.a,{offset:"0 -8",target:r.a.createElement(o.a,{title:"Image Size"},r.a.createElement("i",{className:"material-icons"},"photo_size_select_large"))},r.a.createElement(u.a,{onClick:t.setImageSize,size:480},r.a.createElement("i",{className:"material-icons"},480===i?"radio_button_checked":"radio_button_unchecked"),r.a.createElement("span",null,"480p")),r.a.createElement(u.a,{onClick:t.setImageSize,size:720},r.a.createElement("i",{className:"material-icons"},720===i?"radio_button_checked":"radio_button_unchecked"),r.a.createElement("span",null,"720p")),r.a.createElement(u.a,{onClick:t.setImageSize,size:1080},r.a.createElement("i",{className:"material-icons"},1080===i?"radio_button_checked":"radio_button_unchecked"),r.a.createElement("span",null,"1080p"))),r.a.createElement(o.a,{tool:"layers",title:s?"Hide Layers":"Show Layers",active:"layers"===e,onClick:t.toggleLayers},r.a.createElement("i",{className:"material-icons"},s?"layers":"layers_clear")),r.a.createElement(o.a,{tool:"fullscreen",title:n?"Exit Fullscreen":"Fullscreen",onClick:t.toggleFullscreen},r.a.createElement("i",{className:"material-icons"},n?"fullscreen_exit":"fullscreen"))),r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement(o.a,{tool:"save",title:"Save",onClick:t.save,disabled:!t.canUndo},r.a.createElement("i",{className:"material-icons"},"save"))),r.a.createElement("span",null),r.a.createElement("div",null,r.a.createElement("a",{title:"Fork me on GitHub",href:"https://github.com/HriBB/react-paper-bindings"},r.a.createElement("svg",{width:"22",height:"22",version:"1.1",viewBox:"0 0 16 16"},r.a.createElement("path",{fillRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"})))))});h.propTypes={activeTool:a.a.string,canUndo:a.a.bool,canRedo:a.a.bool,fullscreen:a.a.bool,imageSize:a.a.number,showLayers:a.a.bool,save:a.a.func,setTool:a.a.func,undo:a.a.func,redo:a.a.func,clearHistory:a.a.func,toggleFullscreen:a.a.func,toggleLayers:a.a.func,setImageSize:a.a.func},e.a=h},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(0),l=n.n(o),u=n(1),c=n.n(u),h=n(72),f=(n.n(h),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),d=function(t){function e(){var t,n,i,a;r(this,e);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=i=s(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.handleClick=function(t){i.props.onClick?i.props.onClick(t):i.props.setTool&&i.props.setTool(i.props.tool)},a=n,s(i,a)}return a(e,t),f(e,[{key:"render",value:function(){var t=this.props,e=t.active,n=t.children,r=(t.onClick,t.setTool,t.tool,i(t,["active","children","onClick","setTool","tool"])),s={className:"Button"+(e?" Button-active":""),onClick:this.handleClick};return l.a.createElement("button",Object.assign({},r,s),n)}}]),e}(o.Component);d.propTypes={active:c.a.bool,children:c.a.node,onClick:c.a.func,setTool:c.a.func,tool:c.a.string},e.a=d},function(t,e){},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(0),l=n.n(o),u=n(1),c=n.n(u),h=n(74),f=n(78),d=n(80),p=(n.n(d),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),g=function(t){function e(){return r(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),p(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=i(t,["children"]);return l.a.createElement(h.a,Object.assign({className:"PortalMenu"},n),l.a.createElement(f.a,null,e))}}]),e}(o.Component);g.propTypes={align:c.a.string,children:c.a.any.isRequired,offset:c.a.string,target:c.a.element.isRequired},e.a=g},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),o=n.n(a),l=n(6),u=(n.n(l),n(1)),c=n.n(u),h=n(75),f=n.n(h),d=n(76),p=n.n(d),g=n(77),v=(n.n(g),function(){function t(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw s}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_={t:"top",b:"bottom",l:"left",r:"right",m:"middle",c:"center"},y=function(t){function e(){var t,n,s,a;i(this,e);for(var o=arguments.length,u=Array(o),c=0;c<o;c++)u[c]=arguments[c];return n=s=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),s.onOpen=function(t){var e=s.props,n=e.align,i=e.offset,r=Object(l.findDOMNode)(s),a=n.split("").map(function(t){return t&&_[t]}).filter(function(t){return t}),o=v(a,4),u=o[0],c=o[1],h=o[2],f=o[3],d=i.split(" ").map(function(t){return parseInt(t,10)}),g=v(d,2),m=g[0],y=g[1];t.classList.add("Dropdown"),s._tether=new p.a({element:t,target:r,attachment:u+" "+c,targetAttachment:h+" "+f,offset:m+" "+y,constraints:[{to:"window",pin:!0}]}),t.style.opacity=1},s.beforeClose=function(t,e){s._tether&&s._tether.destroy(),s._timeout=setTimeout(e)},a=n,r(s,a)}return s(e,t),m(e,[{key:"componentWillUnmount",value:function(){this._timeout&&clearTimeout(this._timeout)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.closeOnEsc,i=t.closeOnOutsideClick,r=t.target;return o.a.createElement(f.a,{closeOnEsc:n,closeOnOutsideClick:i,openByClickOn:r,onOpen:this.onOpen,beforeClose:this.beforeClose},e)}}]),e}(a.Component);y.propTypes={align:function(t,e,n){if(!/[btm][lrc] [btm][lrc]/.test(t[e]))return new Error("Invalid prop "+e+" ("+t[e]+") supplied to "+n+". Validation failed.")},children:c.a.any.isRequired,closeOnEsc:c.a.bool,closeOnOutsideClick:c.a.bool,offset:c.a.string,target:c.a.element.isRequired},y.defaultProps={align:"tl bl",closeOnEsc:!0,closeOnOutsideClick:!0,offset:"0 0"},e.a=y},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(0),u=i(l),c=n(6),h=i(c),f=n(1),d=i(f),p={ESCAPE:27},g=function(t){function e(){r(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={active:!1},t.handleWrapperClick=t.handleWrapperClick.bind(t),t.closePortal=t.closePortal.bind(t),t.handleOutsideMouseClick=t.handleOutsideMouseClick.bind(t),t.handleKeydown=t.handleKeydown.bind(t),t.portal=null,t.node=null,t}return a(e,t),o(e,[{key:"componentDidMount",value:function(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&(document.addEventListener("mouseup",this.handleOutsideMouseClick),document.addEventListener("touchstart",this.handleOutsideMouseClick)),this.props.isOpened&&this.openPortal()}},{key:"componentWillReceiveProps",value:function(t){"undefined"!==typeof t.isOpened&&(t.isOpened&&(this.state.active?this.renderPortal(t):this.openPortal(t)),!t.isOpened&&this.state.active&&this.closePortal()),"undefined"===typeof t.isOpened&&this.state.active&&this.renderPortal(t)}},{key:"componentWillUnmount",value:function(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&(document.removeEventListener("mouseup",this.handleOutsideMouseClick),document.removeEventListener("touchstart",this.handleOutsideMouseClick)),this.closePortal(!0)}},{key:"handleWrapperClick",value:function(t){t.preventDefault(),t.stopPropagation(),this.state.active||this.openPortal()}},{key:"openPortal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({active:!0}),this.renderPortal(t),this.props.onOpen(this.node)}},{key:"closePortal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(n){t.node&&(h.default.unmountComponentAtNode(t.node),document.body.removeChild(t.node)),t.portal=null,t.node=null,!0!==(void 0===n?e:n)&&t.setState({active:!1})};this.state.active&&(this.props.beforeClose?this.props.beforeClose(this.node,n):n(),this.props.onClose())}},{key:"handleOutsideMouseClick",value:function(t){if(this.state.active){(0,c.findDOMNode)(this.portal).contains(t.target)||t.button&&0!==t.button||(t.stopPropagation(),this.closePortal())}}},{key:"handleKeydown",value:function(t){t.keyCode===p.ESCAPE&&this.state.active&&this.closePortal()}},{key:"renderPortal",value:function(t){this.node||(this.node=document.createElement("div"),document.body.appendChild(this.node));var e=t.children;"function"===typeof t.children.type&&(e=u.default.cloneElement(t.children,{closePortal:this.closePortal})),this.portal=h.default.unstable_renderSubtreeIntoContainer(this,e,this.node,this.props.onUpdate)}},{key:"render",value:function(){return this.props.openByClickOn?u.default.cloneElement(this.props.openByClickOn,{onClick:this.handleWrapperClick}):null}}]),e}(u.default.Component);e.default=g,g.propTypes={children:d.default.element.isRequired,openByClickOn:d.default.element,closeOnEsc:d.default.bool,closeOnOutsideClick:d.default.bool,isOpened:d.default.bool,onOpen:d.default.func,onClose:d.default.func,beforeClose:d.default.func,onUpdate:d.default.func},g.defaultProps={onOpen:function(){},onClose:function(){},onUpdate:function(){}},t.exports=e.default},function(t,e,n){var i,r;!function(s,a){i=a,void 0!==(r="function"===typeof i?i.call(e,n,e,t):i)&&(t.exports=r)}(0,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.getBoundingClientRect(),n={};for(var i in e)n[i]=e[i];if(t.ownerDocument!==document){var s=t.ownerDocument.defaultView.frameElement;if(s){var a=r(s);n.top+=a.top,n.bottom+=a.top,n.left+=a.left,n.right+=a.left}}return n}function s(t){var e=getComputedStyle(t)||{},n=e.position,i=[];if("fixed"===n)return[t];for(var r=t;(r=r.parentNode)&&r&&1===r.nodeType;){var s=void 0;try{s=getComputedStyle(r)}catch(t){}if("undefined"===typeof s||null===s)return i.push(r),i;var a=s,o=a.overflow,l=a.overflowX;/(auto|scroll|overlay)/.test(o+a.overflowY+l)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(s.position)>=0)&&i.push(r)}return i.push(t.ownerDocument.body),t.ownerDocument!==document&&i.push(t.ownerDocument.defaultView),i}function a(){k&&document.body.removeChild(k),k=null}function o(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,i=r(t),s=E();return i.top-=s.top,i.left-=s.left,"undefined"===typeof i.width&&(i.width=document.body.scrollWidth-i.left-i.right),"undefined"===typeof i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function l(t){return t.offsetParent||document.documentElement}function u(){if(O)return O;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");c(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var r=n-i;return O={width:r,height:r}}function c(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function h(t,e){if("undefined"!==typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=p(t).replace(n," ");g(t,i)}}function f(t,e){if("undefined"!==typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{h(t,e);var n=p(t)+" "+e;g(t,n)}}function d(t,e){if("undefined"!==typeof t.classList)return t.classList.contains(e);var n=p(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function p(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function g(t,e){t.setAttribute("class",e)}function v(t,e,n){n.forEach(function(n){-1===e.indexOf(n)&&d(t,n)&&h(t,n)}),e.forEach(function(e){d(t,e)||f(t,e)})}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function y(){return performance&&performance.now?performance.now():+new Date}function b(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){var n=e.top,i=e.left;"string"===typeof n&&(n=parseFloat(n,10)),"string"===typeof i&&(i=parseFloat(i,10)),t.top+=n,t.left+=i}),t}function w(t,e){return"string"===typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"===typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function x(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),"undefined"!==typeof e.nodeType&&function(){var t=e,n=o(e),i=n,r=getComputedStyle(e);if(e=[i.left,i.top,n.width+i.left,n.height+i.top],t.ownerDocument!==document){var s=t.ownerDocument.defaultView;e[0]+=s.pageXOffset,e[1]+=s.pageYOffset,e[2]+=s.pageXOffset,e[3]+=s.pageYOffset}K.forEach(function(t,n){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[n]+=parseFloat(r["border"+t+"Width"]):e[n]-=parseFloat(r["border"+t+"Width"])})}(),e}var C=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),S=void 0;"undefined"===typeof S&&(S={modules:[]});var k=null,T=function(){var t=0;return function(){return++t}}(),P={},E=function(){var t=k;t&&document.body.contains(t)||(t=document.createElement("div"),t.setAttribute("data-tether-id",T()),c(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),k=t);var e=t.getAttribute("data-tether-id");return"undefined"===typeof P[e]&&(P[e]=r(t),A(function(){delete P[e]})),P[e]},O=null,I=[],A=function(t){I.push(t)},M=function(){for(var t=void 0;t=I.pop();)t()},N=function(){function t(){i(this,t)}return C(t,[{key:"on",value:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"===typeof this.bindings&&(this.bindings={}),"undefined"===typeof this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if("undefined"!==typeof this.bindings&&"undefined"!==typeof this.bindings[t])if("undefined"===typeof e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if("undefined"!==typeof this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(;e<this.bindings[t].length;){var s=this.bindings[t][e],a=s.handler,o=s.ctx,l=s.once,u=o;"undefined"===typeof u&&(u=this),a.apply(u,i),l?this.bindings[t].splice(e,1):++e}}}}]),t}();S.Utils={getActualBoundingClientRect:r,getScrollParents:s,getBounds:o,getOffsetParent:l,extend:c,addClass:f,removeClass:h,hasClass:d,updateClasses:v,defer:A,flush:M,uniqueId:T,Evented:N,getScrollBarSize:u,removeUtilElements:a};var L=function(){function t(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw s}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),z=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=s,n=a,i=!0,o=u=void 0}};if("undefined"===typeof S)throw new Error("You must include the utils.js file before tether.js");var R=S.Utils,s=R.getScrollParents,o=R.getBounds,l=R.getOffsetParent,c=R.extend,f=R.addClass,h=R.removeClass,v=R.updateClasses,A=R.defer,M=R.flush,u=R.getScrollBarSize,a=R.removeUtilElements,j=function(){if("undefined"===typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),D=[],F=function(){D.forEach(function(t){t.position(!1)}),M()};!function(){var t=null,e=null,n=null,i=function i(){if("undefined"!==typeof e&&e>16)return e=Math.min(e-16,250),void(n=setTimeout(i,250));"undefined"!==typeof t&&y()-t<10||(null!=n&&(clearTimeout(n),n=null),t=y(),F(),e=y()-t)};"undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,i)})}();var B={center:"center",left:"right",right:"left"},V={middle:"middle",top:"bottom",bottom:"top"},U={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},q=function(t,e){var n=t.left,i=t.top;return"auto"===n&&(n=B[e.left]),"auto"===i&&(i=V[e.top]),{left:n,top:i}},H=function(t){var e=t.left,n=t.top;return"undefined"!==typeof U[t.left]&&(e=U[t.left]),"undefined"!==typeof U[t.top]&&(n=U[t.top]),{left:e,top:n}},W=function(t){var e=t.split(" "),n=L(e,2);return{top:n[0],left:n[1]}},$=W,Z=function(t){function e(t){var n=this;i(this,e),z(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),D.push(this),this.history=[],this.setOptions(t,!1),S.modules.forEach(function(t){"undefined"!==typeof t.initialize&&t.initialize.call(n)}),this.position()}return m(e,t),C(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return"undefined"!==typeof e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=c(i,t);var r=this.options,a=r.element,o=r.target,l=r.targetModifier;if(this.element=a,this.target=o,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if("undefined"===typeof e[t])throw new Error("Tether Error: Both element and target must be defined");"undefined"!==typeof e[t].jquery?e[t]=e[t][0]:"string"===typeof e[t]&&(e[t]=document.querySelector(e[t]))}),f(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&f(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=$(this.options.targetAttachment),this.attachment=$(this.options.attachment),this.offset=W(this.options.offset),this.targetOffset=W(this.options.targetOffset),"undefined"!==typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=s(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"===typeof this.targetModifier)return o(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=o(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,n=this.target;n===document.body?(n=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=o(n);var i=getComputedStyle(n),r=n.scrollWidth>n.clientWidth||[i.overflow,i.overflowX].indexOf("scroll")>=0||this.target!==document.body,s=0;r&&(s=15);var a=t.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-s,e={width:15,height:.975*a*(a/n.scrollHeight),left:t.left+t.width-parseFloat(i.borderLeftWidth)-15},l=0;a<408&&this.target===document.body&&(l=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var u=this.target.scrollTop/(n.scrollHeight-a);return e.top=u*(a-e.height-l)+t.top+parseFloat(i.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return"undefined"===typeof this._cache&&(this._cache={}),"undefined"===typeof this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&f(this.target,this.getClass("enabled")),f(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!==typeof this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),D.forEach(function(e,n){e===t&&D.splice(n,1)}),0===D.length&&a()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];"undefined"!==typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"===typeof this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;t.top&&r.push(this.getClass("element-attached")+"-"+t.top),t.left&&r.push(this.getClass("element-attached")+"-"+t.left),e.top&&r.push(this.getClass("target-attached")+"-"+e.top),e.left&&r.push(this.getClass("target-attached")+"-"+e.left);var s=[];i.forEach(function(t){s.push(n.getClass("element-attached")+"-"+t),s.push(n.getClass("target-attached")+"-"+t)}),A(function(){"undefined"!==typeof n._addAttachClasses&&(v(n.element,n._addAttachClasses,s),!1!==n.options.addTargetClasses&&v(n.target,n._addAttachClasses,s),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=q(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var i=this.cache("element-bounds",function(){return o(t.element)}),r=i.width,s=i.height;if(0===r&&0===s&&"undefined"!==typeof this.lastSize){var a=this.lastSize;r=a.width,s=a.height}else this.lastSize={width:r,height:s};var c=this.cache("target-bounds",function(){return t.getTargetBounds()}),h=c,f=w(H(this.attachment),{width:r,height:s}),d=w(H(n),h),p=w(this.offset,{width:r,height:s}),g=w(this.targetOffset,h);f=b(f,p),d=b(d,g);for(var v=c.left+d.left-f.left,m=c.top+d.top-f.top,_=0;_<S.modules.length;++_){var y=S.modules[_],x=y.position.call(this,{left:v,top:m,targetAttachment:n,targetPos:c,elementPos:i,offset:f,targetOffset:d,manualOffset:p,manualTargetOffset:g,scrollbarSize:P,attachment:this.attachment});if(!1===x)return!1;"undefined"!==typeof x&&"object"===typeof x&&(m=x.top,v=x.left)}var C={page:{top:m,left:v},viewport:{top:m-pageYOffset,bottom:pageYOffset-m-s+innerHeight,left:v-pageXOffset,right:pageXOffset-v-r+innerWidth}},k=this.target.ownerDocument,T=k.defaultView,P=void 0;return T.innerHeight>k.documentElement.clientHeight&&(P=this.cache("scrollbar-size",u),C.viewport.bottom-=P.height),T.innerWidth>k.documentElement.clientWidth&&(P=this.cache("scrollbar-size",u),C.viewport.right-=P.width),-1!==["","static"].indexOf(k.body.style.position)&&-1!==["","static"].indexOf(k.body.parentElement.style.position)||(C.page.bottom=k.body.scrollHeight-m-s,C.page.right=k.body.scrollWidth-v-r),"undefined"!==typeof this.options.optimizations&&!1!==this.options.optimizations.moveElement&&"undefined"===typeof this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return l(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return o(e)}),i=getComputedStyle(e),r=n,s={};if(["Top","Left","Bottom","Right"].forEach(function(t){s[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])}),n.right=k.body.scrollWidth-n.left-r.width+s.right,n.bottom=k.body.scrollHeight-n.top-r.height+s.bottom,C.page.top>=n.top+s.top&&C.page.bottom>=n.bottom&&C.page.left>=n.left+s.left&&C.page.right>=n.right){var a=e.scrollTop,u=e.scrollLeft;C.offset={top:C.page.top-n.top+a-s.top,left:C.page.left-n.left+u-s.left}}}(),this.move(C),this.history.unshift(C),this.history.length>3&&this.history.pop(),e&&M(),!0}}},{key:"move",value:function(t){var e=this;if("undefined"!==typeof this.element.parentNode){var n={};for(var i in t){n[i]={};for(var r in t[i]){for(var s=!1,a=0;a<this.history.length;++a){var o=this.history[a];if("undefined"!==typeof o[i]&&!_(o[i][r],t[i][r])){s=!0;break}}s||(n[i][r]=!0)}}var u={top:"",left:"",right:"",bottom:""},h=function(t,n){if(!1!==("undefined"!==typeof e.options.optimizations?e.options.optimizations.gpu:null)){var i=void 0,r=void 0;t.top?(u.top=0,i=n.top):(u.bottom=0,i=-n.bottom),t.left?(u.left=0,r=n.left):(u.right=0,r=-n.right),window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(r=Math.round(r),i=Math.round(i))),u[j]="translateX("+r+"px) translateY("+i+"px)","msTransform"!==j&&(u[j]+=" translateZ(0)")}else t.top?u.top=n.top+"px":u.bottom=n.bottom+"px",t.left?u.left=n.left+"px":u.right=n.right+"px"},f=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",h(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",h(n.viewport,t.viewport)):"undefined"!==typeof n.offset&&n.offset.top&&n.offset.left?function(){u.position="absolute";var i=e.cache("target-offsetparent",function(){return l(e.target)});l(e.element)!==i&&A(function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)}),h(n.offset,t.offset),f=!0}():(u.position="absolute",h({top:!0,left:!0},t.page)),!f)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var d=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){d=!1;break}p=p.parentNode}d||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},v=!1;for(var r in u){var m=u[r];this.element.style[r]!==m&&(v=!0,g[r]=m)}v&&A(function(){c(e.element.style,g),e.trigger("repositioned")})}}}]),e}(N);Z.modules=[],S.position=F;var G=c(Z,S),L=function(){function t(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw s}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=S.Utils,o=R.getBounds,c=R.extend,v=R.updateClasses,A=R.defer,K=["left","top","right","bottom"];S.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=t.targetAttachment;if(!this.options.constraints)return!0;var s=this.cache("element-bounds",function(){return o(e.element)}),a=s.height,l=s.width;if(0===l&&0===a&&"undefined"!==typeof this.lastSize){var u=this.lastSize;l=u.width,a=u.height}var h=this.cache("target-bounds",function(){return e.getTargetBounds()}),f=h.height,d=h.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&p.push(e),n&&p.push(n)}),p.forEach(function(t){["left","top","right","bottom"].forEach(function(e){p.push(t+"-"+e)})});var g=[],m=c({},r),_=c({},this.attachment);return this.options.constraints.forEach(function(t){var s=t.to,o=t.attachment,u=t.pin;"undefined"===typeof o&&(o="");var c=void 0,h=void 0;if(o.indexOf(" ")>=0){var p=o.split(" "),v=L(p,2);h=v[0],c=v[1]}else c=h=o;var y=x(e,s);"target"!==h&&"both"!==h||(n<y[1]&&"top"===m.top&&(n+=f,m.top="bottom"),n+a>y[3]&&"bottom"===m.top&&(n-=f,m.top="top")),"together"===h&&("top"===m.top&&("bottom"===_.top&&n<y[1]?(n+=f,m.top="bottom",n+=a,_.top="top"):"top"===_.top&&n+a>y[3]&&n-(a-f)>=y[1]&&(n-=a-f,m.top="bottom",_.top="bottom")),"bottom"===m.top&&("top"===_.top&&n+a>y[3]?(n-=f,m.top="top",n-=a,_.top="bottom"):"bottom"===_.top&&n<y[1]&&n+(2*a-f)<=y[3]&&(n+=a-f,m.top="top",_.top="top")),"middle"===m.top&&(n+a>y[3]&&"top"===_.top?(n-=a,_.top="bottom"):n<y[1]&&"bottom"===_.top&&(n+=a,_.top="top"))),"target"!==c&&"both"!==c||(i<y[0]&&"left"===m.left&&(i+=d,m.left="right"),i+l>y[2]&&"right"===m.left&&(i-=d,m.left="left")),"together"===c&&(i<y[0]&&"left"===m.left?"right"===_.left?(i+=d,m.left="right",i+=l,_.left="left"):"left"===_.left&&(i+=d,m.left="right",i-=l,_.left="right"):i+l>y[2]&&"right"===m.left?"left"===_.left?(i-=d,m.left="left",i-=l,_.left="right"):"right"===_.left&&(i-=d,m.left="left",i+=l,_.left="left"):"center"===m.left&&(i+l>y[2]&&"left"===_.left?(i-=l,_.left="right"):i<y[0]&&"right"===_.left&&(i+=l,_.left="left"))),"element"!==h&&"both"!==h||(n<y[1]&&"bottom"===_.top&&(n+=a,_.top="top"),n+a>y[3]&&"top"===_.top&&(n-=a,_.top="bottom")),"element"!==c&&"both"!==c||(i<y[0]&&("right"===_.left?(i+=l,_.left="left"):"center"===_.left&&(i+=l/2,_.left="left")),i+l>y[2]&&("left"===_.left?(i-=l,_.left="right"):"center"===_.left&&(i-=l/2,_.left="right"))),"string"===typeof u?u=u.split(",").map(function(t){return t.trim()}):!0===u&&(u=["top","left","right","bottom"]),u=u||[];var b=[],w=[];n<y[1]&&(u.indexOf("top")>=0?(n=y[1],b.push("top")):w.push("top")),n+a>y[3]&&(u.indexOf("bottom")>=0?(n=y[3]-a,b.push("bottom")):w.push("bottom")),i<y[0]&&(u.indexOf("left")>=0?(i=y[0],b.push("left")):w.push("left")),i+l>y[2]&&(u.indexOf("right")>=0?(i=y[2]-l,b.push("right")):w.push("right")),b.length&&function(){var t=void 0;t="undefined"!==typeof e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),g.push(t),b.forEach(function(e){g.push(t+"-"+e)})}(),w.length&&function(){var t=void 0;t="undefined"!==typeof e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),g.push(t),w.forEach(function(e){g.push(t+"-"+e)})}(),(b.indexOf("left")>=0||b.indexOf("right")>=0)&&(_.left=m.left=!1),(b.indexOf("top")>=0||b.indexOf("bottom")>=0)&&(_.top=m.top=!1),m.top===r.top&&m.left===r.left&&_.top===e.attachment.top&&_.left===e.attachment.left||(e.updateAttachClasses(_,m),e.trigger("update",{attachment:_,targetAttachment:m}))}),A(function(){!1!==e.options.addTargetClasses&&v(e.target,g,p),v(e.element,g,p)}),{top:n,left:i}}});var R=S.Utils,o=R.getBounds,v=R.updateClasses,A=R.defer;S.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=this.cache("element-bounds",function(){return o(e.element)}),s=r.height,a=r.width,l=this.getTargetBounds(),u=n+s,c=i+a,h=[];n<=l.bottom&&u>=l.top&&["left","right"].forEach(function(t){var e=l[t];e!==i&&e!==c||h.push(t)}),i<=l.right&&c>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];e!==n&&e!==u||h.push(t)});var f=[],d=[],p=["left","top","right","bottom"];return f.push(this.getClass("abutted")),p.forEach(function(t){f.push(e.getClass("abutted")+"-"+t)}),h.length&&d.push(this.getClass("abutted")),h.forEach(function(t){d.push(e.getClass("abutted")+"-"+t)}),A(function(){!1!==e.options.addTargetClasses&&v(e.target,d,f),v(e.element,d,f)}),!0}});var L=function(){function t(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw s}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return S.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"===typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var r=void 0,s=void 0;if("string"===typeof i){i=i.split(" "),i[1]=i[1]||i[0];var a=i,o=L(a,2);r=o[0],s=o[1],r=parseFloat(r,10),s=parseFloat(s,10)}else r=i.top,s=i.left;return e+=r,n+=s,{top:e,left:n}}}}),G})},function(t,e){},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),o=n.n(a),l=n(1),u=n.n(l),c=n(79),h=(n.n(c),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),f=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),h(e,[{key:"render",value:function(){var t=this,e=this.props.closePortal,n=a.Children.toArray(this.props.children).filter(function(t){return t});return o.a.createElement("ul",{className:"PortalMenu__List",ref:function(e){return t.list=e}},a.Children.map(n,function(t,n){return Object(a.cloneElement)(t,{tabIndex:n+1,closeMenu:e})}))}}]),e}(a.Component);f.propTypes={children:u.a.any.isRequired,closePortal:u.a.func},e.a=f},function(t,e){},function(t,e){},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),o=n.n(a),l=n(1),u=n.n(l),c=n(82),h=(n.n(c),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),f=function(t){function e(){var t,n,s,a;i(this,e);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=s=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),s.handleClick=function(){s.props.onClick&&s.props.onClick(s.props),s.props.closeMenu()},a=n,r(s,a)}return s(e,t),h(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.tabIndex,i={className:"PortalMenu__Item",onClick:this.handleClick,tabIndex:n};return o.a.createElement("li",i,e)}}]),e}(a.Component);f.propTypes={children:u.a.any.isRequired,closeMenu:u.a.func,onClick:u.a.func,tabIndex:u.a.number},e.a=f},function(t,e){},function(t,e){},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t*(Math.PI/180)}function o(t){var e=b+t*_;return{deltaX:m*Math.cos(a(e))-g/2,deltaY:m*Math.sin(a(e))+g/2}}var l=n(0),u=n.n(l),c=n(85),h=(n.n(c),n(93)),f=n.n(h),d=n(94),p=(n.n(d),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),g=48,v={stiffness:400,damping:28},m=90,_=42,y=5*_,b=(180-y)/2,w=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={isOpen:!1,childButtons:[]},n.toggleMenu=n.toggleMenu.bind(n),n.closeMenu=n.closeMenu.bind(n),n.setTool=n.setTool.bind(n),n}return s(e,t),p(e,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.closeMenu);var t=[];this.setState({childButtons:t.slice(0)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.closeMenu)}},{key:"mainButtonStyles",value:function(){return{width:64,height:64,top:this.props.y-32,left:this.props.x-32}}},{key:"initialChildButtonStyles",value:function(){return{width:g,height:g,top:Object(c.spring)(this.props.y-g/2,v),left:Object(c.spring)(this.props.x-g/2,v),rotate:Object(c.spring)(-180,v),scale:Object(c.spring)(.5,v)}}},{key:"initialChildButtonStylesInit",value:function(){return{width:g,height:g,top:this.props.y-g/2,left:this.props.x-g/2,rotate:-180,scale:.5}}},{key:"finalChildButtonStylesInit",value:function(t){var e=o(t),n=e.deltaX,i=e.deltaY;return{width:g,height:g,top:this.props.y-i,left:this.props.x+n,rotate:0,scale:1}}},{key:"finalChildButtonStyles",value:function(t){var e=o(t),n=e.deltaX,i=e.deltaY;return{width:g,height:g,top:Object(c.spring)(this.props.y-i,v),left:Object(c.spring)(this.props.x+n,v),rotate:Object(c.spring)(0,v),scale:Object(c.spring)(1,v)}}},{key:"toggleMenu",value:function(t){t.stopPropagation();var e=this.state.isOpen;this.setState({isOpen:!e})}},{key:"closeMenu",value:function(){this.setState({isOpen:!1})}},{key:"renderChildButtons",value:function(){var t=this,e=this.state.isOpen,n=this.props.tools,i=f()(n.length).map(function(n){return e?t.finalChildButtonStylesInit(n):t.initialChildButtonStylesInit()}),r=Object.keys(i).map(function(t){return i[t]}),s=f()(n.length).map(function(n){return e?t.finalChildButtonStyles(n):t.initialChildButtonStyles()}),a=this.initialChildButtonStyles().scale.val,o=this.finalChildButtonStyles(0).scale.val,l=function(t){t=e?t:t.reverse();var n=t.map(function(n,i){if(0===i)return s[i];var r=t[i-1].scale;return function(){return e?r>=a+.05:r<=o-.05}()?s[i]:n});return e?n:n.reverse()};return u.a.createElement(c.StaggeredMotion,{defaultStyles:r,styles:l},function(e){return u.a.createElement("div",null,e.map(function(e,i){var r=e.height,s=e.left,a=e.rotate,o=e.scale,l=e.top,c=e.width;return u.a.createElement("div",{className:"Menu__ChildButton",key:i,style:{left:s,height:r,top:l,transform:"rotate("+a+"deg) scale("+o+")",width:c}},u.a.createElement("i",{className:"material-icons",title:n[i].title,"data-tool":n[i].tool,onClick:t.setTool},n[i].icon))}))})}},{key:"setTool",value:function(t){this.props.setTool&&this.props.setTool(t.target.dataset.tool)}},{key:"render",value:function(){var t=this,e=this.props,n=e.activeTool,i=e.tools,r=this.state.isOpen,s=i.find(function(t){return t.tool===n}),a=r?{rotate:Object(c.spring)(-135,{stiffness:500,damping:30})}:{rotate:Object(c.spring)(0,{stiffness:500,damping:30})};return u.a.createElement("div",{className:"Menu"},this.renderChildButtons(),u.a.createElement(c.Motion,{style:a},function(e){var n=e.rotate;return u.a.createElement("div",{title:s.title,className:"Menu__MainButton",style:Object.assign({},t.mainButtonStyles(),{transform:"rotate("+n+"deg)"}),onClick:t.toggleMenu},u.a.createElement("i",{className:"material-icons",title:s.title},s.icon))}))}}]),e}(l.Component);e.a=w},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t.default:t}e.__esModule=!0;var r=n(86);e.Motion=i(r);var s=n(88);e.StaggeredMotion=i(s);var a=n(89);e.TransitionMotion=i(a);var o=n(91);e.spring=i(o);var l=n(25);e.presets=i(l);var u=n(5);e.stripStyle=i(u);var c=n(92);e.reorderKeys=i(c)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(8),u=i(l),c=n(5),h=i(c),f=n(9),d=i(f),p=n(10),g=i(p),v=n(11),m=i(v),_=n(12),y=i(_),b=n(0),w=i(b),x=n(1),C=i(x),S=1e3/60,k=function(t){function e(n){var i=this;r(this,e),t.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(t){var e=!1,n=i.state,r=n.currentStyle,s=n.currentVelocity,o=n.lastIdealStyle,l=n.lastIdealVelocity;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var c=t[u];"number"===typeof c&&(e||(e=!0,r=a({},r),s=a({},s),o=a({},o),l=a({},l)),r[u]=c,s[u]=0,o[u]=c,l[u]=0)}e&&i.setState({currentStyle:r,currentVelocity:s,lastIdealStyle:o,lastIdealVelocity:l})},this.startAnimationIfNecessary=function(){i.animationID=m.default(function(t){var e=i.props.style;if(y.default(i.state.currentStyle,e,i.state.currentVelocity))return i.wasAnimating&&i.props.onRest&&i.props.onRest(),i.animationID=null,i.wasAnimating=!1,void(i.accumulatedTime=0);i.wasAnimating=!0;var n=t||g.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*S&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();var s=(i.accumulatedTime-Math.floor(i.accumulatedTime/S)*S)/S,a=Math.floor(i.accumulatedTime/S),o={},l={},u={},c={};for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){var f=e[h];if("number"===typeof f)u[h]=f,c[h]=0,o[h]=f,l[h]=0;else{for(var p=i.state.lastIdealStyle[h],v=i.state.lastIdealVelocity[h],m=0;m<a;m++){var _=d.default(S/1e3,p,v,f.val,f.stiffness,f.damping,f.precision);p=_[0],v=_[1]}var b=d.default(S/1e3,p,v,f.val,f.stiffness,f.damping,f.precision),w=b[0],x=b[1];u[h]=p+(w-p)*s,c[h]=v+(x-v)*s,o[h]=p,l[h]=v}}i.animationID=null,i.accumulatedTime-=a*S,i.setState({currentStyle:u,currentVelocity:c,lastIdealStyle:o,lastIdealVelocity:l}),i.unreadPropStyle=null,i.startAnimationIfNecessary()})},this.state=this.defaultState()}return s(e,t),o(e,null,[{key:"propTypes",value:{defaultStyle:C.default.objectOf(C.default.number),style:C.default.objectOf(C.default.oneOfType([C.default.number,C.default.object])).isRequired,children:C.default.func.isRequired,onRest:C.default.func},enumerable:!0}]),e.prototype.defaultState=function(){var t=this.props,e=t.defaultStyle,n=t.style,i=e||h.default(n),r=u.default(i);return{currentStyle:i,currentVelocity:r,lastIdealStyle:i,lastIdealVelocity:r}},e.prototype.componentDidMount=function(){this.prevTime=g.default(),this.startAnimationIfNecessary()},e.prototype.componentWillReceiveProps=function(t){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=t.style,null==this.animationID&&(this.prevTime=g.default(),this.startAnimationIfNecessary())},e.prototype.componentWillUnmount=function(){null!=this.animationID&&(m.default.cancel(this.animationID),this.animationID=null)},e.prototype.render=function(){var t=this.props.children(this.state.currentStyle);return t&&w.default.Children.only(t)},e}(w.default.Component);e.default=k,t.exports=e.default},function(t,e,n){(function(e){(function(){var n,i,r,s,a,o;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},i=e.hrtime,n=function(){var t;return t=i(),1e9*t[0]+t[1]},s=n(),o=1e9*e.uptime(),a=s-o):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(e,n(24))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n){for(var i=0;i<t.length;i++)if(!b.default(t[i],e[i],n[i]))return!1;return!0}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(8),c=i(u),h=n(5),f=i(h),d=n(9),p=i(d),g=n(10),v=i(g),m=n(11),_=i(m),y=n(12),b=i(y),w=n(0),x=i(w),C=n(1),S=i(C),k=1e3/60,T=function(t){function e(n){var i=this;r(this,e),t.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(t){for(var e=i.state,n=e.currentStyles,r=e.currentVelocities,s=e.lastIdealStyles,a=e.lastIdealVelocities,l=!1,u=0;u<t.length;u++){var c=t[u],h=!1;for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var d=c[f];"number"===typeof d&&(h||(h=!0,l=!0,n[u]=o({},n[u]),r[u]=o({},r[u]),s[u]=o({},s[u]),a[u]=o({},a[u])),n[u][f]=d,r[u][f]=0,s[u][f]=d,a[u][f]=0)}}l&&i.setState({currentStyles:n,currentVelocities:r,lastIdealStyles:s,lastIdealVelocities:a})},this.startAnimationIfNecessary=function(){i.animationID=_.default(function(t){var e=i.props.styles(i.state.lastIdealStyles);if(a(i.state.currentStyles,e,i.state.currentVelocities))return i.animationID=null,void(i.accumulatedTime=0);var n=t||v.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*k&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var s=(i.accumulatedTime-Math.floor(i.accumulatedTime/k)*k)/k,o=Math.floor(i.accumulatedTime/k),l=[],u=[],c=[],h=[],f=0;f<e.length;f++){var d=e[f],g={},m={},_={},y={};for(var b in d)if(Object.prototype.hasOwnProperty.call(d,b)){var w=d[b];if("number"===typeof w)g[b]=w,m[b]=0,_[b]=w,y[b]=0;else{for(var x=i.state.lastIdealStyles[f][b],C=i.state.lastIdealVelocities[f][b],S=0;S<o;S++){var T=p.default(k/1e3,x,C,w.val,w.stiffness,w.damping,w.precision);x=T[0],C=T[1]}var P=p.default(k/1e3,x,C,w.val,w.stiffness,w.damping,w.precision),E=P[0],O=P[1];g[b]=x+(E-x)*s,m[b]=C+(O-C)*s,_[b]=x,y[b]=C}}c[f]=g,h[f]=m,l[f]=_,u[f]=y}i.animationID=null,i.accumulatedTime-=o*k,i.setState({currentStyles:c,currentVelocities:h,lastIdealStyles:l,lastIdealVelocities:u}),i.unreadPropStyles=null,i.startAnimationIfNecessary()})},this.state=this.defaultState()}return s(e,t),l(e,null,[{key:"propTypes",value:{defaultStyles:S.default.arrayOf(S.default.objectOf(S.default.number)),styles:S.default.func.isRequired,children:S.default.func.isRequired},enumerable:!0}]),e.prototype.defaultState=function(){var t=this.props,e=t.defaultStyles,n=t.styles,i=e||n().map(f.default),r=i.map(function(t){return c.default(t)});return{currentStyles:i,currentVelocities:r,lastIdealStyles:i,lastIdealVelocities:r}},e.prototype.componentDidMount=function(){this.prevTime=v.default(),this.startAnimationIfNecessary()},e.prototype.componentWillReceiveProps=function(t){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=t.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=v.default(),this.startAnimationIfNecessary())},e.prototype.componentWillUnmount=function(){null!=this.animationID&&(_.default.cancel(this.animationID),this.animationID=null)},e.prototype.render=function(){var t=this.props.children(this.state.currentStyles);return t&&x.default.Children.only(t)},e}(x.default.Component);e.default=T,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n){var i=e;return null==i?t.map(function(t,e){return{key:t.key,data:t.data,style:n[e]}}):t.map(function(t,e){for(var r=0;r<i.length;r++)if(i[r].key===t.key)return{key:i[r].key,data:i[r].data,style:n[e]};return{key:t.key,data:t.data,style:n[e]}})}function o(t,e,n,i){if(i.length!==e.length)return!1;for(var r=0;r<i.length;r++)if(i[r].key!==e[r].key)return!1;for(var r=0;r<i.length;r++)if(!S.default(t[r],e[r].style,n[r]))return!1;return!0}function l(t,e,n,i,r,s,a,o,l){for(var u=_.default(i,r,function(t,i){var r=e(i);return null==r?(n({key:i.key,data:i.data}),null):S.default(s[t],r,a[t])?(n({key:i.key,data:i.data}),null):{key:i.key,data:i.data,style:r}}),c=[],h=[],d=[],p=[],g=0;g<u.length;g++){for(var v=u[g],m=null,y=0;y<i.length;y++)if(i[y].key===v.key){m=y;break}if(null==m){var b=t(v);c[g]=b,d[g]=b;var w=f.default(v.style);h[g]=w,p[g]=w}else c[g]=s[m],d[g]=o[m],h[g]=a[m],p[g]=l[m]}return[u,c,h,d,p]}e.__esModule=!0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=n(8),f=i(h),d=n(5),p=i(d),g=n(9),v=i(g),m=n(90),_=i(m),y=n(10),b=i(y),w=n(11),x=i(w),C=n(12),S=i(C),k=n(0),T=i(k),P=n(1),E=i(P),O=1e3/60,I=function(t){function e(n){var i=this;r(this,e),t.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(t){for(var e=l(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,t,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],c=0;c<t.length;c++){var h=t[c].style,f=!1;for(var d in h)if(Object.prototype.hasOwnProperty.call(h,d)){var p=h[d];"number"===typeof p&&(f||(f=!0,r[c]=u({},r[c]),s[c]=u({},s[c]),a[c]=u({},a[c]),o[c]=u({},o[c]),n[c]={key:n[c].key,data:n[c].data,style:u({},n[c].style)}),r[c][d]=p,s[c][d]=0,a[c][d]=p,o[c][d]=0,n[c].style[d]=p)}}i.setState({currentStyles:r,currentVelocities:s,mergedPropsStyles:n,lastIdealStyles:a,lastIdealVelocities:o})},this.startAnimationIfNecessary=function(){i.unmounting||(i.animationID=x.default(function(t){if(!i.unmounting){var e=i.props.styles,n="function"===typeof e?e(a(i.state.mergedPropsStyles,i.unreadPropStyles,i.state.lastIdealStyles)):e;if(o(i.state.currentStyles,n,i.state.currentVelocities,i.state.mergedPropsStyles))return i.animationID=null,void(i.accumulatedTime=0);var r=t||b.default(),s=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+s,i.accumulatedTime>10*O&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var u=(i.accumulatedTime-Math.floor(i.accumulatedTime/O)*O)/O,c=Math.floor(i.accumulatedTime/O),h=l(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,n,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),f=h[0],d=h[1],p=h[2],g=h[3],m=h[4],_=0;_<f.length;_++){var y=f[_].style,w={},x={},C={},S={};for(var k in y)if(Object.prototype.hasOwnProperty.call(y,k)){var T=y[k];if("number"===typeof T)w[k]=T,x[k]=0,C[k]=T,S[k]=0;else{for(var P=g[_][k],E=m[_][k],I=0;I<c;I++){var A=v.default(O/1e3,P,E,T.val,T.stiffness,T.damping,T.precision);P=A[0],E=A[1]}var M=v.default(O/1e3,P,E,T.val,T.stiffness,T.damping,T.precision),N=M[0],L=M[1];w[k]=P+(N-P)*u,x[k]=E+(L-E)*u,C[k]=P,S[k]=E}}g[_]=C,m[_]=S,d[_]=w,p[_]=x}i.animationID=null,i.accumulatedTime-=c*O,i.setState({currentStyles:d,currentVelocities:p,lastIdealStyles:g,lastIdealVelocities:m,mergedPropsStyles:f}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return s(e,t),c(e,null,[{key:"propTypes",value:{defaultStyles:E.default.arrayOf(E.default.shape({key:E.default.string.isRequired,data:E.default.any,style:E.default.objectOf(E.default.number).isRequired})),styles:E.default.oneOfType([E.default.func,E.default.arrayOf(E.default.shape({key:E.default.string.isRequired,data:E.default.any,style:E.default.objectOf(E.default.oneOfType([E.default.number,E.default.object])).isRequired}))]).isRequired,children:E.default.func.isRequired,willEnter:E.default.func,willLeave:E.default.func,didLeave:E.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(t){return p.default(t.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),e.prototype.defaultState=function(){var t=this.props,e=t.defaultStyles,n=t.styles,i=t.willEnter,r=t.willLeave,s=t.didLeave,a="function"===typeof n?n(e):n,o=void 0;o=null==e?a:e.map(function(t){for(var e=0;e<a.length;e++)if(a[e].key===t.key)return a[e];return t});var u=null==e?a.map(function(t){return p.default(t.style)}):e.map(function(t){return p.default(t.style)}),c=null==e?a.map(function(t){return f.default(t.style)}):e.map(function(t){return f.default(t.style)}),h=l(i,r,s,o,a,u,c,u,c),d=h[0];return{currentStyles:h[1],currentVelocities:h[2],lastIdealStyles:h[3],lastIdealVelocities:h[4],mergedPropsStyles:d}},e.prototype.componentDidMount=function(){this.prevTime=b.default(),this.startAnimationIfNecessary()},e.prototype.componentWillReceiveProps=function(t){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var e=t.styles;this.unreadPropStyles="function"===typeof e?e(a(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):e,null==this.animationID&&(this.prevTime=b.default(),this.startAnimationIfNecessary())},e.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(x.default.cancel(this.animationID),this.animationID=null)},e.prototype.render=function(){var t=a(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),e=this.props.children(t);return e&&T.default.Children.only(e)},e}(T.default.Component);e.default=I,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){for(var i={},r=0;r<t.length;r++)i[t[r].key]=r;for(var s={},r=0;r<e.length;r++)s[e[r].key]=r;for(var a=[],r=0;r<e.length;r++)a[r]=e[r];for(var r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(s,t[r].key)){var o=n(r,t[r]);null!=o&&a.push(o)}return a.sort(function(t,n){var r=s[t.key],a=s[n.key],o=i[t.key],l=i[n.key];if(null!=r&&null!=a)return s[t.key]-s[n.key];if(null!=o&&null!=l)return i[t.key]-i[n.key];if(null!=r){for(var u=0;u<e.length;u++){var c=e[u].key;if(Object.prototype.hasOwnProperty.call(i,c)){if(r<s[c]&&l>i[c])return-1;if(r>s[c]&&l<i[c])return 1}}return 1}for(var u=0;u<e.length;u++){var c=e[u].key;if(Object.prototype.hasOwnProperty.call(i,c)){if(a<s[c]&&o>i[c])return 1;if(a>s[c]&&o<i[c])return-1}}return-1})}e.__esModule=!0,e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){return r({},o,e,{val:t})}e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=i;var s=n(25),a=function(t){return t&&t.__esModule?t:{default:t}}(s),o=r({},a.default.noWobble,{precision:.01});t.exports=e.default},function(t,e,n){"use strict";function i(){}e.__esModule=!0,e.default=i;t.exports=e.default},function(t,e){function n(t,e,n,i){for(var r=-1,s=I(O((e-t)/(n||1)),0),a=Array(s);s--;)a[i?s:++r]=t,t+=n;return a}function i(t,e){return!!(e=null==e?g:e)&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function r(t,e,n){if(!u(n))return!1;var r=typeof e;return!!("number"==r?a(n)&&i(e,n.length):"string"==r&&e in n)&&s(n[e],t)}function s(t,e){return t===e||t!==t&&e!==e}function a(t){return null!=t&&l(t.length)&&!o(t)}function o(t){var e=u(t)?E.call(t):"";return e==_||e==y}function l(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=g}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return!!t&&"object"==typeof t}function h(t){return"symbol"==typeof t||c(t)&&E.call(t)==b}function f(t){if(!t)return 0===t?t:0;if((t=d(t))===p||t===-p){return(t<0?-1:1)*v}return t===t?t:0}function d(t){if("number"==typeof t)return t;if(h(t))return m;if(u(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=u(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(w,"");var n=C.test(t);return n||S.test(t)?T(t.slice(2),n?2:8):x.test(t)?m:+t}var p=1/0,g=9007199254740991,v=1.7976931348623157e308,m=NaN,_="[object Function]",y="[object GeneratorFunction]",b="[object Symbol]",w=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,S=/^0o[0-7]+$/i,k=/^(?:0|[1-9]\d*)$/,T=parseInt,P=Object.prototype,E=P.toString,O=Math.ceil,I=Math.max,A=function(t){return function(e,i,s){return s&&"number"!=typeof s&&r(e,i,s)&&(i=s=void 0),e=f(e),void 0===i?(i=e,e=0):i=f(i),s=void 0===s?e<i?1:-1:f(s),n(e,i,s,t)}}();t.exports=A},function(t,e){},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(0),l=n.n(o),u=n(1),c=n.n(u),h=n(2),f=n.n(h),d=n(96),p=n(101),g=(n.n(p),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),v=function(t){function e(t){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleArrowClick=function(t){var e=t.id,r=n.state.expanded;n.setState({expanded:f()({},r,i({},e,"undefined"!==typeof r[e]&&!r[e]))})},n.handleLabelClick=function(t){"function"===typeof n.props.selectItem&&n.props.selectItem(t)},n.state={expanded:{}},n}return a(e,t),g(e,[{key:"render",value:function(){var t=this.props,e=t.activeLayer,n=t.data,i=t.selectedItem,r=this.state.expanded,s={activeLayer:e,expanded:r,selectedItem:i,onArrowClick:this.handleArrowClick,onLabelClick:this.handleLabelClick};return l.a.createElement("div",{className:"Layers"},l.a.createElement("h2",{className:"Layers__title"},l.a.createElement("i",{className:"material-icons"},"layers"),l.a.createElement("span",null,"Layers")),l.a.createElement("div",{className:"Layers__body"},n.map(function(t){var e=t.id,n=t.type,i=t.children;return l.a.createElement(d.a,Object.assign({id:e,key:e,type:n,children:i},s))})))}}]),e}(o.Component);v.propTypes={activeLayer:c.a.number,data:c.a.array.isRequired,selectedItem:c.a.number,selectItem:c.a.func},e.a=v},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){switch(t){case"Layer":return"layers";case"Group":return"folder";case"Path":return"timeline";case"Circle":return"lens";case"Rectangle":return"crop_square";case"Raster":return"photo";default:return"insert_drive_file"}}var o=n(0),l=n.n(o),u=n(1),c=n.n(u),h=n(97),f=n.n(h),d=n(98),p=n(100),g=(n.n(p),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),v=function(t){function e(){var t,n,s,a;i(this,e);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=s=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),s.handleArrowClick=function(){s.props.onArrowClick&&s.props.onArrowClick(s.props)},a=n,r(s,a)}return s(e,t),g(e,[{key:"render",value:function(){var t=this.props,e=t.id,n=t.type,i=t.children,r=t.expanded,s=t.activeLayer,o=t.selectedItem,u=t.onLabelClick,c="Group"===n||"Layer"===n,h=i&&i.length>0,p={id:e,type:n,icon:a(n),onClick:u,selected:e===o||e===s&&!o},g={collapsed:!1===r[e],onClick:this.handleArrowClick,nodeLabel:l.a.createElement(d.a,p,n)};return l.a.createElement(f.a,g,h&&i.map(function(t){var e=t.id,n=t.type;return l.a.createElement(d.a,{key:e,id:e,type:n,selected:e===o,icon:a(n),onClick:u},n)}),!h&&c&&l.a.createElement(d.a,{icon:"insert_drive_file"},"Empty"))}}]),e}(o.Component);v.propTypes={id:c.a.any.isRequired,type:c.a.string.isRequired,expanded:c.a.object.isRequired,activeLayer:c.a.number,selectedItem:c.a.number,onArrowClick:c.a.func,onLabelClick:c.a.func},e.a=v},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=s,n=a,i=!0,o=u=void 0}},c=n(0),h=i(c),f=n(1),d=(i(f),function(t){function e(t){s(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={collapsed:t.defaultCollapsed},this.handleClick=this.handleClick.bind(this)}return a(e,t),l(e,[{key:"handleClick",value:function(){if(this.setState({collapsed:!this.state.collapsed}),this.props.onClick){var t;(t=this.props).onClick.apply(t,arguments)}}},{key:"render",value:function(){var t=this.props,e=t.collapsed,n=void 0===e?this.state.collapsed:e,i=t.className,s=void 0===i?"":i,a=t.itemClassName,l=void 0===a?"":a,u=t.treeViewClassName,c=void 0===u?"":u,f=t.childrenClassName,d=void 0===f?"":f,p=t.nodeLabel,g=t.children,v=(t.defaultCollapsed,r(t,["collapsed","className","itemClassName","treeViewClassName","childrenClassName","nodeLabel","children","defaultCollapsed"])),m="tree-view_arrow",_="tree-view_children";n&&(m+=" tree-view_arrow-collapsed",_+=" tree-view_children-collapsed");var y=h.default.createElement("div",o({},v,{className:s+" "+m,onClick:this.handleClick}));return h.default.createElement("div",{className:"tree-view "+c},h.default.createElement("div",{className:"tree-view_item "+l},y,p),h.default.createElement("div",{className:_+" "+d},n?null:g))}}]),e}(h.default.PureComponent));e.default=d,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),o=n.n(a),l=n(1),u=n.n(l),c=n(99),h=(n.n(c),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),f=function(t){function e(){var t,n,s,a;i(this,e);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=s=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),s.handleLabelClick=function(){s.props.onClick&&s.props.onClick(s.props)},a=n,r(s,a)}return s(e,t),h(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.icon,i=t.selected,r="tree-view_label"+(i?" tree-view_label-selected":"");return o.a.createElement("div",{className:r,onClick:this.handleLabelClick},n&&o.a.createElement("i",{className:"material-icons"},n),o.a.createElement("span",null,e))}}]),e}(a.Component);f.propTypes={children:u.a.node,icon:u.a.node,onClick:u.a.func,selected:u.a.bool},e.a=f},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.forEach(function(t){t.id>e&&(e=t.id+1),t.children&&(e=l(t.children,e))}),e}function u(t){return function(e){function n(t){s(this,n);var e=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.keyDown=function(t){"ArrowLeft"===t.key?e.undo():"ArrowRight"===t.key&&e.redo()},e.addItem=function(t,n){var i=e.getPrevHistory(),s=i.findIndex(function(e){return e.id===t.data.id}),a=d()(n,{id:e._id}),o=g()(i,r({},s,{children:{$push:[a]}}));return e.addHistory(o),e._id++,a},e.updateItem=function(t,n){var i=e.getPrevHistory(),s=i.findIndex(function(e){return e.id===t.layer.data.id}),a=i[s].children,o=a.findIndex(function(e){return e.id===t.data.id}),l=d()({},a[o],n),u=g()(i,r({},s,{children:r({},o,{$set:l})}));return e.addHistory(u),l},e.removeItem=function(t){var n=e.getPrevHistory(),i=n.findIndex(function(e){return e.id===t.layer.data.id}),s=n[i].children,a=s.findIndex(function(e){return e.id===t.data.id}),o=g()(n,r({},i,{children:{$splice:[[a,1]]}}));e.addHistory(o)},e.addHistory=function(t){var n=e.state.historyIndex+1,r=[].concat(i(e.state.history.slice(0,n)),[t]);e.setState({historyIndex:n,history:r})},e.getPrevHistory=function(){return e.state.history[e.state.historyIndex]},e.clearHistory=function(){e.setState({historyIndex:0,history:[e.props.initialData]})},e.undo=function(){var t=e.state,n=t.historyIndex,i=t.history;n<=0||e.setState({historyIndex:n-1,items:i[n]})},e.redo=function(){var t=e.state,n=t.historyIndex,i=t.history;n>=i.length-1||e.setState({historyIndex:n+1,items:i[n+1]})},e.state={historyIndex:0,history:[t.initialData]},e._id=l(t.initialData),e}return o(n,e),v(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDown)}},{key:"render",value:function(){var e=this.state,n=e.historyIndex,i=e.history;return h.a.createElement(t,Object.assign({},this.props,{data:i[n],addItem:this.addItem,removeItem:this.removeItem,updateItem:this.updateItem,canUndo:n>0,canRedo:i.length>1&&n+1<i.length,undo:this.undo,redo:this.redo,clearHistory:this.clearHistory}))}}]),n}(c.Component)}e.a=u;var c=n(0),h=n.n(c),f=n(2),d=n.n(f),p=n(103),g=n.n(p),v=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){function i(t){if(Array.isArray(t))return _(t.constructor(t.length),t);if("Map"===m(t))return new Map(t);if("Set"===m(t))return new Set(t);if(t&&"object"===typeof t){var e=t.constructor&&t.constructor.prototype;return _(Object.create(e||null),t)}return t}function r(){function t(n,r){Array.isArray(n)&&Array.isArray(r)||d(!Array.isArray(r),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),d("object"===typeof r&&null!==r,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(e).join(", "));var s=n;return y(r).forEach(function(a){if(p.call(e,a)){var o=n===s;s=e[a](r[a],s,r,n),o&&t.isEquals(s,n)&&(s=n)}else{var l=t(n[a],r[a]);t.isEquals(l,s[a])&&("undefined"!==typeof l||p.call(n,a))||(s===n&&(s=i(n)),s[a]=l)}}),s}var e=_({},b);return t.extend=function(t,n){e[t]=n},t.isEquals=function(t,e){return t===e},t}function s(t,e,n){d(Array.isArray(t),"update(): expected target of %s to be an array; got %s.",n,t),a(e[n],n)}function a(t,e){d(Array.isArray(t),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",e,t)}function o(t,e){d(Array.isArray(t),"Expected $splice target to be an array; got %s",t),l(e.$splice)}function l(t){d(Array.isArray(t),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",t)}function u(t){d("function"===typeof t,"update(): expected spec of $apply to be a function; got %s.",t)}function c(t){d(1===Object.keys(t).length,"Cannot have more than one key in an object with $set")}function h(t,e){d(e&&"object"===typeof e,"update(): $merge expects a spec of type 'object'; got %s",e),d(t&&"object"===typeof t,"update(): $merge expects a target of type 'object'; got %s",t)}function f(t,e){var n=m(t);d("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",e,n)}var d=n(104),p=Object.prototype.hasOwnProperty,g=Array.prototype.splice,v=Object.prototype.toString,m=function(t){return v.call(t).slice(8,-1)},_=Object.assign||function(t,e){return y(e).forEach(function(n){p.call(e,n)&&(t[n]=e[n])}),t},y="function"===typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)},b={$push:function(t,e,n){return s(e,n,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,n){return s(e,n,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,n,r){return o(e,n),t.forEach(function(t){l(t),e===r&&t.length&&(e=i(r)),g.apply(e,t)}),e},$set:function(t,e,n){return c(n),t},$toggle:function(t,e){a(t,"$toggle");var n=t.length?i(e):e;return t.forEach(function(t){n[t]=!e[t]}),n},$unset:function(t,e,n,r){return a(t,"$unset"),t.forEach(function(t){Object.hasOwnProperty.call(e,t)&&(e===r&&(e=i(r)),delete e[t])}),e},$add:function(t,e,n,r){return f(e,"$add"),a(t,"$add"),"Map"===m(e)?t.forEach(function(t){var n=t[0],s=t[1];e===r&&e.get(n)!==s&&(e=i(r)),e.set(n,s)}):t.forEach(function(t){e!==r||e.has(t)||(e=i(r)),e.add(t)}),e},$remove:function(t,e,n,r){return f(e,"$remove"),a(t,"$remove"),t.forEach(function(t){e===r&&e.has(t)&&(e=i(r)),e.delete(t)}),e},$merge:function(t,e,n,r){return h(e,t),y(t).forEach(function(n){t[n]!==e[n]&&(e===r&&(e=i(r)),e[n]=t[n])}),e},$apply:function(t,e){return u(t),t(e)}};t.exports=r(),t.exports.newContext=r},function(t,e,n){"use strict";var i=function(t,e,n,i,r,s,a,o){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,s,a,o],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};t.exports=i},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return function(e){function n(t){i(this,n);var e=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.toggleFullscreen=function(){e.state.fullscreen?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},e.fullScreenChange=function(){e.setState({fullscreen:!e.state.fullscreen})},e.state={fullscreen:!1},e}return s(n,e),u(n,[{key:"componentDidMount",value:function(){document.addEventListener("webkitfullscreenchange",this.fullScreenChange),document.addEventListener("mozfullscreenchange",this.fullScreenChange),document.addEventListener("fullscreenchange",this.fullScreenChange),document.addEventListener("MSFullscreenChange",this.fullScreenChange)}},{key:"componentWillUnmount",value:function(){document.addEventListener("webkitfullscreenchange",this.fullScreenChange),document.addEventListener("mozfullscreenchange",this.fullScreenChange),document.addEventListener("fullscreenchange",this.fullScreenChange),document.addEventListener("MSFullscreenChange",this.fullScreenChange)}},{key:"render",value:function(){return l.a.createElement(t,Object.assign({},this.props,{fullscreen:this.state.fullscreen,toggleFullscreen:this.toggleFullscreen}))}}]),n}(o.Component)}e.a=a;var o=n(0),l=n.n(o),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return function(e){function n(t){i(this,n);var e=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.setTool=function(t){e.setState({activeTool:t})},e.keyDown=function(t){"Space"===t.code&&"move"!==e.state.activeTool?(e._prevTool=e.state.activeTool,e.setState({activeTool:"move"})):"v"===t.key?e.setState({activeTool:"move"}):"a"===t.key?e.setState({activeTool:"select"}):"p"===t.key?e.setState({activeTool:"pen"}):"c"===t.key?e.setState({activeTool:"circle"}):"r"===t.key?e.setState({activeTool:"rectangle"}):"d"===t.key&&e.setState({activeTool:"delete"})},e.keyUp=function(t){"Space"===t.code&&"move"===e.state.activeTool&&"move"!==e._prevTool&&(e.setTool(e._prevTool),e._prevTool=null)},e.state={activeTool:"move"},e._prevTool=null,e}return s(n,e),u(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDown),document.removeEventListener("keyup",this.keyUp)}},{key:"render",value:function(){return l.a.createElement(t,Object.assign({},this.props,{activeTool:this.state.activeTool,setTool:this.setTool}))}}]),n}(o.Component)}e.a=a;var o=n(0),l=n.n(o),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return function(e){function n(t){i(this,n);var e=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.fitImage=function(t){var n=e.props,i=n.imageWidth,r=n.imageHeight,s=n.width,a=n.height;if(t.fitBounds(0,0,i,r),!e._imageLoaded){var o=s/i,l=a/r,u=o<l?o:l,c=i*u,h=r*u,f=(s-c)/2/u,d=(a-h)/2/u,p=e.state.x+f,g=e.state.y+d;e.setState({tx:f,ty:d,x:p,y:g,zoom:u},function(){e.setState({tx:0,ty:0})}),e._imageLoaded=!0}},e.mouseWheel=function(t,n){var i=n.view,r=e.state.zoom,s=t.pageX,a=t.pageY,o=t.nativeEvent,l=o.target,u=l.offsetLeft,h=l.offsetTop,f=-t.deltaY||t.wheelDelta,d=f>0?r*c:r/c,p=i.viewToProject(s-u,a-h);e.setState({sx:p.x,sy:p.y,zoom:d})},e.mouseDown=function(t){},e.mouseDrag=function(t){var n=t.event.touches,i=t.tool.view;if(n&&2===n.length){if(!e._pinch)return void(e._pinch=e.getPinchEventData(t));var r=e._pinch,s=e.getPinchEventData(t),a=e.getPinchEventState(t,r,s),o=a.sx,l=a.sy,u=a.tx,c=a.ty,h=a.zoom;i.scale(h/e.state.zoom,[o,l]),i.translate(u,c),e._pinch=s}else{if(!e._pan)return void(e._pan=e.getPanEventData(t));var f=e._pan,d=e.getPanEventData(t),p=e.getPanEventState(t,f,d),g=p.tx,v=p.ty;i.translate(g,v),e._pan=d}},e.mouseUp=function(t){e._pan=null,e._pinch=null},e.state={sx:0,sy:0,tx:0,ty:0,x:0,y:0,zoom:1},e._pan=null,e._pinch=null,e}return s(n,e),u(n,[{key:"getPinchEventData",value:function(t){var e=t.event,n=e.target,i=n.offsetLeft,r=n.offsetTop,s=e.touches,a=s[0].pageX-i,o=s[0].pageY-r,l=s[1].pageX-i,u=s[1].pageY-r;return{center:[(a+l)/2,(o+u)/2],distance:Math.sqrt(Math.pow(l-a,2)+Math.pow(u-o,2))}}},{key:"getPinchEventState",value:function(t,e,n){var i=this.state,r=i.x,s=i.y,a=i.zoom,o=t.tool.view,l=o.viewToProject(n.center),u=l.subtract(o.viewToProject(e.center)),c=n.distance/e.distance;return{tx:u.x,ty:u.y,sx:l.x,sy:l.y,x:r+u.x,y:s+u.y,zoom:a*c}}},{key:"getPanEventData",value:function(t){var e=t.point,n=t.event,i=n.touches,r=n.pageX,s=n.pageY;return{point:t.tool.view.projectToView(e),x:i?i[0].pageX:r,y:i?i[0].pageY:s}}},{key:"getPanEventState",value:function(t,e,n){var i=this.state,r=i.x,s=i.y,a=t.point,o=t.tool.view,l=a.subtract(o.viewToProject(e.point));return{tx:l.x,ty:l.y,x:r+l.x,y:s+l.y}}},{key:"render",value:function(){return l.a.createElement(t,Object.assign({},this.props,this.state,{fitImage:this.fitImage,moveToolTouchStart:this.touchStart,moveToolTouchMove:this.touchMove,moveToolTouchEnd:this.touchEnd,moveToolMouseWheel:this.mouseWheel,moveToolMouseDown:this.mouseDown,moveToolMouseDrag:this.mouseDrag,moveToolMouseUp:this.mouseUp}))}}]),n}(o.Component)}e.a=a;var o=n(0),l=n.n(o),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=1.1},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e,n;return e=function(e){function a(t){i(this,a);var e=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));n.call(e);var s=t.initialData,o=s&&s[0]&&s[0].id;return e.state={activeLayer:o,selectedItem:o},e._changed=!1,e._item=null,e._point=null,e}return s(a,e),u(a,[{key:"render",value:function(){return l.a.createElement(t,Object.assign({},this.props,this.state,{selectItem:this.selectItem,deselectItem:this.deselectItem,selectToolKeyDown:this.keyDown,selectToolKeyUp:this.keyUp,selectToolMouseDown:this.mouseDown,selectToolMouseDrag:this.mouseDrag,selectToolMouseUp:this.mouseUp}))}}]),a}(o.Component),n=function(){var t=this;this.selectItem=function(e){var n=e.id,i=e.type;if(n!==t.state.selectedItem)switch(i){case"Layer":t.setState({activeLayer:n,selectedItem:n});break;case"Path":case"Circle":case"Rectangle":t.setState({selectedItem:n})}},this.deselectItem=function(){t.setState({selectedItem:null})},this.keyDown=function(e){if(t._item){var n=e.key,i=e.modifiers.shift;switch(n){case"delete":t.props.removeItem(t._item),t._changed=!1,t._item=null,t._point=null;break;case"up":t._item.translate(0,i?-10:-1),t._changed=!0;break;case"down":t._item.translate(0,i?10:1),t._changed=!0;break;case"left":t._item.translate(i?-10:-1,0),t._changed=!0;break;case"right":t._item.translate(i?10:1,0),t._changed=!0}}},this.keyUp=function(e){var n=e.key;t._item&&t._changed&&"shift"!==n&&(t._updateTimeout&&clearTimeout(t._updateTimeout),t._updateTimeout=setTimeout(function(){t.props.updateItem(t._item,{pathData:t._item.getPathData(),selected:!0}),t._changed=!1,t._updateTimeout=null},350))},this.mouseDown=function(e){t.deselectItem();var n=e.tool.view._project.hitTest(e.point,c);n&&n.item&&!n.item.locked?(t.selectItem(n.item.data),n.item.bringToFront(),t._item=n.item,t._point=e.point,console.log(t._item),console.log(t._item.getPathData&&t._item.getPathData())):(t._item=null,t._point=null)},this.mouseDrag=function(e){t._item&&t._point&&(t._item.translate(e.point.subtract(t._point)),t._changed=!0,t._point=e.point)},this.mouseUp=function(e){t._item&&t._changed&&t.props.updateItem(t._item,{pathData:t._item.getPathData(),selected:!0}),t._changed=!1,t._point=null}},e}e.a=a;var o=n(0),l=n.n(o),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c={segments:!0,stroke:!0,fill:!0,tolerance:12}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return function(e){function n(t){i(this,n);var e=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.mouseDown=function(t){e.props.deselectItem()},e.mouseDrag=function(t){e._path?e._path.add(t.point):e._path=new u.Path({segments:[t.point],selected:!0,strokeColor:"red",strokeScaling:!1,strokeWidth:2})},e.mouseUp=function(t){if(e._path){e._path.simplify(6);var n=e.props.addItem(e._path.layer,{type:"Path",pathData:e._path.getPathData(),strokeColor:e._path.style.strokeColor.toCSS(!0),strokeScaling:e._path.strokeScaling,strokeWidth:e._path.strokeWidth});console.log(e._path),console.log(e._path.getPathData()),e.props.selectItem(n),e._path.remove(),e._path=null}},e._path=null,e}return s(n,e),c(n,[{key:"render",value:function(){return l.a.createElement(t,Object.assign({},this.props,{penToolMouseDown:this.mouseDown,penToolMouseDrag:this.mouseDrag,penToolMouseUp:this.mouseUp}))}}]),n}(o.Component)}e.a=a;var o=n(0),l=n.n(o),u=n(13),c=(n.n(u),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}())},function(t,e){},function(t,e,n){"use strict";function i(t,e){for(var n=65536,i=0;i<e.length;i+=2){if((n+=e[i])>t)return!1;if((n+=e[i+1])>=t)return!0}}function r(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&P.test(String.fromCharCode(t)):!1!==e&&i(t,O)))}function s(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&E.test(String.fromCharCode(t)):!1!==e&&(i(t,O)||i(t,I)))))}function a(t,e){return new A(t,{beforeExpr:!0,binop:e})}function o(t,e){return void 0===e&&(e={}),e.keyword=t,L[t]=new A(t,e)}function l(t){return 10===t||13===t||8232===t||8233===t}function u(t,e){return V.call(t,e)}function c(t,e){for(var n=1,i=0;;){j.lastIndex=i;var r=j.exec(t);if(!(r&&r.index<e))return new H(n,e-i);++n,i=r.index+r[0].length}}function h(t){var e={};for(var n in $)e[n]=t&&u(t,n)?t[n]:$[n];if(e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),q(e.onToken)){var i=e.onToken;e.onToken=function(t){return i.push(t)}}return q(e.onComment)&&(e.onComment=f(e,e.onComment)),e}function f(t,e){return function(n,i,r,s,a,o){var l={type:n?"Block":"Line",value:i,start:r,end:s};t.locations&&(l.loc=new W(this,a,o)),t.ranges&&(l.range=[r,s]),e.push(l)}}function d(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}function p(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=-1}function g(t,e,n,i){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=i),this.options.ranges&&(t.range[1]=n),t}function v(t,e,n,i){try{return new RegExp(t,e)}catch(t){if(void 0!==n)throw t instanceof SyntaxError&&i.raise(n,"Error parsing regular expression: "+t.message),t}}function m(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function _(t,e){return new G(e,t).parse()}function y(t,e,n){var i=new G(n,t,e);return i.nextToken(),i.parseExpression()}function b(t,e){return new G(e,t)}function w(t,e,n){mt=t,_t=e,yt=n}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"version",function(){return bt}),n.d(e,"parse",function(){return _}),n.d(e,"parseExpressionAt",function(){return y}),n.d(e,"tokenizer",function(){return b}),n.d(e,"parse_dammit",function(){return mt}),n.d(e,"LooseParser",function(){return _t}),n.d(e,"pluginsLoose",function(){return yt}),n.d(e,"addLooseExports",function(){return w}),n.d(e,"Parser",function(){return G}),n.d(e,"plugins",function(){return Z}),n.d(e,"defaultOptions",function(){return $}),n.d(e,"Position",function(){return H}),n.d(e,"SourceLocation",function(){return W}),n.d(e,"getLineInfo",function(){return c}),n.d(e,"Node",function(){return ot}),n.d(e,"TokenType",function(){return A}),n.d(e,"tokTypes",function(){return z}),n.d(e,"keywordTypes",function(){return L}),n.d(e,"TokContext",function(){return ut}),n.d(e,"tokContexts",function(){return ct}),n.d(e,"isIdentifierChar",function(){return s}),n.d(e,"isIdentifierStart",function(){return r}),n.d(e,"Token",function(){return ft}),n.d(e,"isNewLine",function(){return l}),n.d(e,"lineBreak",function(){return R}),n.d(e,"lineBreakG",function(){return j}),n.d(e,"nonASCIIwhitespace",function(){return D});var x={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},C="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",S={5:C,6:C+" const class extends export import super"},k="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fd5\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ae\ua7b0-\ua7b7\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",T="\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d4-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d01-\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf8\u1cf9\u1dc0-\u1df5\u1dfb-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",P=new RegExp("["+k+"]"),E=new RegExp("["+k+T+"]");k=T=null;var O=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,264,8,2,36,18,0,50,29,881,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,0,32,6124,20,754,9486,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541],I=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,838,7,2,7,17,9,57,21,2,13,19882,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239],A=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null},M={beforeExpr:!0},N={startsExpr:!0},L={},z={num:new A("num",N),regexp:new A("regexp",N),string:new A("string",N),name:new A("name",N),eof:new A("eof"),bracketL:new A("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new A("]"),braceL:new A("{",{beforeExpr:!0,startsExpr:!0}),braceR:new A("}"),parenL:new A("(",{beforeExpr:!0,startsExpr:!0}),parenR:new A(")"),comma:new A(",",M),semi:new A(";",M),colon:new A(":",M),dot:new A("."),question:new A("?",M),arrow:new A("=>",M),template:new A("template"),invalidTemplate:new A("invalidTemplate"),ellipsis:new A("...",M),backQuote:new A("`",N),dollarBraceL:new A("${",{beforeExpr:!0,startsExpr:!0}),eq:new A("=",{beforeExpr:!0,isAssign:!0}),assign:new A("_=",{beforeExpr:!0,isAssign:!0}),incDec:new A("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new A("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:a("||",1),logicalAND:a("&&",2),bitwiseOR:a("|",3),bitwiseXOR:a("^",4),bitwiseAND:a("&",5),equality:a("==/!=/===/!==",6),relational:a("</>/<=/>=",7),bitShift:a("<</>>/>>>",8),plusMin:new A("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:a("%",10),star:a("*",10),slash:a("/",10),starstar:new A("**",{beforeExpr:!0}),_break:o("break"),_case:o("case",M),_catch:o("catch"),_continue:o("continue"),_debugger:o("debugger"),_default:o("default",M),_do:o("do",{isLoop:!0,beforeExpr:!0}),_else:o("else",M),_finally:o("finally"),_for:o("for",{isLoop:!0}),_function:o("function",N),_if:o("if"),_return:o("return",M),_switch:o("switch"),_throw:o("throw",M),_try:o("try"),_var:o("var"),_const:o("const"),_while:o("while",{isLoop:!0}),_with:o("with"),_new:o("new",{beforeExpr:!0,startsExpr:!0}),_this:o("this",N),_super:o("super",N),_class:o("class",N),_extends:o("extends",M),_export:o("export"),_import:o("import"),_null:o("null",N),_true:o("true",N),_false:o("false",N),_in:o("in",{beforeExpr:!0,binop:7}),_instanceof:o("instanceof",{beforeExpr:!0,binop:7}),_typeof:o("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:o("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:o("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},R=/\r\n?|\n|\u2028|\u2029/,j=new RegExp(R.source,"g"),D=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,F=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,B=Object.prototype,V=B.hasOwnProperty,U=B.toString,q=Array.isArray||function(t){return"[object Array]"===U.call(t)},H=function(t,e){this.line=t,this.column=e};H.prototype.offset=function(t){return new H(this.line,this.column+t)};var W=function(t,e,n){this.start=e,this.end=n,null!==t.sourceFile&&(this.source=t.sourceFile)},$={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}},Z={},G=function(t,e,n){this.options=t=h(t),this.sourceFile=t.sourceFile,this.keywords=d(S[t.ecmaVersion>=6?6:5]);var i="";if(!t.allowReserved){for(var r=t.ecmaVersion;!(i=x[r]);r--);"module"==t.sourceType&&(i+=" await")}this.reservedWords=d(i);var s=(i?i+" ":"")+x.strict;this.reservedWordsStrict=d(s),this.reservedWordsStrictBind=d(s+" "+x.strictBind),this.input=String(e),this.containsEsc=!1,this.loadPlugins(t.plugins),n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(R).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=z.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterFunctionScope()};G.prototype.isKeyword=function(t){return this.keywords.test(t)},G.prototype.isReservedWord=function(t){return this.reservedWords.test(t)},G.prototype.extend=function(t,e){this[t]=e(this[t])},G.prototype.loadPlugins=function(t){var e=this;for(var n in t){var i=Z[n];if(!i)throw new Error("Plugin '"+n+"' not found");i(e,t[n])}},G.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};var K=G.prototype,Y=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)"|;)/;K.strictDirective=function(t){for(var e=this;;){F.lastIndex=t,t+=F.exec(e.input)[0].length;var n=Y.exec(e.input.slice(t));if(!n)return!1;if("use strict"==(n[1]||n[2]))return!0;t+=n[0].length}},K.eat=function(t){return this.type===t&&(this.next(),!0)},K.isContextual=function(t){return this.type===z.name&&this.value===t},K.eatContextual=function(t){return this.value===t&&this.eat(z.name)},K.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},K.canInsertSemicolon=function(){return this.type===z.eof||this.type===z.braceR||R.test(this.input.slice(this.lastTokEnd,this.start))},K.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},K.semicolon=function(){this.eat(z.semi)||this.insertSemicolon()||this.unexpected()},K.afterTrailingComma=function(t,e){if(this.type==t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},K.expect=function(t){this.eat(t)||this.unexpected()},K.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")},K.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},K.checkExpressionErrors=function(t,e){var n=t?t.shorthandAssign:-1;if(!e)return n>=0;n>-1&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns")},K.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},K.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var X=G.prototype;X.parseTopLevel=function(t){var e=this,n={};for(t.body||(t.body=[]);this.type!==z.eof;){var i=e.parseStatement(!0,!0,n);t.body.push(i)}return this.adaptDirectivePrologue(t.body),this.next(),this.options.ecmaVersion>=6&&(t.sourceType=this.options.sourceType),this.finishNode(t,"Program")};var Q={kind:"loop"},J={kind:"switch"};X.isLet=function(){if(this.type!==z.name||this.options.ecmaVersion<6||"let"!=this.value)return!1;F.lastIndex=this.pos;var t=F.exec(this.input),e=this.pos+t[0].length,n=this.input.charCodeAt(e);if(91===n||123==n)return!0;if(r(n,!0)){for(var i=e+1;s(this.input.charCodeAt(i),!0);)++i;var a=this.input.slice(e,i);if(!this.isKeyword(a))return!0}return!1},X.isAsyncFunction=function(){if(this.type!==z.name||this.options.ecmaVersion<8||"async"!=this.value)return!1;F.lastIndex=this.pos;var t=F.exec(this.input),e=this.pos+t[0].length;return!R.test(this.input.slice(this.pos,e))&&"function"===this.input.slice(e,e+8)&&(e+8==this.input.length||!s(this.input.charAt(e+8)))},X.parseStatement=function(t,e,n){var i,r=this.type,s=this.startNode();switch(this.isLet()&&(r=z._var,i="let"),r){case z._break:case z._continue:return this.parseBreakContinueStatement(s,r.keyword);case z._debugger:return this.parseDebuggerStatement(s);case z._do:return this.parseDoStatement(s);case z._for:return this.parseForStatement(s);case z._function:return!t&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1);case z._class:return t||this.unexpected(),this.parseClass(s,!0);case z._if:return this.parseIfStatement(s);case z._return:return this.parseReturnStatement(s);case z._switch:return this.parseSwitchStatement(s);case z._throw:return this.parseThrowStatement(s);case z._try:return this.parseTryStatement(s);case z._const:case z._var:return i=i||this.value,t||"var"==i||this.unexpected(),this.parseVarStatement(s,i);case z._while:return this.parseWhileStatement(s);case z._with:return this.parseWithStatement(s);case z.braceL:return this.parseBlock();case z.semi:return this.parseEmptyStatement(s);case z._export:case z._import:return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===z._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction()&&t)return this.next(),this.parseFunctionStatement(s,!0);var a=this.value,o=this.parseExpression();return r===z.name&&"Identifier"===o.type&&this.eat(z.colon)?this.parseLabeledStatement(s,a,o):this.parseExpressionStatement(s,o)}},X.parseBreakContinueStatement=function(t,e){var n=this,i="break"==e;this.next(),this.eat(z.semi)||this.insertSemicolon()?t.label=null:this.type!==z.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var s=n.labels[r];if(null==t.label||s.name===t.label.name){if(null!=s.kind&&(i||"loop"===s.kind))break;if(t.label&&i)break}}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},X.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},X.parseDoStatement=function(t){return this.next(),this.labels.push(Q),t.body=this.parseStatement(!1),this.labels.pop(),this.expect(z._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(z.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},X.parseForStatement=function(t){if(this.next(),this.labels.push(Q),this.enterLexicalScope(),this.expect(z.parenL),this.type===z.semi)return this.parseFor(t,null);var e=this.isLet();if(this.type===z._var||this.type===z._const||e){var n=this.startNode(),i=e?"let":this.value;return this.next(),this.parseVar(n,!0,i),this.finishNode(n,"VariableDeclaration"),!(this.type===z._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==n.declarations.length||"var"!==i&&n.declarations[0].init?this.parseFor(t,n):this.parseForIn(t,n)}var r=new p,s=this.parseExpression(!0,r);return this.type===z._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.toAssignable(s),this.checkLVal(s),this.checkPatternErrors(r,!0),this.parseForIn(t,s)):(this.checkExpressionErrors(r,!0),this.parseFor(t,s))},X.parseFunctionStatement=function(t,e){return this.next(),this.parseFunction(t,!0,!1,e)},X.isFunction=function(){return this.type===z._function||this.isAsyncFunction()},X.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement(!this.strict&&this.isFunction()),t.alternate=this.eat(z._else)?this.parseStatement(!this.strict&&this.isFunction()):null,this.finishNode(t,"IfStatement")},X.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(z.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},X.parseSwitchStatement=function(t){var e=this;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(z.braceL),this.labels.push(J),this.enterLexicalScope();for(var n,i=!1;this.type!=z.braceR;)if(e.type===z._case||e.type===z._default){var r=e.type===z._case;n&&e.finishNode(n,"SwitchCase"),t.cases.push(n=e.startNode()),n.consequent=[],e.next(),r?n.test=e.parseExpression():(i&&e.raiseRecoverable(e.lastTokStart,"Multiple default clauses"),i=!0,n.test=null),e.expect(z.colon)}else n||e.unexpected(),n.consequent.push(e.parseStatement(!0));return this.exitLexicalScope(),n&&this.finishNode(n,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},X.parseThrowStatement=function(t){return this.next(),R.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var tt=[];X.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===z._catch){var e=this.startNode();this.next(),this.expect(z.parenL),e.param=this.parseBindingAtom(),this.enterLexicalScope(),this.checkLVal(e.param,"let"),this.expect(z.parenR),e.body=this.parseBlock(!1),this.exitLexicalScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(z._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},X.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},X.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(Q),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"WhileStatement")},X.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement(!1),this.finishNode(t,"WithStatement")},X.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},X.parseLabeledStatement=function(t,e,n){for(var i=this,r=0,s=i.labels;r<s.length;r+=1){s[r].name===e&&i.raise(n.start,"Label '"+e+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===z._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var l=i.labels[o];if(l.statementStart!=t.start)break;l.statementStart=i.start,l.kind=a}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(!0),("ClassDeclaration"==t.body.type||"VariableDeclaration"==t.body.type&&"var"!=t.body.kind||"FunctionDeclaration"==t.body.type&&(this.strict||t.body.generator))&&this.raiseRecoverable(t.body.start,"Invalid labeled declaration"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")},X.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},X.parseBlock=function(t){var e=this;void 0===t&&(t=!0);var n=this.startNode();for(n.body=[],this.expect(z.braceL),t&&this.enterLexicalScope();!this.eat(z.braceR);){var i=e.parseStatement(!0);n.body.push(i)}return t&&this.exitLexicalScope(),this.finishNode(n,"BlockStatement")},X.parseFor=function(t,e){return t.init=e,this.expect(z.semi),t.test=this.type===z.semi?null:this.parseExpression(),this.expect(z.semi),t.update=this.type===z.parenR?null:this.parseExpression(),this.expect(z.parenR),this.exitLexicalScope(),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"ForStatement")},X.parseForIn=function(t,e){var n=this.type===z._in?"ForInStatement":"ForOfStatement";return this.next(),t.left=e,t.right=this.parseExpression(),this.expect(z.parenR),this.exitLexicalScope(),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,n)},X.parseVar=function(t,e,n){var i=this;for(t.declarations=[],t.kind=n;;){var r=i.startNode();if(i.parseVarId(r,n),i.eat(z.eq)?r.init=i.parseMaybeAssign(e):"const"!==n||i.type===z._in||i.options.ecmaVersion>=6&&i.isContextual("of")?"Identifier"==r.id.type||e&&(i.type===z._in||i.isContextual("of"))?r.init=null:i.raise(i.lastTokEnd,"Complex binding patterns require an initialization value"):i.unexpected(),t.declarations.push(i.finishNode(r,"VariableDeclarator")),!i.eat(z.comma))break}return t},X.parseVarId=function(t,e){t.id=this.parseBindingAtom(e),this.checkLVal(t.id,e,!1)},X.parseFunction=function(t,e,n,i){this.initFunction(t),this.options.ecmaVersion>=6&&!i&&(t.generator=this.eat(z.star)),this.options.ecmaVersion>=8&&(t.async=!!i),e&&(t.id="nullableID"===e&&this.type!=z.name?null:this.parseIdent(),t.id&&this.checkLVal(t.id,"var"));var r=this.inGenerator,s=this.inAsync,a=this.yieldPos,o=this.awaitPos,l=this.inFunction;return this.inGenerator=t.generator,this.inAsync=t.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),e||(t.id=this.type==z.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n),this.inGenerator=r,this.inAsync=s,this.yieldPos=a,this.awaitPos=o,this.inFunction=l,this.finishNode(t,e?"FunctionDeclaration":"FunctionExpression")},X.parseFunctionParams=function(t){this.expect(z.parenL),t.params=this.parseBindingList(z.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},X.parseClass=function(t,e){var n=this;this.next(),this.parseClassId(t,e),this.parseClassSuper(t);var i=this.startNode(),r=!1;for(i.body=[],this.expect(z.braceL);!this.eat(z.braceR);)if(!n.eat(z.semi)){var s=n.startNode(),a=n.eat(z.star),o=!1,l=n.type===z.name&&"static"===n.value;n.parsePropertyName(s),s.static=l&&n.type!==z.parenL,s.static&&(a&&n.unexpected(),a=n.eat(z.star),n.parsePropertyName(s)),n.options.ecmaVersion>=8&&!a&&!s.computed&&"Identifier"===s.key.type&&"async"===s.key.name&&n.type!==z.parenL&&!n.canInsertSemicolon()&&(o=!0,n.parsePropertyName(s)),s.kind="method";var u=!1;if(!s.computed){var c=s.key;a||o||"Identifier"!==c.type||n.type===z.parenL||"get"!==c.name&&"set"!==c.name||(u=!0,s.kind=c.name,c=n.parsePropertyName(s)),!s.static&&("Identifier"===c.type&&"constructor"===c.name||"Literal"===c.type&&"constructor"===c.value)&&(r&&n.raise(c.start,"Duplicate constructor in the same class"),u&&n.raise(c.start,"Constructor can't have get/set modifier"),a&&n.raise(c.start,"Constructor can't be a generator"),o&&n.raise(c.start,"Constructor can't be an async method"),s.kind="constructor",r=!0)}if(n.parseClassMethod(i,s,a,o),u){var h="get"===s.kind?0:1;if(s.value.params.length!==h){var f=s.value.start;"get"===s.kind?n.raiseRecoverable(f,"getter should have no params"):n.raiseRecoverable(f,"setter should have exactly one param")}else"set"===s.kind&&"RestElement"===s.value.params[0].type&&n.raiseRecoverable(s.value.params[0].start,"Setter cannot use rest params")}}return t.body=this.finishNode(i,"ClassBody"),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},X.parseClassMethod=function(t,e,n,i){e.value=this.parseMethod(n,i),t.body.push(this.finishNode(e,"MethodDefinition"))},X.parseClassId=function(t,e){t.id=this.type===z.name?this.parseIdent():!0===e?this.unexpected():null},X.parseClassSuper=function(t){t.superClass=this.eat(z._extends)?this.parseExprSubscripts():null},X.parseExport=function(t,e){var n=this;if(this.next(),this.eat(z.star))return this.expectContextual("from"),t.source=this.type===z.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(z._default)){this.checkExport(e,"default",this.lastTokStart);var i;if(this.type===z._function||(i=this.isAsyncFunction())){var r=this.startNode();this.next(),i&&this.next(),t.declaration=this.parseFunction(r,"nullableID",!1,i)}else if(this.type===z._class){var s=this.startNode();t.declaration=this.parseClass(s,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(!0),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))t.source=this.type===z.string?this.parseExprAtom():this.unexpected();else{for(var a=0,o=t.specifiers;a<o.length;a+=1){var l=o[a];n.checkUnreserved(l.local)}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},X.checkExport=function(t,e,n){t&&(u(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)},X.checkPatternExport=function(t,e){var n=this,i=e.type;if("Identifier"==i)this.checkExport(t,e.name,e.start);else if("ObjectPattern"==i)for(var r=0,s=e.properties;r<s.length;r+=1){var a=s[r];n.checkPatternExport(t,a.value)}else if("ArrayPattern"==i)for(var o=0,l=e.elements;o<l.length;o+=1){var u=l[o];u&&n.checkPatternExport(t,u)}else"AssignmentPattern"==i?this.checkPatternExport(t,e.left):"ParenthesizedExpression"==i&&this.checkPatternExport(t,e.expression)},X.checkVariableExport=function(t,e){var n=this;if(t)for(var i=0,r=e;i<r.length;i+=1){var s=r[i];n.checkPatternExport(t,s.id)}},X.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},X.parseExportSpecifiers=function(t){var e=this,n=[],i=!0;for(this.expect(z.braceL);!this.eat(z.braceR);){if(i)i=!1;else if(e.expect(z.comma),e.afterTrailingComma(z.braceR))break;var r=e.startNode();r.local=e.parseIdent(!0),r.exported=e.eatContextual("as")?e.parseIdent(!0):r.local,e.checkExport(t,r.exported.name,r.exported.start),n.push(e.finishNode(r,"ExportSpecifier"))}return n},X.parseImport=function(t){return this.next(),this.type===z.string?(t.specifiers=tt,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===z.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},X.parseImportSpecifiers=function(){var t=this,e=[],n=!0;if(this.type===z.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLVal(i.local,"let"),e.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(z.comma))return e}if(this.type===z.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,"let"),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}for(this.expect(z.braceL);!this.eat(z.braceR);){if(n)n=!1;else if(t.expect(z.comma),t.afterTrailingComma(z.braceR))break;var s=t.startNode();s.imported=t.parseIdent(!0),t.eatContextual("as")?s.local=t.parseIdent():(t.checkUnreserved(s.imported),s.local=s.imported),t.checkLVal(s.local,"let"),e.push(t.finishNode(s,"ImportSpecifier"))}return e},X.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},X.isDirectiveCandidate=function(t){return"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"===typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var et=G.prototype;et.toAssignable=function(t,e){var n=this;if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":t.type="ObjectPattern";for(var i=0,r=t.properties;i<r.length;i+=1){var s=r[i];"init"!==s.kind&&n.raise(s.key.start,"Object pattern can't contain getter or setter"),n.toAssignable(s.value,e)}break;case"ArrayExpression":t.type="ArrayPattern",this.toAssignableList(t.elements,e);break;case"AssignmentExpression":if("="!==t.operator){this.raise(t.left.end,"Only '=' operator can be used for specifying default value.");break}t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(t.expression,e);break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}return t},et.toAssignableList=function(t,e){var n=this,i=t.length;if(i){var r=t[i-1];if(r&&"RestElement"==r.type)--i;else if(r&&"SpreadElement"==r.type){r.type="RestElement";var s=r.argument;this.toAssignable(s,e),--i}6===this.options.ecmaVersion&&e&&r&&"RestElement"===r.type&&"Identifier"!==r.argument.type&&this.unexpected(r.argument.start)}for(var a=0;a<i;a++){var o=t[a];o&&n.toAssignable(o,e)}return t},et.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},et.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==z.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},et.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case z.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(z.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case z.braceL:return this.parseObj(!0)}return this.parseIdent()},et.parseBindingList=function(t,e,n){for(var i=this,r=[],s=!0;!this.eat(t);)if(s?s=!1:i.expect(z.comma),e&&i.type===z.comma)r.push(null);else{if(n&&i.afterTrailingComma(t))break;if(i.type===z.ellipsis){var a=i.parseRestBinding();i.parseBindingListItem(a),r.push(a),i.type===z.comma&&i.raise(i.start,"Comma is not permitted after the rest element"),i.expect(t);break}var o=i.parseMaybeDefault(i.start,i.startLoc);i.parseBindingListItem(o),r.push(o)}return r},et.parseBindingListItem=function(t){return t},et.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(z.eq))return n;var i=this.startNodeAt(t,e);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},et.checkLVal=function(t,e,n){var i=this;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(e?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(u(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),e&&"none"!==e&&(("var"===e&&!this.canDeclareVarName(t.name)||"var"!==e&&!this.canDeclareLexicalName(t.name))&&this.raiseRecoverable(t.start,"Identifier '"+t.name+"' has already been declared"),"var"===e?this.declareVarName(t.name):this.declareLexicalName(t.name));break;case"MemberExpression":e&&this.raiseRecoverable(t.start,(e?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var r=0,s=t.properties;r<s.length;r+=1){var a=s[r];i.checkLVal(a.value,e,n)}break;case"ArrayPattern":for(var o=0,l=t.elements;o<l.length;o+=1){var c=l[o];c&&i.checkLVal(c,e,n)}break;case"AssignmentPattern":this.checkLVal(t.left,e,n);break;case"RestElement":this.checkLVal(t.argument,e,n);break;case"ParenthesizedExpression":this.checkLVal(t.expression,e,n);break;default:this.raise(t.start,(e?"Binding":"Assigning to")+" rvalue")}};var nt=G.prototype;nt.checkPropClash=function(t,e){if(!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n,i=t.key;switch(i.type){case"Identifier":n=i.name;break;case"Literal":n=String(i.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===n&&"init"===r&&(e.proto&&this.raiseRecoverable(i.start,"Redefinition of __proto__ property"),e.proto=!0));n="$"+n;var s=e[n];if(s){var a;a="init"===r?this.strict&&s.init||s.get||s.set:s.init||s[r],a&&this.raiseRecoverable(i.start,"Redefinition of property")}else s=e[n]={init:!1,get:!1,set:!1};s[r]=!0}},nt.parseExpression=function(t,e){var n=this,i=this.start,r=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type===z.comma){var a=this.startNodeAt(i,r);for(a.expressions=[s];this.eat(z.comma);)a.expressions.push(n.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return s},nt.parseMaybeAssign=function(t,e,n){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var i=!1,r=-1,s=-1;e?(r=e.parenthesizedAssign,s=e.trailingComma,e.parenthesizedAssign=e.trailingComma=-1):(e=new p,i=!0);var a=this.start,o=this.startLoc;this.type!=z.parenL&&this.type!=z.name||(this.potentialArrowAt=this.start);var l=this.parseMaybeConditional(t,e);if(n&&(l=n.call(this,l,a,o)),this.type.isAssign){this.checkPatternErrors(e,!0),i||p.call(e);var u=this.startNodeAt(a,o);return u.operator=this.value,u.left=this.type===z.eq?this.toAssignable(l):l,e.shorthandAssign=-1,this.checkLVal(l),this.next(),u.right=this.parseMaybeAssign(t),this.finishNode(u,"AssignmentExpression")}return i&&this.checkExpressionErrors(e,!0),r>-1&&(e.parenthesizedAssign=r),s>-1&&(e.trailingComma=s),l},nt.parseMaybeConditional=function(t,e){var n=this.start,i=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(z.question)){var s=this.startNodeAt(n,i);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(z.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return r},nt.parseExprOps=function(t,e){var n=this.start,i=this.startLoc,r=this.parseMaybeUnary(e,!1);return this.checkExpressionErrors(e)?r:r.start==n&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,n,i,-1,t)},nt.parseExprOp=function(t,e,n,i,r){var s=this.type.binop;if(null!=s&&(!r||this.type!==z._in)&&s>i){var a=this.type===z.logicalOR||this.type===z.logicalAND,o=this.value;this.next();var l=this.start,u=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1),l,u,s,r),h=this.buildBinary(e,n,t,c,o,a);return this.parseExprOp(h,e,n,i,r)}return t},nt.buildBinary=function(t,e,n,i,r,s){var a=this.startNodeAt(t,e);return a.left=n,a.operator=r,a.right=i,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},nt.parseMaybeUnary=function(t,e){var n,i=this,r=this.start,s=this.startLoc;if(this.inAsync&&this.isContextual("await"))n=this.parseAwait(),e=!0;else if(this.type.prefix){var a=this.startNode(),o=this.type===z.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(t,!0),o?this.checkLVal(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):e=!0,n=this.finishNode(a,o?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(t),this.checkExpressionErrors(t))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=i.startNodeAt(r,s);l.operator=i.value,l.prefix=!1,l.argument=n,i.checkLVal(n),i.next(),n=i.finishNode(l,"UpdateExpression")}}return!e&&this.eat(z.starstar)?this.buildBinary(r,s,n,this.parseMaybeUnary(null,!1),"**",!1):n},nt.parseExprSubscripts=function(t){var e=this.start,n=this.startLoc,i=this.parseExprAtom(t),r="ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(t)||r)return i;var s=this.parseSubscripts(i,e,n);return t&&"MemberExpression"===s.type&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1)),s},nt.parseSubscripts=function(t,e,n,i){for(var r=this,s=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd==t.end&&!this.canInsertSemicolon(),a=void 0;;)if((a=r.eat(z.bracketL))||r.eat(z.dot)){var o=r.startNodeAt(e,n);o.object=t,o.property=a?r.parseExpression():r.parseIdent(!0),o.computed=!!a,a&&r.expect(z.bracketR),t=r.finishNode(o,"MemberExpression")}else if(!i&&r.eat(z.parenL)){var l=new p,u=r.yieldPos,c=r.awaitPos;r.yieldPos=0,r.awaitPos=0;var h=r.parseExprList(z.parenR,r.options.ecmaVersion>=8,!1,l);if(s&&!r.canInsertSemicolon()&&r.eat(z.arrow))return r.checkPatternErrors(l,!1),r.checkYieldAwaitInDefaultParams(),r.yieldPos=u,r.awaitPos=c,r.parseArrowExpression(r.startNodeAt(e,n),h,!0);r.checkExpressionErrors(l,!0),r.yieldPos=u||r.yieldPos,r.awaitPos=c||r.awaitPos;var f=r.startNodeAt(e,n);f.callee=t,f.arguments=h,t=r.finishNode(f,"CallExpression")}else{if(r.type!==z.backQuote)return t;var d=r.startNodeAt(e,n);d.tag=t,d.quasi=r.parseTemplate({isTagged:!0}),t=r.finishNode(d,"TaggedTemplateExpression")}},nt.parseExprAtom=function(t){var e,n=this.potentialArrowAt==this.start;switch(this.type){case z._super:return this.inFunction||this.raise(this.start,"'super' outside of function or class"),e=this.startNode(),this.next(),this.type!==z.dot&&this.type!==z.bracketL&&this.type!==z.parenL&&this.unexpected(),this.finishNode(e,"Super");case z._this:return e=this.startNode(),this.next(),this.finishNode(e,"ThisExpression");case z.name:var i=this.start,r=this.startLoc,s=this.parseIdent(this.type!==z.name);if(this.options.ecmaVersion>=8&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat(z._function))return this.parseFunction(this.startNodeAt(i,r),!1,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(z.arrow))return this.parseArrowExpression(this.startNodeAt(i,r),[s],!1);if(this.options.ecmaVersion>=8&&"async"===s.name&&this.type===z.name)return s=this.parseIdent(),!this.canInsertSemicolon()&&this.eat(z.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,r),[s],!0)}return s;case z.regexp:var a=this.value;return e=this.parseLiteral(a.value),e.regex={pattern:a.pattern,flags:a.flags},e;case z.num:case z.string:return this.parseLiteral(this.value);case z._null:case z._true:case z._false:return e=this.startNode(),e.value=this.type===z._null?null:this.type===z._true,e.raw=this.type.keyword,this.next(),this.finishNode(e,"Literal");case z.parenL:var o=this.start,l=this.parseParenAndDistinguishExpression(n);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(l)&&(t.parenthesizedAssign=o),t.parenthesizedBind<0&&(t.parenthesizedBind=o)),l;case z.bracketL:return e=this.startNode(),this.next(),e.elements=this.parseExprList(z.bracketR,!0,!0,t),this.finishNode(e,"ArrayExpression");case z.braceL:return this.parseObj(!1,t);case z._function:return e=this.startNode(),this.next(),this.parseFunction(e,!1);case z._class:return this.parseClass(this.startNode(),!1);case z._new:return this.parseNew();case z.backQuote:return this.parseTemplate();default:this.unexpected()}},nt.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(e,"Literal")},nt.parseParenExpression=function(){this.expect(z.parenL);var t=this.parseExpression();return this.expect(z.parenR),t},nt.parseParenAndDistinguishExpression=function(t){var e,n=this,i=this.start,r=this.startLoc,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a,o,l=this.start,u=this.startLoc,c=[],h=!0,f=!1,d=new p,g=this.yieldPos,v=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==z.parenR;){if(h?h=!1:n.expect(z.comma),s&&n.afterTrailingComma(z.parenR,!0)){f=!0;break}if(n.type===z.ellipsis){a=n.start,c.push(n.parseParenItem(n.parseRestBinding())),n.type===z.comma&&n.raise(n.start,"Comma is not permitted after the rest element");break}n.type!==z.parenL||o||(o=n.start),c.push(n.parseMaybeAssign(!1,d,n.parseParenItem))}var m=this.start,_=this.startLoc;if(this.expect(z.parenR),t&&!this.canInsertSemicolon()&&this.eat(z.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),o&&this.unexpected(o),this.yieldPos=g,this.awaitPos=v,this.parseParenArrowList(i,r,c);c.length&&!f||this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(d,!0),this.yieldPos=g||this.yieldPos,this.awaitPos=v||this.awaitPos,c.length>1?(e=this.startNodeAt(l,u),e.expressions=c,this.finishNodeAt(e,"SequenceExpression",m,_)):e=c[0]}else e=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(i,r);return y.expression=e,this.finishNode(y,"ParenthesizedExpression")}return e},nt.parseParenItem=function(t){return t},nt.parseParenArrowList=function(t,e,n){return this.parseArrowExpression(this.startNodeAt(t,e),n)};var it=[];nt.parseNew=function(){var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(z.dot))return t.meta=e,t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(t.start,"new.target can only be used in functions"),this.finishNode(t,"MetaProperty");var n=this.start,i=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(),n,i,!0),this.eat(z.parenL)?t.arguments=this.parseExprList(z.parenR,this.options.ecmaVersion>=8,!1):t.arguments=it,this.finishNode(t,"NewExpression")},nt.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===z.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===z.backQuote,this.finishNode(n,"TemplateElement")},nt.parseTemplate=function(t){var e=this;void 0===t&&(t={});var n=t.isTagged;void 0===n&&(n=!1);var i=this.startNode();this.next(),i.expressions=[];var r=this.parseTemplateElement({isTagged:n});for(i.quasis=[r];!r.tail;)e.expect(z.dollarBraceL),i.expressions.push(e.parseExpression()),e.expect(z.braceR),i.quasis.push(r=e.parseTemplateElement({isTagged:n}));return this.next(),this.finishNode(i,"TemplateLiteral")},nt.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===z.name||this.type===z.num||this.type===z.string||this.type===z.bracketL||this.type.keyword)&&!R.test(this.input.slice(this.lastTokEnd,this.start))},nt.parseObj=function(t,e){var n=this,i=this.startNode(),r=!0,s={};for(i.properties=[],this.next();!this.eat(z.braceR);){if(r)r=!1;else if(n.expect(z.comma),n.afterTrailingComma(z.braceR))break;var a=n.parseProperty(t,e);n.checkPropClash(a,s),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")},nt.parseProperty=function(t,e){var n,i,r,s,a=this.startNode();return this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(t||e)&&(r=this.start,s=this.startLoc),t||(n=this.eat(z.star))),this.parsePropertyName(a),!t&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(i=!0,this.parsePropertyName(a,e)):i=!1,this.parsePropertyValue(a,t,n,i,r,s,e),this.finishNode(a,"Property")},nt.parsePropertyValue=function(t,e,n,i,r,s,a){if((n||i)&&this.type===z.colon&&this.unexpected(),this.eat(z.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===z.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,i);else if(e||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type==z.comma||this.type==z.braceR)this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?(this.checkUnreserved(t.key),t.kind="init",e?t.value=this.parseMaybeDefault(r,s,t.key):this.type===z.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,s,t.key)):t.value=t.key,t.shorthand=!0):this.unexpected();else{(n||i)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var o="get"===t.kind?0:1;if(t.value.params.length!==o){var l=t.value.start;"get"===t.kind?this.raiseRecoverable(l,"getter should have no params"):this.raiseRecoverable(l,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}},nt.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(z.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(z.bracketR),t.key;t.computed=!1}return t.key=this.type===z.num||this.type===z.string?this.parseExprAtom():this.parseIdent(!0)},nt.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},nt.parseMethod=function(t,e){var n=this.startNode(),i=this.inGenerator,r=this.inAsync,s=this.yieldPos,a=this.awaitPos,o=this.inFunction;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.inGenerator=n.generator,this.inAsync=n.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),this.expect(z.parenL),n.params=this.parseBindingList(z.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1),this.inGenerator=i,this.inAsync=r,this.yieldPos=s,this.awaitPos=a,this.inFunction=o,this.finishNode(n,"FunctionExpression")},nt.parseArrowExpression=function(t,e,n){var i=this.inGenerator,r=this.inAsync,s=this.yieldPos,a=this.awaitPos,o=this.inFunction;return this.enterFunctionScope(),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.inGenerator=!1,this.inAsync=t.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0),this.inGenerator=i,this.inAsync=r,this.yieldPos=s,this.awaitPos=a,this.inFunction=o,this.finishNode(t,"ArrowFunctionExpression")},nt.parseFunctionBody=function(t,e){var n=e&&this.type!==z.braceL,i=this.strict,r=!1;if(n)t.body=this.parseMaybeAssign(),t.expression=!0,this.checkParams(t,!1);else{var s=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);i&&!s||(r=this.strictDirective(this.end))&&s&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var a=this.labels;this.labels=[],r&&(this.strict=!0),this.checkParams(t,!i&&!r&&!e&&this.isSimpleParamList(t.params)),t.body=this.parseBlock(!1),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=a}this.exitFunctionScope(),this.strict&&t.id&&this.checkLVal(t.id,"none"),this.strict=i},nt.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1){if("Identifier"!==n[e].type)return!1}return!0},nt.checkParams=function(t,e){for(var n=this,i={},r=0,s=t.params;r<s.length;r+=1){var a=s[r];n.checkLVal(a,"var",e?null:i)}},nt.parseExprList=function(t,e,n,i){for(var r=this,s=[],a=!0;!this.eat(t);){if(a)a=!1;else if(r.expect(z.comma),e&&r.afterTrailingComma(t))break;var o=void 0;n&&r.type===z.comma?o=null:r.type===z.ellipsis?(o=r.parseSpread(i),i&&r.type===z.comma&&i.trailingComma<0&&(i.trailingComma=r.start)):o=r.parseMaybeAssign(!1,i),s.push(o)}return s},nt.checkUnreserved=function(t){var e=t.start,n=t.end,i=t.name;if(this.inGenerator&&"yield"===i&&this.raiseRecoverable(e,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(e,"Can not use 'await' as identifier inside an async function"),this.isKeyword(i)&&this.raise(e,"Unexpected keyword '"+i+"'"),!(this.options.ecmaVersion<6&&-1!=this.input.slice(e,n).indexOf("\\"))){(this.strict?this.reservedWordsStrict:this.reservedWords).test(i)&&this.raiseRecoverable(e,"The keyword '"+i+"' is reserved")}},nt.parseIdent=function(t,e){var n=this.startNode();return t&&"never"==this.options.allowReserved&&(t=!1),this.type===z.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(n,"Identifier"),t||this.checkUnreserved(n),n},nt.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type==z.semi||this.canInsertSemicolon()||this.type!=z.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(z.star),t.argument=this.parseMaybeAssign()),this.finishNode(t,"YieldExpression")},nt.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0),this.finishNode(t,"AwaitExpression")};var rt=G.prototype;rt.raise=function(t,e){var n=c(this.input,t);e+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(e);throw i.pos=t,i.loc=n,i.raisedAt=this.pos,i},rt.raiseRecoverable=rt.raise,rt.curPosition=function(){if(this.options.locations)return new H(this.curLine,this.pos-this.lineStart)};var st=G.prototype,at=Object.assign||function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=0,r=e;i<r.length;i+=1){var s=r[i];for(var a in s)u(s,a)&&(t[a]=s[a])}return t};st.enterFunctionScope=function(){this.scopeStack.push({var:{},lexical:{},childVar:{},parentLexical:{}})},st.exitFunctionScope=function(){this.scopeStack.pop()},st.enterLexicalScope=function(){var t=this.scopeStack[this.scopeStack.length-1],e={var:{},lexical:{},childVar:{},parentLexical:{}};this.scopeStack.push(e),at(e.parentLexical,t.lexical,t.parentLexical)},st.exitLexicalScope=function(){var t=this.scopeStack.pop(),e=this.scopeStack[this.scopeStack.length-1];at(e.childVar,t.var,t.childVar)},st.canDeclareVarName=function(t){var e=this.scopeStack[this.scopeStack.length-1];return!u(e.lexical,t)&&!u(e.parentLexical,t)},st.canDeclareLexicalName=function(t){var e=this.scopeStack[this.scopeStack.length-1];return!u(e.lexical,t)&&!u(e.var,t)&&!u(e.childVar,t)},st.declareVarName=function(t){this.scopeStack[this.scopeStack.length-1].var[t]=!0},st.declareLexicalName=function(t){this.scopeStack[this.scopeStack.length-1].lexical[t]=!0};var ot=function(t,e,n){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new W(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},lt=G.prototype;lt.startNode=function(){return new ot(this,this.start,this.startLoc)},lt.startNodeAt=function(t,e){return new ot(this,t,e)},lt.finishNode=function(t,e){return g.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},lt.finishNodeAt=function(t,e,n,i){return g.call(this,t,e,n,i)};var ut=function(t,e,n,i,r){this.token=t,this.isExpr=!!e,this.preserveSpace=!!n,this.override=i,this.generator=!!r},ct={b_stat:new ut("{",!1),b_expr:new ut("{",!0),b_tmpl:new ut("${",!1),p_stat:new ut("(",!1),p_expr:new ut("(",!0),q_tmpl:new ut("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new ut("function",!1),f_expr:new ut("function",!0),f_expr_gen:new ut("function",!0,!1,null,!0),f_gen:new ut("function",!1,!1,null,!0)},ht=G.prototype;ht.initialContext=function(){return[ct.b_stat]},ht.braceIsBlock=function(t){var e=this.curContext();return e===ct.f_expr||e===ct.f_stat||(t!==z.colon||e!==ct.b_stat&&e!==ct.b_expr?t===z._return||t==z.name&&this.exprAllowed?R.test(this.input.slice(this.lastTokEnd,this.start)):t===z._else||t===z.semi||t===z.eof||t===z.parenR||t==z.arrow||(t==z.braceL?e===ct.b_stat:t!=z._var&&t!=z.name&&!this.exprAllowed):!e.isExpr)},ht.inGeneratorContext=function(){for(var t=this,e=this.context.length-1;e>=1;e--){var n=t.context[e];if("function"===n.token)return n.generator}return!1},ht.updateContext=function(t){var e,n=this.type;n.keyword&&t==z.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr},z.parenR.updateContext=z.braceR.updateContext=function(){if(1==this.context.length)return void(this.exprAllowed=!0);var t=this.context.pop();t===ct.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr},z.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?ct.b_stat:ct.b_expr),this.exprAllowed=!0},z.dollarBraceL.updateContext=function(){this.context.push(ct.b_tmpl),this.exprAllowed=!0},z.parenL.updateContext=function(t){var e=t===z._if||t===z._for||t===z._with||t===z._while;this.context.push(e?ct.p_stat:ct.p_expr),this.exprAllowed=!0},z.incDec.updateContext=function(){},z._function.updateContext=z._class.updateContext=function(t){t.beforeExpr&&t!==z.semi&&t!==z._else&&(t!==z.colon&&t!==z.braceL||this.curContext()!==ct.b_stat)?this.context.push(ct.f_expr):this.context.push(ct.f_stat),this.exprAllowed=!1},z.backQuote.updateContext=function(){this.curContext()===ct.q_tmpl?this.context.pop():this.context.push(ct.q_tmpl),this.exprAllowed=!1},z.star.updateContext=function(t){if(t==z._function){var e=this.context.length-1;this.context[e]===ct.f_expr?this.context[e]=ct.f_expr_gen:this.context[e]=ct.f_gen}this.exprAllowed=!0},z.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&("of"==this.value&&!this.exprAllowed||"yield"==this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var ft=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new W(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},dt=G.prototype,pt="object"==typeof Packages&&"[object JavaPackage]"==Object.prototype.toString.call(Packages);dt.next=function(){this.options.onToken&&this.options.onToken(new ft(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},dt.getToken=function(){return this.next(),new ft(this)},"undefined"!==typeof Symbol&&(dt[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===z.eof,value:e}}}}),dt.curContext=function(){return this.context[this.context.length-1]},dt.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(z.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},dt.readToken=function(t){return r(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},dt.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);return t<=55295||t>=57344?t:(t<<10)+this.input.charCodeAt(this.pos+1)-56613888},dt.skipBlockComment=function(){var t=this,e=this.options.onComment&&this.curPosition(),n=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations){j.lastIndex=n;for(var r;(r=j.exec(this.input))&&r.index<this.pos;)++t.curLine,t.lineStart=r.index+r[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,i),n,this.pos,e,this.curPosition())},dt.skipLineComment=function(t){for(var e=this,n=this.pos,i=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!l(r);)r=e.input.charCodeAt(++e.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(n+t,this.pos),n,this.pos,i,this.curPosition())},dt.skipSpace=function(){var t=this;t:for(;this.pos<this.input.length;){var e=t.input.charCodeAt(t.pos);switch(e){case 32:case 160:++t.pos;break;case 13:10===t.input.charCodeAt(t.pos+1)&&++t.pos;case 10:case 8232:case 8233:++t.pos,t.options.locations&&(++t.curLine,t.lineStart=t.pos);break;case 47:switch(t.input.charCodeAt(t.pos+1)){case 42:t.skipBlockComment();break;case 47:t.skipLineComment(2);break;default:break t}break;default:if(!(e>8&&e<14||e>=5760&&D.test(String.fromCharCode(e))))break t;++t.pos}}},dt.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)},dt.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(z.ellipsis)):(++this.pos,this.finishToken(z.dot))},dt.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(z.assign,2):this.finishOp(z.slash,1)},dt.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,i=42===t?z.star:z.modulo;return this.options.ecmaVersion>=7&&42==t&&42===e&&(++n,i=z.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(z.assign,n+1):this.finishOp(i,n)},dt.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?this.finishOp(124===t?z.logicalOR:z.logicalAND,2):61===e?this.finishOp(z.assign,2):this.finishOp(124===t?z.bitwiseOR:z.bitwiseAND,1)},dt.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(z.assign,2):this.finishOp(z.bitwiseXOR,1)},dt.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!=e||this.inModule||62!=this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!R.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(z.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(z.assign,2):this.finishOp(z.plusMin,1)},dt.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(z.assign,n+1):this.finishOp(z.bitShift,n)):33!=e||60!=t||this.inModule||45!=this.input.charCodeAt(this.pos+2)||45!=this.input.charCodeAt(this.pos+3)?(61===e&&(n=2),this.finishOp(z.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},dt.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(z.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(z.arrow)):this.finishOp(61===t?z.eq:z.prefix,1)},dt.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(z.parenL);case 41:return++this.pos,this.finishToken(z.parenR);case 59:return++this.pos,this.finishToken(z.semi);case 44:return++this.pos,this.finishToken(z.comma);case 91:return++this.pos,this.finishToken(z.bracketL);case 93:return++this.pos,this.finishToken(z.bracketR);case 123:return++this.pos,this.finishToken(z.braceL);case 125:return++this.pos,this.finishToken(z.braceR);case 58:return++this.pos,this.finishToken(z.colon);case 63:return++this.pos,this.finishToken(z.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(z.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 126:return this.finishOp(z.prefix,1)}this.raise(this.pos,"Unexpected character '"+m(t)+"'")},dt.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)};var gt=!!v("\uffff","u");dt.readRegexp=function(){for(var t,e,n=this,i=this.pos;;){n.pos>=n.input.length&&n.raise(i,"Unterminated regular expression");var r=n.input.charAt(n.pos);if(R.test(r)&&n.raise(i,"Unterminated regular expression"),t)t=!1;else{if("["===r)e=!0;else if("]"===r&&e)e=!1;else if("/"===r&&!e)break;t="\\"===r}++n.pos}var s=this.input.slice(i,this.pos);++this.pos;var a=this.readWord1(),o=s,l="";if(a){var u=/^[gim]*$/;this.options.ecmaVersion>=6&&(u=/^[gimuy]*$/),u.test(a)||this.raise(i,"Invalid regular expression flag"),a.indexOf("u")>=0&&(gt?l="u":(o=o.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,e,r){return e=Number("0x"+e),e>1114111&&n.raise(i+r+3,"Code point out of bounds"),"x"}),o=o.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"),l=l.replace("u","")))}var c=null;return pt||(v(o,l,i,this),c=v(s,a)),this.finishToken(z.regexp,{pattern:s,flags:a,value:c})},dt.readInt=function(t,e){for(var n=this,i=this.pos,r=0,s=0,a=null==e?1/0:e;s<a;++s){var o=n.input.charCodeAt(n.pos),l=void 0;if((l=o>=97?o-97+10:o>=65?o-65+10:o>=48&&o<=57?o-48:1/0)>=t)break;++n.pos,r=r*t+l}return this.pos===i||null!=e&&this.pos-i!==e?null:r},dt.readRadixNumber=function(t){this.pos+=2;var e=this.readInt(t);return null==e&&this.raise(this.start+2,"Expected number in radix "+t),r(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(z.num,e)},dt.readNumber=function(t){var e=this.pos,n=!1,i=48===this.input.charCodeAt(this.pos);t||null!==this.readInt(10)||this.raise(e,"Invalid number"),i&&this.pos==e+1&&(i=!1);var s=this.input.charCodeAt(this.pos);46!==s||i||(++this.pos,this.readInt(10),n=!0,s=this.input.charCodeAt(this.pos)),69!==s&&101!==s||i||(s=this.input.charCodeAt(++this.pos),43!==s&&45!==s||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number"),n=!0),r(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a,o=this.input.slice(e,this.pos);return n?a=parseFloat(o):i&&1!==o.length?this.strict?this.raise(e,"Invalid number"):a=/[89]/.test(o)?parseInt(o,10):parseInt(o,8):a=parseInt(o,10),this.finishToken(z.num,a)},dt.readCodePoint=function(){var t,e=this.input.charCodeAt(this.pos);if(123===e){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t},dt.readString=function(t){for(var e=this,n="",i=++this.pos;;){e.pos>=e.input.length&&e.raise(e.start,"Unterminated string constant");var r=e.input.charCodeAt(e.pos);if(r===t)break;92===r?(n+=e.input.slice(i,e.pos),n+=e.readEscapedChar(!1),i=e.pos):(l(r)&&e.raise(e.start,"Unterminated string constant"),++e.pos)}return n+=this.input.slice(i,this.pos++),this.finishToken(z.string,n)};var vt={};dt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==vt)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},dt.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw vt;this.raise(t,e)},dt.readTmplToken=function(){for(var t=this,e="",n=this.pos;;){t.pos>=t.input.length&&t.raise(t.start,"Unterminated template");var i=t.input.charCodeAt(t.pos);if(96===i||36===i&&123===t.input.charCodeAt(t.pos+1))return t.pos!==t.start||t.type!==z.template&&t.type!==z.invalidTemplate?(e+=t.input.slice(n,t.pos),t.finishToken(z.template,e)):36===i?(t.pos+=2,t.finishToken(z.dollarBraceL)):(++t.pos,t.finishToken(z.backQuote));if(92===i)e+=t.input.slice(n,t.pos),e+=t.readEscapedChar(!0),n=t.pos;else if(l(i)){switch(e+=t.input.slice(n,t.pos),++t.pos,i){case 13:10===t.input.charCodeAt(t.pos)&&++t.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(i)}t.options.locations&&(++t.curLine,t.lineStart=t.pos),n=t.pos}else++t.pos}},dt.readInvalidTemplateToken=function(){for(var t=this;this.pos<this.input.length;this.pos++)switch(t.input[t.pos]){case"\\":++t.pos;break;case"$":if("{"!==t.input[t.pos+1])break;case"`":return t.finishToken(z.invalidTemplate,t.input.slice(t.start,t.pos))}this.raise(this.start,"Unterminated template")},dt.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return m(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(n,8);return i>255&&(n=n.slice(0,-1),i=parseInt(n,8)),"0"!==n&&(this.strict||t)&&this.invalidStringToken(this.pos-2,"Octal literal in strict mode"),this.pos+=n.length-1,String.fromCharCode(i)}return String.fromCharCode(e)}},dt.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return null===n&&this.invalidStringToken(e,"Bad character escape sequence"),n},dt.readWord1=function(){var t=this;this.containsEsc=!1;for(var e="",n=!0,i=this.pos,a=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=t.fullCharCodeAtPos();if(s(o,a))t.pos+=o<=65535?1:2;else{if(92!==o)break;t.containsEsc=!0,e+=t.input.slice(i,t.pos);var l=t.pos;117!=t.input.charCodeAt(++t.pos)&&t.invalidStringToken(t.pos,"Expecting Unicode escape sequence \\uXXXX"),++t.pos;var u=t.readCodePoint();(n?r:s)(u,a)||t.invalidStringToken(l,"Invalid Unicode escape"),e+=m(u),i=t.pos}n=!1}return e+this.input.slice(i,this.pos)},dt.readWord=function(){var t=this.readWord1(),e=z.name;return this.keywords.test(t)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+t),e=L[t]),this.finishToken(e,t)};var mt,_t,yt,bt="5.2.1"},function(t,e){},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return function(e){function n(){var t,e,s,a;i(this,n);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=s=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(l))),s.mouseDown=function(t){s.props.deselectItem();var e=new u.Path.Circle({center:t.point,fillColor:h()(),radius:d()(10,60)}),n=s.props.addItem(e.layer,{type:"Circle",pathData:e.getPathData(),fillColor:e.fillColor.toCSS(!0)});console.log(e),console.log(e.getPathData()),e.remove(),s.props.selectItem(n)},a=e,r(s,a)}return s(n,e),p(n,[{key:"render",value:function(){return l.a.createElement(t,Object.assign({},this.props,{circleToolMouseDown:this.mouseDown}))}}]),n}(o.Component)}e.a=a;var o=n(0),l=n.n(o),u=n(13),c=(n.n(u),n(26)),h=n.n(c),f=n(27),d=n.n(f),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return function(e){function n(){var t,e,s,a;i(this,n);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=s=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(l))),s.mouseDown=function(t){s.props.deselectItem();var e=new u.Path.Rectangle({center:t.point,fillColor:h()(),size:d()(20,120)}),n=s.props.addItem(e.layer,{type:"Rectangle",pathData:e.getPathData(),fillColor:e.fillColor.toCSS(!0)});console.log(e),console.log(e.getPathData()),e.remove(),s.props.selectItem(n)},a=e,r(s,a)}return s(n,e),p(n,[{key:"render",value:function(){return l.a.createElement(t,Object.assign({},this.props,{rectangleToolMouseDown:this.mouseDown}))}}]),n}(o.Component)}e.a=a;var o=n(0),l=n.n(o),u=n(13),c=(n.n(u),n(26)),h=n.n(c),f=n(27),d=n.n(f),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return function(e){function n(){var t,e,s,a;i(this,n);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return e=s=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(l))),s.mouseDown=function(t){s.props.deselectItem();var e=t.tool.view._project.hitTest(t.point,c);e&&e.item&&!e.item.locked&&(s.props.removeItem(e.item),s.props.deselectItem())},a=e,r(s,a)}return s(n,e),u(n,[{key:"render",value:function(){return l.a.createElement(t,Object.assign({},this.props,{deleteToolMouseDown:this.mouseDown}))}}]),n}(o.Component)}e.a=a;var o=n(0),l=n.n(o),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c={segments:!0,stroke:!0,fill:!0,tolerance:12}},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports=[{id:1,type:"Layer",children:[{id:2,type:"Path",strokeColor:"red",strokeScaling:!1,strokeWidth:2,pathData:"M177.02128,699.17021c14.25138,-14.25138 31.86427,-36.4945 40.85106,-54.46809c3.12112,-6.24223 0.90261,-39.93287 2.7234,-43.57447c6.67805,-13.3561 6.94469,-30.2298 13.61702,-43.57447c19.24589,-38.49177 46.93214,-79.61299 76.25532,-108.93617c0.9078,-0.9078 1.8156,-7.26241 2.7234,-8.17021c5.44352,-5.44352 15.59321,-15.59321 21.78723,-21.78723c0.9078,-0.9078 1.8156,-7.26241 2.7234,-8.17021c5.25033,-5.25033 19.26031,-8.36669 24.51064,-13.61702c8.71923,-8.71923 36.0829,-28.93507 49.02128,-35.40426c2.17872,-1.08936 5.99149,1.08936 8.17021,0c11.23195,-5.61598 18.72549,-18.89466 29.95745,-24.51064c5.37154,-2.68577 10.83304,-5.41652 16.34043,-8.17021c1.64432,-0.82216 6.91128,1.25893 8.17021,0c4.99894,-4.99894 14.04119,-9.744 21.78723,-13.61702c11.08241,-5.5412 24.60593,-21.83488 35.40426,-27.23404c1.65055,-0.82527 7.02899,-1.58218 8.17021,-2.7234c6.44051,-6.44051 19.68055,-22.09559 29.95745,-27.23404c2.47043,-1.23521 9.11605,-3.66924 10.89362,-5.44681c4.5806,-4.5806 9.0661,-15.42667 16.34043,-19.06383c13.35675,-6.67838 26.62094,-21.48068 38.12766,-27.23404c2.80818,-1.40409 20.90203,-7.28501 21.78723,-8.17021c21.266,-21.266 40.61421,-35.1674 59.91489,-54.46809c7.55898,-7.55898 22.41113,-30.26939 32.68085,-35.40426c14.6744,-7.3372 26.80547,-18.63526 38.12766,-29.95745c14.0874,-14.0874 26.92826,-23.89908 35.40426,-40.85106c1.86848,-3.73695 7.1589,-13.61702 10.89362,-13.61702"},{id:3,type:"Circle",fillColor:"red",pathData:"M140.02128,693.7234c0,-20.43454 16.56546,-37 37,-37c20.43454,0 37,16.56546 37,37c0,20.43454 -16.56546,37 -37,37c-20.43454,0 -37,-16.56546 -37,-37z"}]},{id:4,type:"Layer",children:[{id:5,type:"Path",strokeColor:"blue",strokeScaling:!1,strokeWidth:2,pathData:"M1481.53191,671.93617c0,-15.22643 -15.38771,-33.49883 -21.78723,-46.29787c-3.68828,-7.37656 -1.62558,-15.2426 -8.17021,-21.78723c-1.3617,-1.3617 1.3617,-6.80851 0,-8.17021c-3.18275,-3.18275 -10.17312,-7.44972 -13.61702,-10.89362c-3.61158,-3.61158 -5.90581,-11.81162 -8.17021,-16.34043c-3.4958,-6.9916 -12.27251,-14.99591 -16.34043,-19.06383c-1.28383,-1.28383 1.28383,-4.16298 0,-5.44681c-6.70708,-6.70708 -14.18438,-19.63118 -19.06383,-24.51064c-3.75349,-3.75349 -5.72983,-14.18307 -8.17021,-19.06383c-3.25972,-6.51943 -32.28249,-40.65189 -38.12766,-43.57447c-11.66067,-5.83034 -37.29955,3.67105 -46.29787,8.17021c-6.78981,3.3949 -17.81671,-0.62356 -24.51064,2.7234c-11.72649,5.86325 -60.70265,10.89362 -76.25532,10.89362c-7.92044,0 -25.75036,3.46524 -32.68085,0c-5.11088,-2.55544 -3.91631,-8.76667 -8.17021,-10.89362c-8.59932,-4.29966 -24.9638,-22.69355 -29.95745,-32.68085c-1.62244,-3.24488 -2.98742,-11.15763 -5.44681,-13.61702c-4.76092,-4.76092 -15.94967,-15.94967 -21.78723,-21.78723c-2.4151,-2.4151 -1.08214,-7.61108 -2.7234,-10.89362c-0.85319,-1.70638 -9.86975,-9.86975 -10.89362,-10.89362c-2.4277,-2.4277 -1.27724,-8.00129 -2.7234,-10.89362c-0.78331,-1.56662 -19.24945,-20.51834 -21.78723,-21.78723c-5.80993,-2.90496 -15.9773,2.90496 -21.78723,0c-9.44213,-4.72106 -60.26317,-5.27267 -70.80851,0c-2.85723,1.42862 -11.44331,-2.17372 -13.61702,0c-0.64191,0.64191 0.81196,2.31742 0,2.7234c-6.53617,3.26809 -17.97447,-3.26809 -24.51064,0c-4.90906,2.45453 -37.91212,5.55458 -43.57447,2.7234c-11.8988,-5.9494 -20.06284,-31.81866 -27.23404,-35.40426c-5.00704,-2.50352 -14.59806,-10.13229 -19.06383,-19.06383c-0.82527,-1.65055 -1.58218,-7.02899 -2.7234,-8.17021c-6.26156,-6.26156 -11.64263,-14.36604 -16.34043,-19.06383c-1.20622,-1.20622 -6.26576,-20.70173 -8.17021,-24.51064c-1.8156,-3.63121 1.8156,-9.98582 0,-13.61702c-4.40905,-8.8181 -16.34043,-71.21626 -16.34043,-81.70213c0,-15.83637 1.94661,-40.07426 10.89362,-49.02128c1.9013,-1.9013 -0.05808,-19.00575 5.44681,-24.51064c0.64191,-0.64191 0,-1.8156 0,-2.7234c0,-10.39875 3.95772,-21.53247 8.17021,-29.95745c0.81142,-1.62284 2.7234,-15.2005 2.7234,-8.17021"},{id:6,type:"Circle",fillColor:"blue",pathData:"M1440.3617,674.65957c0,-20.43454 16.56546,-37 37,-37c20.43454,0 37,16.56546 37,37c0,20.43454 -16.56546,37 -37,37c-20.43454,0 -37,-16.56546 -37,-37z"}]}]},function(t,e,n){t.exports=n.p+"static/media/mr-bubbles-480.742e048e.jpg"},function(t,e,n){t.exports=n.p+"static/media/mr-bubbles-720.5f5ddb2a.jpg"},function(t,e,n){t.exports=n.p+"static/media/mr-bubbles-1080.b2615d24.jpg"},function(t,e){},function(t,e,n){"use strict";function i(){if("serviceWorker"in navigator){if(new URL("/react-paper-bindings",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="/react-paper-bindings/service-worker.js";a?s(t):r(t)})}}function r(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}function s(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):r(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}e.a=i;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.37b29832.js.map